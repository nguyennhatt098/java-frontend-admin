{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-fw4c/lib/components/shared/validation/validation.model.ts","ng://ngx-fw4c/lib/components/shared/enums/base.enum.ts","ng://ngx-fw4c/lib/components/shared/models/base.model.ts","ng://ngx-fw4c/lib/components/auth/auth.const.ts","ng://ngx-fw4c/lib/components/shared/services/data.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.provider.ts","ng://ngx-fw4c/lib/components/shared/services/cache.service.ts","ng://ngx-fw4c/lib/components/shared/constants/key.const.ts","ng://ngx-fw4c/lib/components/shared/services/setting.service.ts","ng://ngx-fw4c/lib/components/shared/services/action.service.ts","ng://ngx-fw4c/lib/components/shared/services/aggregator.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.module.ts","ng://ngx-fw4c/lib/components/shared/models/setting.model.ts","ng://ngx-fw4c/lib/components/shared/models/notification.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.const.ts","ng://ngx-fw4c/lib/components/shared/modals/components/notification/notification.component.ts","ng://ngx-fw4c/lib/components/shared/modals/components/confirm/confirm.component.ts","ng://ngx-fw4c/lib/components/shared/services/mock.service.ts","ng://ngx-fw4c/lib/components/shared/services/menu.service.ts","ng://ngx-fw4c/lib/components/shared/services/utils.service.ts","ng://ngx-fw4c/lib/components/shared/services/base-notification.service.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.component.ts","ng://ngx-fw4c/lib/components/shared/modals/components/template/template.component.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.service.ts","ng://ngx-fw4c/lib/components/shared/modals/components/loading/loading.component.ts","ng://ngx-fw4c/lib/components/shared/loader/html.pipe.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.module.ts","ng://ngx-fw4c/lib/components/shared/button/button/button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-buttons.component.ts","ng://ngx-fw4c/lib/components/shared/button/button.module.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.module.ts","ng://ngx-fw4c/lib/components/auth/auth.model.ts","ng://ngx-fw4c/lib/components/auth/auth.service.ts","ng://ngx-fw4c/lib/components/shared/triggers/animation.trigger.ts","ng://ngx-fw4c/lib/components/auth/auth.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-director-extra-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form-director.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form.component.ts","ng://ngx-fw4c/lib/components/shared/form/form.module.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.component.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.module.ts","ng://ngx-fw4c/lib/components/auth/permission.provider.ts","ng://ngx-fw4c/lib/components/shared/pages/404/404.component.ts","ng://ngx-fw4c/lib/components/shared/pages/403/403.component.ts","ng://ngx-fw4c/lib/components/shared/pages/400/400.component.ts","ng://ngx-fw4c/lib/components/shared/pages/page.module.ts","ng://ngx-fw4c/lib/components/auth/auth.module.ts","ng://ngx-fw4c/lib/components/shared/tab/tab-item.component.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.component.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.module.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/daterange/daterange.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime/datetime.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime-picker.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.model.ts","ng://ngx-fw4c/lib/components/shared/file/file.service.ts","ng://ngx-fw4c/lib/components/shared/file/file.const.ts","ng://ngx-fw4c/lib/components/shared/file/file.provider.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.component.ts","ng://ngx-fw4c/lib/components/shared/file/file.component.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.module.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.adaptor.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.component.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.module.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.component.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.module.ts","ng://ngx-fw4c/lib/components/shared/card/card.component.ts","ng://ngx-fw4c/lib/components/shared/card/card.module.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionlink.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionanchor.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.module.ts","ng://ngx-fw4c/lib/components/shared/formatter/currency.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/date.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/datetime.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/time.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/number.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/badge.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/safe.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/oembed-video.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/kb.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/file.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/formatter.module.ts","ng://ngx-fw4c/lib/components/shared/constants/menu.const.ts","ng://ngx-fw4c/lib/components/layout/layout.service.ts","ng://ngx-fw4c/lib/components/layout/backsite-layout.component.ts","ng://ngx-fw4c/lib/components/layout/breadcrumbs.component.ts","ng://ngx-fw4c/lib/components/layout/customizer.component.ts","ng://ngx-fw4c/lib/components/layout/footer.component.ts","ng://ngx-fw4c/lib/components/layout/header.component.ts","ng://ngx-fw4c/lib/components/layout/navbar.component.ts","ng://ngx-fw4c/lib/components/layout/sidebar.component.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.provider.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.component.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.module.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.component.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.module.ts","ng://ngx-fw4c/lib/components/shared/table/table-row-detail.directive.ts","ng://ngx-fw4c/lib/components/shared/table/table.model.ts","ng://ngx-fw4c/lib/components/shared/table/table.component.ts","ng://ngx-fw4c/lib/components/shared/table/table.module.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/full-media/full-media.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer/media-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/viewer/gallery/gallery.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.module.ts","ng://ngx-fw4c/lib/components/shared/radio/radio-item/radio-item.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.module.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.component.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.module.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.component.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.module.ts","ng://ngx-fw4c/lib/components/shared/panel/panel-header.directive.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.component.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.module.ts","ng://ngx-fw4c/lib/components/shared/list/list-item.directive.ts","ng://ngx-fw4c/lib/components/shared/list/list.component.ts","ng://ngx-fw4c/lib/components/shared/list/list.module.ts","ng://ngx-fw4c/lib/components/shared/treeview/treeview.component.ts","ng://ngx-fw4c/lib/components/shared/treeview/treeview.module.ts","ng://ngx-fw4c/lib/components/layout/toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/floating-toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/recommendation/recommendation.component.ts","ng://ngx-fw4c/lib/components/auth/router.handler.ts","ng://ngx-fw4c/lib/components/layout/layout.module.ts","ng://ngx-fw4c/lib/fw4c.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__values","o","m","Symbol","iterator","next","value","done","__read","r","e","ar","push","error","__spread","concat","SummaryError","init","ValidationRuleResponse","overridenErrorMessage","errorMessage","RequiredValidationRule","_super","_this","key","ValidationConstant","Required","tslib_1.__extends","ValidationRule","EmailValidationRule","Email","PhoneValidationRule","Phone","CustomValidationRule","execute","required","isValid","Custom","rules","dirtyCheck","errorMessageClass","ErrorMessageClass","errorElementClass","ErrorElementClass","successElementClass","SuccessElementClass","ClientValidator","options","relatedValidationProviders","requiredMessage","invalidMessage","ChangedItem","change","ErrorMessage","DefaultErrorStyles","DefaultErrorClass","AttributeName","AttributeOptionName","AttributeDynamicName","ErrorTargetId","DynamicErrorAttribute","ERROR_ELEMENT_ID","ERROR_ITEM_ELEMENT_ID","VALIDATION_ID","ARRAY_SEQUENCE_ID","ToolbarAction","Save","Cancel","Back","SaveAll","EditColumnOptions","SaveAndNew","Reset","ChangeType","Update","Add","Delete","BaseRequest","MockData","SearchBaseRequest","BaseTemplate","AggregatorViewModel","ButtonDefinition","style","ToolbarActionPayload","ObjectChange","LookupItem","ExtendedMainMenuGroup","KeyValueItem","BreadCrumbItem","ControlType","Textbox","Dropdown","Button","MenuTab","MenuItem","Breadcrumb","MediaItem","Audit","TrackingGroup","TrackingDetail","RecommendationResponse","show","label","deboundTime","all","AuthConst","Token","DataService","_sanitizer","getToken","callback","jsonToken","localStorage","getItem","token","JSON","parse","cloneItem","item","response","fields","keys","forEach","field","cloneItems","items","id","newItem","newGuid","transformToSafeHtml","input","bypassSecurityTrustHtml","initDebounceTime","time","delegator","Subject","pipe","debounceTime","subscribe","action","removeHTML","str","replace","removeAllSpaces","replaceAt","substring","isValidEmail","email","test","convertUCode","c","indexOf","fuzzysearch","needle","haystack","haystackLC","toLowerCase","needleLC","hlen","nlen","outer","j","nch","Math","random","toString","isNullOrEmpty","obj","undefined","toPascalCase","text","lowerCase","toUpperCase","compareObjects","source","target","changes","sourceProperties","getOwnPropertyNames","targetProperties","addedProperties","filter","x","removedProperties","modifiedProperties","modifiedProperties_1","tslib_1.__values","modifiedProperties_1_1","property","_.isEqual","propertyName","changeType","oldValue","newValue","map","getField","valueRef","isNumber","isDigit","Injectable","args","providedIn","DomSanitizer","ValidationProvider","of","isRequired","phone","isValidPhone","trimmedValue","trim","isArray","CacheService","set","data","window","setItem","stringify","get","remove","removeItem","KeyConst","ViewImage","PageChanged","NewNotifications","MenuChanged","SignOut","AuthApi","Key","SecretKey","KeywordChanged","Search","Reload","SettingService","httpClient","_cacheService","search","request","params","useMock","currentValue","useKey","useSecretKey","HttpClient","ActionService","_settingService","executeAsync","timeout","setTimeout","scrollTop","scrollTo","isMobile","userAgent","navigator","verify","changeItem","menuTabs","parent","retrieveParent","state","find","name","url","mainState","children","k","retrieveChild","retrieveStateName","AggregatorService","emitters","publish","currentEmitter","register","emit","index","findIndex","splice","hasKey","emitter","EventEmitter","ValidationService","rendererFactory","validationProvider","_dataService","_actionService","_aggregatorService","onDestroy","elements","errClass","styles","attributeName","relatedProviders","subscriptions","Subscription","virtualValidationOptions","changedItems","renderer","createRenderer","ngOnDestroy","unsubscribe","model","validator","payloadRef","addRelatedProviders","option","displayText","validationName","element","rowIndex","displayingRowIndex","dynamic","updateAsync","setKey","relatedProvidersToRegister","registerElements","registerEvents","validCallback","invalidCallback","retrieveSummaryErrors","focus","errors","el","valid","payload","fieldValue","valueResolver","handleErrors","res","commit","take","setElementError","removeClass","addClass","errorElement","findErrorElement","createElement","setAttribute","parentElement","parentNode","appendChild","errorItemElementKey","errorItemElement","findErrorItemElement","dynamicSequenceId","findDynamicSequenceId","createText","clearErrorItemElement","removeChild","isDirty","syncErrorMessages","errorMessages","messages","validateElementAsync","errors$","validateElement","newOption","errorBatch","forkJoin","relatedErrors","reduce","previous","provider","subErrors$","merge","defaultIfEmpty","result","itemRef","validatedActions$","Error","requiredRule","sequenceId","status","message","validatedActions","relevantFields","validateRelevantFields","attributes","findElementOption","validationOption","validationIdAttribute","validationId","from","sequenceIdAttribute","nonDynamicOptions","nonDynamicElements","current","query","scope","formRef","nativeElement","querySelectorAll","generatedDynamicOptions","dynamicElements","clonedOptions","elementOption","focusoutListener","listen","handleBlurEvent","$event","currentItem","rule","providers","newProviders","_a","RendererFactory2","Output","ValidationModule","forRoot","ngModule","NgModule","declarations","imports","SettingSearchRequest","SettingSearchResponse","BaseResponse","GetLookupItemsRequest","GetLookupItemsResponse","SendNotificationRequest","notificationTypes","payloadItems","recipients","SendNotificationResponse","NotificationType","Sms","Local","EditNotificationThreadViewModel","detailGroups","NotificationDetailGroup","details","NotificationDetail","RetrieveNotificationThreadRequest","RetrieveNotificationThreadResponse","NotificationTemplateVariable","OrderIdentifier","PendingApprovalProductsCount","SuppliersCount","PendingInquiriesCount","BuyerName","ProductName","RegisterChannelRequest","SendLiveNotificationRequest","RemoveNotificationDetailRequest","RemoveNotificationDetailResponse","RemoveNotificationDetailGroupType","All","GroupByDate","Single","RetrieveNotificationDetailRequest","RetrieveNotificationDetailResponse","SearchInboxNotificationsRequest","SearchInboxNotificationsResponse","MarkAllNotificationsReadRequest","MarkAllNotificationsReadResponse","threshold","NotificationViewModel","hideCancelBtn","ConfirmViewModel","hideAcceptBtn","ItemViewModel","lazyload","TemplateViewModel","ModalServiceConstant","Mode","Create","Picker","NotificationComponent","_sanitizationService","_modalRef","html","cancel","hide","autoClose","Component","selector","template","encapsulation","ViewEncapsulation","None","BsModalRef","ConfirmComponent","cancelCallback","accept","acceptCallback","MockService","delay","MenuService","tabs","menuTabbedItems","role","menu","subName","loadMenuItems","tab","loadFirstTabItems","currentMenu","loadFirstTab","getTabs","UtilityService","BaseNotificationService","LoaderComponent","_componentFactoryResolver","_viewContainerRef","ngAfterViewInit","createComponent","clear","factory","resolveComponentFactory","componentRef","instance","rootNodes","containerRef","ComponentFactoryResolver","ViewContainerRef","Input","ViewChild","static","TemplateComponent","loader","close","getValidator","validationKey","closeModal","mode","ModalService","_bsModalService","Ng4LoadingSpinnerService","showLoading","hideLoading","showNotificationDialog","customCss","customSize","center","_modalInstance","backdrop","class","keyboard","ignoreBackdropClick","animated","content","showConfirmDialog","showTemplateDialog","BsModalService","LoadingComponent","ngOnInit","LoadingViewModel","HtmlPipe","transform","v","Pipe","LoaderModule","CommonModule","FormsModule","ReactiveFormsModule","entryComponents","exports","ButtonComponent","customClass","disabled","loadingIcon","loading","handleAction","preventdefault","retrieveButtonClass","triggerClick","btn","click","DropdownButtonComponent","TemplateRef","DropdownButtonsComponent","ContentChildren","ButtonModule","BsDropdownModule","CModalModule","ComponentLoaderFactory","PositioningService","ModalModule","Ng4LoadingSpinnerModule","system","SystemViewModel","roles","permissions","AuthenticationViewModel","RoleViewModel","PermissionViewModel","page","PageViewModel","activities","ActivityViewModel","AuthenticationLoginRequest","AuthenticationLoginResponse","AuthenticationCreateRequest","AuthenticationCreateResponse","AuthenticationUpdateRequest","AuthenticationUpdateResponse","AuthenticationRetrieveRequest","AuthenticationRetrieveResponse","AuthenticationDeleteRequest","AuthenticationDeleteResponse","AuthenticationSearchRequest","AuthenticationSearchResponse","SearchBaseResponse","AuthenticationService","dataService","settingService","_router","user","currentUser","setApi","getApi","mockData","retrieve","userName","login","post","update","put","delete","ids","refresh","refreshToken","secret","logout","path","navigate","location","href","Router","fadeInOut","trigger","transition","opacity","animate","fadeDownInOut","fadeRightInOut","AuthComponent","route","_authenticationService","_validationService","title","success","completed","succeedPath","api","mock","initValidations","ValidationOption","password","animations","ActivatedRoute","FormDirectorExtraItemDirective","Directive","FormDirectorComponent","direction","alignVertical","FormItemDirective","FormComponent","column","smallWidth","mediumWidth","largeWidth","ngOnChanges","firstChange","FormModule","TextboxComponent","type","placeholder","readonly","maxCharacters","emitNullOnDestroy","modelChange","typing","enter","document","getElementsByTagName","setDefault","handleKeyup","which","handleEnter","preventDefault","submitNumeric","minNumber","event","maxNumber","getElement","ContentChild","CustomCurrencyMaskConfig","align","allowNegative","decimal","precision","prefix","suffix","thousands","TextboxModule","CurrencyMaskModule","provide","CURRENCY_MASK_CONFIG","useValue","PermisisonProvider","authenticationService","hasPermisison","permisisonKey","activityKey","currentPermisison","retrieveCurrentPermission","enabled","NotFoundComponent","gotoHome","AccessDeniedComponent","_location","back","Location","WorkingComponent","PageModule","AuthModule","TabItemComponent","TabComponent","_changeDetectorRef","displayMode","activeTabIndex","clicked","switchTab","tabIndex","detectChanges","ChangeDetectorRef","TabModule","DaterangePickerComponent","startView","pickerType","pickerMode","selectMode","DatetimePickerComponent","DatetimePickerModule","forChild","OWL_DATE_TIME_LOCALE","OwlDateTimeIntl","useClass","DefaultDateTimeLabels","OwlDateTimeModule","OwlNativeDateTimeModule","upSecondLabel","downSecondLabel","upMinuteLabel","downMinuteLabel","upHourLabel","downHourLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","cancelBtnLabel","setBtnLabel","rangeFromLabel","rangeToLabel","hour12AMLabel","hour12PMLabel","FileViewModel","FileRequest","FileResponse","FileService","uploadFiles","uploadProgress","file","HttpResponse","body","src","createdDate","Date","lastModifiedDate","createdBy","lastModifiedBy","FileConst","AcceptedFiles","MaxSize","FileProvider","_fileService","_modalService","uploadAsync","files","attachments","fileRef","buildRequest","calculateTotalBytes","btnTitle","others","uploadFileAsync","otherTypes_1","btnAcceptTitle","btnCancelTitle","totalAmount","attachment","size","otherFiles","reader_1","FileReader","readAsDataURL","onloadend","base64String","CropperComponent","cutRatio","resizeToWidth","maintainAspectRatio","imageChangedEvent","croppedImage","showCropper","setImage","image","eventFile","imageLoaded","cropperReady","loadImageFailed","imageCropped","base64","getErrors","UploaderComponent","modalService","fileService","icon","multiple","maxSize","fileType","changeLoading","changeProgress","fileUploaded","progress","onFileUploaded","validationResult","initValidation","cropImage","reader","loadEvent","imageElement","base64FileParts","split","base64FileData","finalize","uploadedFilePath","uploadFileSubscription","tap","HttpEventType","UploadProgress","round","loaded","total","Response","err","console","log","add","initExtentionFile","types","extension","currentTypes","CropperModule","LibraryModule","FileModule","EditorAdapter","upload","then","Promise","resolve","base64Data","default","EditorComponent","plainTextChange","editor","Editor","config","height","plainText","nativeEditor","elementRef","textContent","ready","plugins","createUploadAdapter","ui","getEditableElement","EditorModule","CKEditorModule","DropdownComponent","changeDetectorRef","bindLabel","bindValue","closeOnSelect","dropdownPosition","loadingText","notFoundText","pageSize","typeToSearchText","searchable","totalItems","searchItems","searchText$","BehaviorSubject","currentPage","numberOfItemsFromEndBeforeFetchingMore","fetchMore$","search$","distinctUntilChanged","switchMap","searchFunction","rebind","pageIndex","getValue","append","beforeSearch","afterSearch","afterSearchSubscription","skip","onBlur","scroll","lastIndex","fetchMore","totalRecords","markForCheck","DropdownModule","NgSelectModule","CardComponent","classHeader","cardToggle","cardClose","loadCard","isCardToggled","toggleCard","closeCard","fullScreen","fullCard","fullCardIcon","cardRefresh","cardLoad","overflow","AUTO_STYLE","display","CardModule","AccordionDirective","router","navlinks","countState","closeOtherLinks","openLink","group","innerWidth","querySelector","link","open","addLink","removeGroup","getUrl","events","NavigationEnd","AccordionLinkDirective","nav","defineProperty","_open","classList","toggle","decorators","Inject","HostBinding","AccordionAnchorDirective","navlink","onClick","HostListener","AccordionModule","CurrencyPipe","digits","locale","DecimalPipe","CDatePipe","DatePipe","CDatetimePipe","TimePipe","NumberPipe","BadgePipe","SafePipe","sanitizer","CembedVideoPipe","extractOembedTagPattern","RegExp","extractOembedTagsResult","exec","oembedTags","tag","KbPipe","FilePipe","pipes","FormatterModule","MenuKey","Admin","Admin2","DefaultLayoutService","toolbarItems","navType","themeLayout","vNavigationView","verticalPlacement","verticalLayout","deviceType","verticalNavType","verticalEffect","pcodedHeaderPosition","pcodedSidebarPosition","headerTheme","logoTheme","toggleOn","headerFixedMargin","navBarTheme","activeItemTheme","isCollapsedMobile","chatToggle","chatToggleInverse","chatInnerToggle","chatInnerToggleInverse","menuTitleTheme","itemBorder","itemBorderStyle","subItemBorder","subItemIcon","dropDownIcon","isSidebarChecked","isHeaderChecked","scrollHeight","screen","innerHeight","windowWidth","setMenuAttributes","navigationSubscription","onResize","reSizeFlag","toggleOpened","onClickedOutside","onMobileMenu","toggleChat","toggleChatInner","setSidebarPosition","setHeaderPosition","setBackgroundPattern","pattern","setLayoutType","layoutType","setNavBarTheme","theme","initToolbarItems","actions","getToolbarItems","hasToolbarItems","showImage","AdminLayoutComponent","workspaceLayoutService","actionService","aggregatorService","cacheService","permisisonProvider","notifications","logo","isModalShow","modalImageSrc","imageAltText","breadcrumbs","authUrl","setActive","menuType","forbidden","notFound","previousPath","recommendation","altText","breadcrumb","profileUrl","searchPlaceholder","checkPermision","reload","isAuthPage","closeImage","hasForbidden","changeMenu","DefaultBreadcrumbsComponent","selectItem","child","DefaultCustomizerComponent","toggleRightbar","configOpenRightBar","DefaultFooterComponent","DefaultHeaderComponent","layoutService","menuService","menuItems","isSupplier","toggleMenu","debound","initMenu","keyword","setTemplate","setRecommendation","selected","selectedMenu","getParentLink","getChildLink","selectSubMenu","currentUrl","isCollapsedSideBar","setMenu","paths","kid","currentChild","DefaultNavBarComponent","hideBreadcrumbsSection","states","retrieveCurrentItem","DefaultSidebarComponent","collapsedItems","isPageLoad","selectMenu","navigateTo","toggleOpenedSidebar","loadMenu","toLocaleLowerCase","LoaderProvider","SpinnerComponent","isSpinnerVisible","routerSubscription","NavigationStart","NavigationCancel","NavigationError","SpinnerModule","CheckboxComponent","customModelChange","customModel","customModelTransformation","onModelChange","CheckboxModule","TableRowDetailDirective","TableColumn","TableSorter","TableAction","TableConstant","ActionType","Inline","TableText","placeholderSearch","DisplayText","PlaceholderSearch","btnSearch","BtnSearch","btnReset","BtnReset","Action","selectPageSize","SelectPageSize","deleteTitle","DeleteTitle","BtnAcceptTitle","BtnCancelTitle","filterTitle","FilterTitle","applyFilter","ApplyFilter","detailTitle","DetailTitle","pageTitle","PageTitle","advancedSearchTitle","AdvancedSearchTitle","advancedBtnTitle","AdvancedBtnTitle","advancedBtnCancelTitle","AdvancedBtnCancelTitle","allTitle","AllTitle","actionIcon","ActionIcon","TableMessage","notFoundMessage","Message","NotFoundMessage","foundMessage","FoundMessage","invalidFormatMessage","InvalidFormatMessage","selectedItemsMessage","SelectedItemsMessage","confirmSelectAllRecordsMessage","ConfirmSelectAllRecordsMessage","confirmClearAllRecordsMessage","ConfirmClearAllRecordsMessage","deleteMessage","DeleteMessage","loadingMessage","LoadingMessage","refMessage","RefMessage","TableDatetimeFormat","format","full","EdittedField","ChangedCell","ChangedRow","TableOption","datetimeFormat","mainColumns","topButtons","defaultPageSize","totalToolbarItem","TableMode","hideSequenceColumn","hideCheckboxColumn","inlineEdit","hasColumnFilter","compact","ComponentClass","DatetimeLocate","PageSizes","Direction","ASC","DESC","TextAlign","Left","Right","Center","Edit","Both","Toolbar","TableColumnType","Number","String","DateTime","DateRange","DateTimeRange","Time","TimeRange","Boolean","Description","Currency","TableComponent","thisElement","validationService","excelExporterService","selectedChange","selectedItems","totalPages","maxPage","selectedAll","filterColumns","toolbarActions","inlineActions","filterSectionToggle","textSearched","showReset","changePage$","changedRows","localFilter","previousRequest","recursiveCounter","edittedFields","previousItems","_render","changePageSubscription","searchAsync","defaultOrderBy","defautOrderDirection","componentClass","maxLenghtext","initTableTableTexts","initTableTableMessages","initMainColumns","inFullMode","allowFilter","sort","a","order","hasFilterSection","paging","pageSizes","hasToolbarActions","hasTopButtons","hasToolbarSection","hasFooterSection","hasPageSizeChooser","copy","copyItem","localData","exportToExcel","fileName","req","searchLocalItems","serviceProvider","exportedItem","exportData","IgxExcelExporterOptions","getTime","resetChanges","changeEditor","ref","val","acceptInlineEdit","previousItem","currentField","cells","cellIndex","currentItemIndex","oldItem","closeInlineEdit","cancelInlineEdit","retrieveInlineEdit","itemIndex","editInline","hasInlineEdit","resetFilters","getToolbarActions","standard","changePageSize","handkeKeypress","goto","blur","toggleFilterSection","showSorter","toggleRowDetail","sortAsync","resetSortAsync","allowSort","orderBy","selectAll","clearAll","existingItemIndex","isRowSelected","hasAnyAction","executeActionAsync","loadedCallback","isActive","checkedRow","getCurrentIndex","getDropdownDisplayText","values","dropdownConfiguration","join","getPages","pages","count","floor","keepSelectedItems","filterByColumn","advancedFilter","trackRecords","record","bindResultData","checkedAllPageItems","check","setDefaultOrder","setFilter","retrieveAdvancedFilters","datetimeValues","convertDatetime","searchText","searchFields","dt","convertedDatetime","days","getDate","months","getMonth","hours","getHours","minutes","getMinutes","year","getFullYear","localResult_1","calculatePages","currentColumn","textAlign","validationOptions","wrapper","gotoRef","max","parseInt","ElementRef","IgxExcelExporterService","TableModule","NgStringPipesModule","FullMediaComponent","videoPlayerHtml","generateHtml","videoTag","fullSrc","MediaViewerComponent","removed","videoId","thumbnailHtml","viewMedia","MediaViewerModule","ImageViewerComponent","defaultImageUrl","editable","imageRemoved","radious","imageSrc","removeImage","selectImage","ImageViewerModule","GalleryComponent","initTable","tableRef","headers","customTemplate","imageTemplate","nameTemplate","sizeTemplate","ViewerComponent","isLoading","images","useLibrary","componentTitle","uploadDialogTitle","uploadDialogIcon","uploadTitle","uploadIcon","openGalleryTitle","openGalleryIcon","zoomPrimaryImage","onOpenUserMediaGallery","addImage","setLoading","openUserMediaGallery","galleryItems","code","ViewerModule","ImageCropperModule","NgxDnDModule","RadioItemComponent","checked","stopPropagation","selectedCallBack","select","registerSelectedCallback","RadioComponent","ngAfterContentInit","groupIndex","y","RadioModule","TimelineComponent","TimelineModule","ChipComponent","onAdd","onRemove","handleBlur","ChipModule","TagInputModule","PanelHeaderDirective","PanelComponent","includeBorder","expand","PanelModule","ListItemDirective","ListComponent","eventSelect","emptyListMessage","itemSelected","isSelected","getSelectedItems","fetchMoreSubsription","ListModule","TreeViewComponent","nodes","TreeViewModule","TreeModule","DefaultToolbarComponent","errorContainer","onButtonClicked","createEmbeddedView","errorTemplate","read","FloatingToolbarComponent","widthProcess","clickHide","bottom","RecommendationComponent","RouterHandler","handleError","LayoutModule","ErrorHandler","RouterModule","ClickOutsideModule","Framework4CModule","BrowserModule","BrowserAnimationsModule","HttpClientModule"],"mappings":"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GACAvB,GACA9Y,GACAgJ,GACArK,GACAuB,IAEFlB,QAAS,CACPkf,GACA6B,GACAG,GACAG,GACAC,GACAsB,GACAI,GACAoW,GACAM,GACAI,QAkBJG,EAlFA,GCAAI,GAAA,WAsCA,SAAAA,KA8EA,OATgBA,EAAAxjC,QAAd,WACE,MAAO,CACLC,SAAUujC,EACV9jC,UAAW,CACTrI,GACAylC,EAAAA,+CA1EP58B,EAAAA,SAAQhN,KAAA,CAAC,CACRkN,QAAS,CACP2I,EAAAA,aACAC,EAAAA,YACAC,EAAAA,oBACAw6B,EAAAA,cACAC,EAAAA,wBACAC,EAAAA,iBACA7vB,GACA6J,GACAxT,GACAgX,GACA8B,GACAlT,GACAwzB,EAAAA,mBACArW,GACA/L,GACAqM,GACA1b,GACAirB,GACA3gB,GACAuhB,GACAS,GACA2B,GACAa,GACAE,GACAK,GACAM,GACAS,GACAG,GACAnvB,GACAsR,GAAgBlQ,WAChBvU,GAAiBC,UACjBqK,GAAarK,UACbmT,GAAWnT,UACXqU,GAAqBC,WACrB8uB,GAAapjC,WAEfmJ,QAAS,CACPgK,GACAW,GACAzJ,GACAgK,GACAsJ,GACA5N,GACAkQ,GACAiN,GACA/L,GACAhX,GACA8Y,GACAuK,GACA1b,GACAirB,GACA3gB,GACAuhB,GACAS,GACA2B,GACAa,GACAE,GACAK,GACAM,GACAS,GACAG,GACAnvB,IAEFxT,UAAW,OAab8jC,EApHA","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { ElementRef } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ValidationService } from './validation.service';\r\n\r\nexport interface IValidation {\r\n    callback(): Observable<any>;\r\n    getErrors(): Observable<SummaryError[]>;\r\n}\r\n\r\nexport class SummaryError {\r\n    element: ElementRef;\r\n    messages: string[];\r\n    constructor(init?: Partial<SummaryError>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationRuleResponse {\r\n    status?: boolean;\r\n    message?: string;\r\n    constructor(init?: Partial<ValidationRuleResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport abstract class ValidationRule {\r\n    key: string;\r\n    execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>;\r\n    errorMessage: (element?: any, rowIndex?: string) => string;\r\n    id?: string;\r\n    isValid?: boolean;\r\n    required?: boolean;\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        this.errorMessage = overridenErrorMessage;\r\n    }\r\n}\r\n\r\nexport class RequiredValidationRule extends ValidationRule {\r\n    constructor(\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Required;\r\n    }\r\n}\r\n\r\nexport class EmailValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Email;\r\n    }\r\n}\r\n\r\nexport class PhoneValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Phone;\r\n    }\r\n}\r\n\r\nexport class CustomValidationRule extends ValidationRule {\r\n    constructor(\r\n        execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>,\r\n        required?: boolean,\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string,\r\n        isValid?: boolean\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.execute = execute;\r\n        this.key = ValidationConstant.Custom;\r\n        this.isValid = isValid;\r\n        this.required = required;\r\n    }\r\n}\r\n\r\nexport class ValidationOption {\r\n    validationName: string;\r\n    rules: ValidationRule[] = [];\r\n    valueResolver: (item: any, payload: any, rowIndex?: number) => any | any[];\r\n    itemRef?: any;\r\n    displayText?: string;\r\n    validationId?: string;\r\n    payloadRef?: () => any;\r\n    relevantFields?: (payload: any) => string[];\r\n    dynamic?: boolean;\r\n    dirtyCheck: boolean = true;\r\n    scope?: string;\r\n    errorTargetId?: string;\r\n    errorMessageClass?: string = ValidationConstant.ErrorMessageClass;\r\n    errorElementClass?: string = ValidationConstant.ErrorElementClass;\r\n    successElementClass?: string = ValidationConstant.SuccessElementClass;\r\n    constructor(init?: Partial<ValidationOption>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ClientValidator {\r\n    formRef: ElementRef;\r\n    options: ValidationOption[] = [];\r\n    payloadRef?: () => any;\r\n    scope?: string;\r\n    relatedValidationProviders?: ValidationService[] = [];\r\n    requiredMessage: string = ValidationConstant.requiredMessage;\r\n    invalidMessage: string = ValidationConstant.invalidMessage;\r\n    constructor(init?: Partial<ClientValidator>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ChangedItem {\r\n    id?: string;\r\n    oldValue?: any;\r\n    value?: any;\r\n    field?: string;\r\n    change: boolean = false;\r\n    constructor(init?: Partial<ChangedItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationConstant {\r\n    public static Required: string = 'Required';\r\n    public static Email: string = 'Email';\r\n    public static Phone: string = 'Phone';\r\n    public static Custom: string = 'Custom';\r\n    public static ErrorMessage: string = 'Khng hp l vui lng th li.';\r\n    public static ErrorElementClass: string = 'ng-invalid';\r\n    public static SuccessElementClass: string = 'ng-valid';\r\n    public static ErrorMessageClass: string = 'text-danger';\r\n    public static DefaultErrorStyles: string = 'padding:0;list-style:none;font-weight:400;font-size:13px; width: 100%';\r\n    public static DefaultErrorClass: string = 'validation-error';\r\n    public static AttributeName: string = 'validation-name';\r\n    public static AttributeOptionName: string = 'dynamic-option';\r\n    public static AttributeDynamicName: string = 'dynamic-validation';\r\n    public static ErrorTargetId: string = 'error-target-id';\r\n    public static DynamicErrorAttribute: string = 'dynamic-error-attribute';\r\n    public static ERROR_ELEMENT_ID = 'error-element-id';\r\n    public static ERROR_ITEM_ELEMENT_ID = 'error-item-element-id';\r\n    public static VALIDATION_ID = 'validation-id';\r\n    public static ARRAY_SEQUENCE_ID = 'array-sequence-id';\r\n    public static requiredMessage: string = 'l bt buc';\r\n    public static invalidMessage: string = 'khng hp l';\r\n};\r\n","export enum ToolbarAction {\r\n    Save = 'Save',\r\n    Cancel = 'Cancel',\r\n    Back = 'Back',\r\n    SaveAll = 'SaveAll',\r\n    EditColumnOptions = 'EditColumnOptions',\r\n    SaveAndNew = 'SaveAndNew',\r\n    Reset = 'Reset',\r\n}\r\n\r\nexport enum ChangeType {\r\n    Update,\r\n    Add,\r\n    Delete\r\n}","import { Type, EventEmitter } from '@angular/core';\r\nimport { ChangeType } from '../enums/base.enum';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class MockData<T> {\r\n    mockData?: any;\r\n    constructor(init?: Partial<MockData<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseRequest<T> extends MockData<T> {\r\n    payload?: T;\r\n    constructor(init?: Partial<BaseRequest<T>>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseResponse<T> {\r\n    data?: T;\r\n    status?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<BaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseRequest extends MockData<any> {\r\n    searchText?: string;\r\n    pageIndex?: number;\r\n    pageSize?: number;\r\n    direction?: string;\r\n    orderBy?: string;\r\n    all?: boolean;\r\n    constructor(init?: Partial<SearchBaseRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseResponse<T> {\r\n    items?: T[];\r\n    success?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<SearchBaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseTemplate {\r\n    data?: any;\r\n    validationKey?: string;\r\n    template?: Type<any>;\r\n    constructor(init?: Partial<BaseTemplate>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class AggregatorViewModel {\r\n    value?: EventEmitter<any>;\r\n    key?: string;\r\n    currentEmitter: any;\r\n    constructor(init?: Partial<AggregatorViewModel>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class ButtonDefinition {\r\n    action: string;\r\n    title: string;\r\n    icon: string;\r\n    hide: boolean;\r\n    disabled: boolean;\r\n    lazyload: boolean;\r\n    style: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n    constructor(init?: Partial<ButtonDefinition>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ToolbarActionPayload {\r\n    loadedCallback: Function;\r\n    action: string;\r\n    callback: Function;\r\n    constructor(init?: Partial<ToolbarActionPayload>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ObjectChange {\r\n    propertyName: string;\r\n    oldValue: any;\r\n    newValue: any;\r\n    changeType: ChangeType;\r\n    constructor(init?: Partial<ObjectChange>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class LookupItem {\r\n    name: string;\r\n    key?: string;\r\n    constructor(init?: Partial<LookupItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ExtendedMainMenuGroup {\r\n    label: string;\r\n    children: any[];\r\n    icon: string;\r\n    selected?: boolean;\r\n    constructor(init?: Partial<ExtendedMainMenuGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class KeyValueItem {\r\n    key: string;\r\n    value: string;\r\n    constructor(init?: Partial<KeyValueItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class BreadCrumbItem {\r\n    label: string;\r\n    url: string;\r\n    constructor(init?: Partial<BreadCrumbItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ControlType {\r\n    static Textbox: string = 'Textbox';\r\n    static Dropdown: string = 'Dropdown';\r\n    static Button: string = 'Button';\r\n    constructor(init?: Partial<ControlType>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuTab {\r\n    role: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    constructor(init?: Partial<MenuTab>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuItem {\r\n    menu: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    subName: string;\r\n    name?: string;\r\n    selected?: boolean;\r\n    constructor(init?: Partial<MenuItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Breadcrumb {\r\n    label: string;\r\n    url: string;\r\n    state?: string;\r\n    constructor(init?: Partial<Breadcrumb>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MediaItem {\r\n    src: string;\r\n    name: string;\r\n    fullSrc: string;\r\n    constructor(init?: Partial<MediaItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Audit {\r\n    createdDate?: Date;\r\n    createdBy?: string;\r\n    lastModifiedDate?: Date;\r\n    lastModifiedBy?: string;\r\n    constructor(init?: Partial<Audit>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingGroup {\r\n    date: Date;\r\n    details: TrackingDetail[];\r\n    constructor(init?: Partial<TrackingGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingDetail {\r\n    description: string;\r\n    time: Date;\r\n    constructor(init?: Partial<TrackingDetail>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class RecommendationResponse {\r\n    selectedMenu?: string;\r\n    keyword?: string;\r\n    show: boolean = false;\r\n    searchPath?: string;\r\n    template?: Type<any>;\r\n    label: string = 'Kt qu gi ';\r\n    deboundTime: number = 500;\r\n    all: boolean = false;\r\n    constructor(init?: Partial<RecommendationResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport interface ICallback<T> {\r\n    isValid: () => boolean;\r\n    callback: (value: any) => Observable<T>;\r\n}","export class AuthConst {\r\n    public static Token: string = 'Token';\r\n}","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { ChangeType } from '../enums/base.enum';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport * as _ from 'lodash';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { AuthenticationLoginResponse } from '../../auth/auth.model';\r\nimport { AuthConst } from '../../auth/auth.const';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DataService {\r\n    constructor(\r\n        private _sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    public getToken(callback?: (token: AuthenticationLoginResponse) => any): AuthenticationLoginResponse {\r\n        var jsonToken = localStorage.getItem(AuthConst.Token);\r\n        var token = <AuthenticationLoginResponse>JSON.parse(jsonToken);\r\n        if (callback) callback(token);\r\n        return token;\r\n    }\r\n\r\n    public cloneItem(item: any): any {\r\n        if (!item) return null;\r\n        const response: any = {};\r\n        const fields = Object.keys(item);\r\n        if (fields) {\r\n            fields.forEach((field) => {\r\n                response[field] = item[field];\r\n            });\r\n        }\r\n        return response;\r\n    }\r\n\r\n    public cloneItems(items: any[], id: boolean = true): any {\r\n        if (!items || items.length == 0) return null;\r\n        const response: any[] = [];\r\n        items.forEach((item) => {\r\n            var newItem = this.cloneItem(item);\r\n            if (id) newItem.id = this.newGuid();\r\n            response.push(newItem);\r\n        });\r\n        return response;\r\n    }\r\n\r\n    public transformToSafeHtml(input: string): SafeHtml {\r\n        return this._sanitizer.bypassSecurityTrustHtml(input);\r\n    }\r\n\r\n    public initDebounceTime(time: number = 500): Subject<any> {\r\n        const delegator: Subject<any> = new Subject();\r\n        delegator.pipe(debounceTime(time)).subscribe((action) => {\r\n            if (action) {\r\n                action();\r\n            }\r\n        });\r\n        return delegator;\r\n    }\r\n\r\n    public removeHTML(str: string): string {\r\n        if (!str) return str;\r\n        return str.replace(/<\\/?[^>]+>/gi, '').replace(/&nbsp;/g, '');\r\n    }\r\n\r\n    public removeAllSpaces(str?: string): string {\r\n        if (!str) return '';\r\n        return str.replace(/\\s/g, '');\r\n    }\r\n\r\n    public replaceAt(s: string, n: number, t: string) {\r\n        return s.substring(0, n) + t + s.substring(n + 1);\r\n    }\r\n\r\n    public isValidEmail(email: string): boolean {\r\n        if (!email) return true;\r\n        const regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        return regex.test(email);\r\n    }\r\n\r\n    public convertUCode(c: string): string {\r\n        if ('a'.indexOf(c) > -1) return 'a';\r\n        if ('d'.indexOf(c) > -1) return 'd';\r\n        if ('o'.indexOf(c) > -1) return 'o';\r\n        if ('u'.indexOf(c) > -1) return 'u';\r\n        if ('i'.indexOf(c) > -1) return 'i';\r\n        if ('y'.indexOf(c) > -1) return 'y';\r\n        if ('e'.indexOf(c) > -1) return 'e';\r\n        return c;\r\n    }\r\n\r\n    public fuzzysearch(needle: string, haystack: string): boolean {\r\n        const haystackLC = this.removeAllSpaces(haystack.toLowerCase());\r\n        const needleLC = this.removeAllSpaces(needle.toLowerCase());\r\n        const hlen = haystack.length;\r\n        const nlen = needleLC.length;\r\n        if (nlen > hlen) {\r\n            return false;\r\n        }\r\n        if (nlen === hlen) {\r\n            return needleLC === haystackLC;\r\n        }\r\n        outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n            const nch = this.convertUCode(needleLC[i]);\r\n            while (j < hlen) {\r\n                if (this.convertUCode(haystackLC[j++]) === nch) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public newGuid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    public isNullOrEmpty(obj: any): boolean {\r\n        return obj == null || obj === undefined || obj == '';\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) return '';\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        return changes;\r\n    }\r\n\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) return '';\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public isNumber(input: string): boolean {\r\n        var regex = /^[+-]?\\d+(\\.\\d+)?([eE][+-]?\\d+)?$/;\r\n        return regex.test(input);\r\n    }\r\n\r\n    public isDigit(input: string): boolean {\r\n        return /^[0-9]$/.test(input);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationProvider {\r\n  constructor() { }\r\n\r\n  public required: (value: any) => Observable<boolean> = (value: any) => {\r\n    return of(this.isRequired(value));\r\n  }\r\n\r\n  public email: (email: string) => Observable<boolean> = (email: string) => {\r\n    if (!email) return of(true);\r\n    return of(this.isValidEmail(email));\r\n  }\r\n\r\n  public phone: (phone: string) => Observable<boolean> = (phone: string) => {\r\n    if (!phone) return of(true);\r\n    return of(this.isValidPhone(phone));\r\n  }\r\n\r\n  private isRequired(value: any): boolean {\r\n    if (typeof (value) === 'string') {\r\n      const trimmedValue = <string>value.trim();\r\n      return trimmedValue != '' && trimmedValue != undefined && trimmedValue != null;\r\n    }\r\n    if (Array.isArray(value)) {\r\n      return value.length > 0;\r\n    }\r\n    if (value) return true;\r\n    return false;\r\n  }\r\n\r\n  private isValidEmail(email: string): boolean {\r\n    if (!email) return true;\r\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n    return regex.test(email);\r\n  }\r\n\r\n  private isValidPhone(phone: string): boolean {\r\n    if (!phone) return true;\r\n    return phone.length === 10;\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CacheService {\r\n    public set(key: string, data: any): void {\r\n        window.localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    public get(key: string): any {\r\n        return JSON.parse(window.localStorage.getItem(key));\r\n    }\r\n\r\n    public remove(key: string): void {\r\n        window.localStorage.removeItem(key);\r\n    }\r\n}\r\n","export class KeyConst {\r\n    public static ViewImage = 'VIEW_IMAGE';\r\n    public static PageChanged = 'PAGE_CHANGED';\r\n    public static NewNotifications = 'NEW_NOTIFICATIONS';\r\n    public static MenuChanged = 'MENU_CHANGED';\r\n    public static SignOut = 'SIGN_OUT';\r\n    public static AuthApi = 'AUTH_API';\r\n    public static Key = 'KEY';\r\n    public static SecretKey = 'SECRET_KEY';\r\n    public static KeywordChanged = 'KEYWORD_CHANGED';\r\n    public static Search = 'SEARCH';\r\n    public static Reload = 'RELOAD';\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { SettingSearchResponse } from '../models';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SearchBaseRequest } from '../models/base.model';\r\nimport { CacheService } from './cache.service';\r\nimport { KeyConst } from '../constants/key.const';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SettingService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        private _cacheService: CacheService\r\n    ) { }\r\n\r\n    public search(request: SearchBaseRequest): Observable<SettingSearchResponse> {\r\n        return this.httpClient.get<SettingSearchResponse>(`v1/settings/search`, { params: request as any });\r\n    }\r\n\r\n    public useMock(value?: boolean): boolean {\r\n        if (value == true || value == false) {\r\n            this._cacheService.set('mock', value);\r\n            return value;\r\n        }\r\n        var currentValue = <boolean>this._cacheService.get('mock');\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n\r\n    public useKey(key?: string): string {\r\n        if (key) {\r\n            this._cacheService.set(KeyConst.Key, key);\r\n            return key;\r\n        } else {\r\n            var currentKey = <string>this._cacheService.get(KeyConst.Key);\r\n            return currentKey;\r\n        }\r\n    }\r\n\r\n    public useSecretKey(key?: string): string {\r\n        if (key) {\r\n            this._cacheService.set(KeyConst.SecretKey, key);\r\n            return key;\r\n        } else {\r\n            var currentKey = <string>this._cacheService.get(KeyConst.SecretKey);\r\n            return currentKey;\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { SettingService } from './setting.service';\r\nimport { Breadcrumb, MenuTab } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ActionService {\r\n    constructor(\r\n        private _settingService: SettingService\r\n    ) { }\r\n\r\n    public executeAsync(callback: () => any, timeout: number = 50): void {\r\n        setTimeout(() => {\r\n            if (callback) callback();\r\n        }, timeout);\r\n    }\r\n\r\n    public scrollTop(): void {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        const userAgent = navigator.userAgent;\r\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(userAgent));\r\n    }\r\n\r\n    public verify<T>(callback: Observable<T>): Observable<T> {\r\n        var mock = this._settingService.useMock();\r\n        if (mock) return of({} as T);\r\n        return callback;\r\n    }\r\n\r\n    public changeItem(item: any, menuTabs: MenuTab[], callback?: (breadCrumbs: Breadcrumb[]) => any): Breadcrumb[] {\r\n        var items: Breadcrumb[] = [];\r\n        var parent = <Breadcrumb>this.retrieveParent(item.state, menuTabs);\r\n        if (parent != null) {\r\n            items.push(parent);\r\n        }\r\n        if (!items.find(s => s.label == item.name)) {\r\n            items.push(new Breadcrumb({\r\n                label: item.name,\r\n                url: item.mainState ? `/${item.mainState}/${item.state}` : `${item.state}`\r\n            }));\r\n        }\r\n        if (callback) callback(items);\r\n        return items;\r\n    }\r\n\r\n    public retrieveParent(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return new Breadcrumb({\r\n                        label: items[j].label,\r\n                        state: children[k].mainState,\r\n                        url: children[k].mainState ? `/${children[k].mainState}/${children[0].state}` : `${children[0].state}`\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveChild(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].mainState == state) {\r\n                        return new Breadcrumb({\r\n                            state: children[k].mainState,\r\n                            label: children[k].name,\r\n                            url: children[k].mainState\r\n                                ? `/${children[k].mainState}/${children[0].state}`\r\n                                : `/${children[0].state}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveStateName(state: string, menuTabs: MenuTab[]): string {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return children[k].name;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { AggregatorViewModel } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AggregatorService {\r\n    protected emitters: AggregatorViewModel[] = [];\r\n\r\n    public publish<T>(key: string, value?: T): void {\r\n        if (!key) return;\r\n        let currentEmitter = <AggregatorViewModel>this.emitters.find(s => s.key == key);\r\n        if (!currentEmitter) {\r\n            currentEmitter = new AggregatorViewModel({\r\n                value: this.register(key)\r\n            });\r\n        }\r\n        currentEmitter.value.emit(value);\r\n    }\r\n\r\n    public subscribe<T>(key: string, callback: (response: T) => void): void {\r\n        if (!key) return;\r\n        let index = this.emitters.findIndex(s => s.key == key);\r\n        if (index > -1) {\r\n            this.emitters.splice(index, 1);\r\n        }\r\n        var currentEmitter = new AggregatorViewModel({\r\n            value: this.register(key)\r\n        });\r\n        currentEmitter.value.subscribe((response: T) => {\r\n            callback(response);\r\n        });\r\n    }\r\n\r\n    public hasKey(key: string): boolean {\r\n        return this.emitters.findIndex(s => s.key == key) > -1;\r\n    }\r\n\r\n    private register(key: string): EventEmitter<any> {\r\n        var emitter = new AggregatorViewModel({\r\n            key: key,\r\n            value: new EventEmitter<any>()\r\n        });\r\n        this.emitters.push(emitter);\r\n        return emitter.value;\r\n    }\r\n}\r\n","import { Renderer2, Injectable, RendererFactory2, EventEmitter, Output } from '@angular/core';\r\nimport { ValidationOption, ClientValidator, ValidationConstant, SummaryError, ValidationRule, ChangedItem } from './validation.model';\r\nimport { Subscription, Observable, forkJoin, merge, of } from 'rxjs';\r\nimport { map, defaultIfEmpty, take } from 'rxjs/operators';\r\nimport { DataService } from '../services/data.service';\r\nimport { ValidationProvider } from './validation.provider';\r\nimport { ActionService } from '../services/action.service';\r\nimport { AggregatorService } from '../services/aggregator.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationService {\r\n    @Output() public onDestroy: EventEmitter<void> = new EventEmitter();\r\n    private elements: Element[] = [];\r\n    private validator: ClientValidator;\r\n    private errClass: string = ValidationConstant.DefaultErrorClass;\r\n    private styles: string = ValidationConstant.DefaultErrorStyles;\r\n    private attributeName: string = ValidationConstant.AttributeName;\r\n    private renderer: Renderer2;\r\n    private relatedProviders: ValidationService[] = [];\r\n    private subscriptions: Subscription = new Subscription();\r\n    private virtualValidationOptions: ValidationOption[] = [];\r\n    private changedItems: ChangedItem[] = [];\r\n    private key: string;\r\n\r\n    constructor(\r\n        protected rendererFactory: RendererFactory2,\r\n        protected validationProvider: ValidationProvider,\r\n        private _dataService: DataService,\r\n        private _actionService: ActionService,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n        this.renderer = rendererFactory.createRenderer(null, null);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n        this.onDestroy.emit();\r\n    }\r\n\r\n    public init(model: { validator: ClientValidator }): void {\r\n        this.validator = model.validator;\r\n        if (!this.validator.payloadRef) this.validator.payloadRef = () => { return {} };\r\n\r\n        if (this.validator.relatedValidationProviders) {\r\n            this.addRelatedProviders(this.validator.relatedValidationProviders);\r\n        }\r\n\r\n        this.validator.options.forEach(option => {\r\n            if (!option.displayText) option.displayText = option.validationName;\r\n            if (!option.payloadRef) option.payloadRef = this.validator.payloadRef;\r\n            option.rules.forEach(action => {\r\n                if (!action.id) action.id = this._dataService.newGuid();\r\n                if (!action.errorMessage) {\r\n                    switch (action.key) {\r\n                        case ValidationConstant.Required: {\r\n                            action.errorMessage = (element: Element, rowIndex: string) => {\r\n                                const displayingRowIndex = (+rowIndex + 1).toString();\r\n                                return `${option.displayText}${option.dynamic ? ' [' + displayingRowIndex + ']' : ''} ${this.validator.requiredMessage}`;\r\n                            };\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            action.errorMessage = () => `${option.displayText} ${this.validator.invalidMessage}`;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        this.virtualValidationOptions = this.validator.options.filter(x => x.dynamic);\r\n        this.updateAsync();\r\n    }\r\n\r\n    public setKey(key: string): void {\r\n        this.key = key;\r\n    }\r\n\r\n    public updateAsync(relatedProvidersToRegister?: ValidationService[], item?: any): void {\r\n        this._actionService.executeAsync(() => {\r\n            if (relatedProvidersToRegister && relatedProvidersToRegister.length) {\r\n                this.addRelatedProviders(relatedProvidersToRegister);\r\n            }\r\n            this.registerElements(item);\r\n            this.registerEvents();\r\n        });\r\n    }\r\n\r\n    public executeAsync(validCallback: (errors?: SummaryError[]) => any, invalidCallback?: (errors?: SummaryError[]) => any): Observable<boolean> {\r\n        this.retrieveSummaryErrors().subscribe((response) => {\r\n            if (!response || response.length == 0) {\r\n                if (validCallback) validCallback(response);\r\n                return of(true);\r\n            } else {\r\n                if (invalidCallback) invalidCallback(response);\r\n            }\r\n        });\r\n        return of(true);\r\n    }\r\n\r\n    public isValid(show: boolean = true, focus: boolean = true): boolean {\r\n        if (show) {\r\n            this.retrieveSummaryErrors().subscribe((errors: SummaryError[]) => {\r\n                this._aggregatorService.publish(this.key, errors);\r\n                if (focus) {\r\n                    if (errors && errors.length > 0) {\r\n                        var focusElement = errors[0];\r\n                        var el = <any>focusElement.element;\r\n                        if (el) {\r\n                            this._actionService.executeAsync(() => {\r\n                                el.focus();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        let valid = true;\r\n        if (this.validator.options) {\r\n            this.validator.options.forEach((option) => {\r\n                const payload = this.validator.payloadRef();\r\n                const fieldValue = option.valueResolver ? option.valueResolver(null, payload) : null;\r\n                if (option.rules) {\r\n                    option.rules.forEach((action) => {\r\n                        if (action.isValid != true) {\r\n                            if (action.isValid == false) {\r\n                                valid = false;\r\n                            } else {\r\n                                if (fieldValue) valid = false;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    public handleErrors(callback?: (response: SummaryError[]) => void): void {\r\n        this.retrieveSummaryErrors().subscribe((res) => {\r\n            if (callback) callback(res);\r\n        });\r\n    }\r\n\r\n    public commit(callback?: Function): Observable<boolean> {\r\n        return this.retrieveSummaryErrors().pipe(\r\n            map(errors => {\r\n                if (callback) callback(errors);\r\n                if (errors.length == 0) return true;\r\n                return false;\r\n            }), take(1));\r\n    }\r\n\r\n    public setElementError(element: Element, action: ValidationRule, option: ValidationOption): string {\r\n        if (!element) return;\r\n        this.renderer.removeClass(element, ValidationConstant.SuccessElementClass);\r\n        this.renderer.addClass(element, option.errorElementClass);\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) {\r\n            errorElement = this.renderer.createElement('ul');\r\n            this.renderer.setAttribute(errorElement, ValidationConstant.ERROR_ELEMENT_ID, `${this._dataService.newGuid()}`);\r\n            this.renderer.setAttribute(errorElement, 'style', this.styles);\r\n            this.renderer.addClass(errorElement, this.errClass);\r\n            this.renderer.addClass(errorElement, option.errorMessageClass);\r\n            const parentElement = this.renderer.parentNode(element);\r\n            this.renderer.appendChild(parentElement, errorElement);\r\n        }\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        const dynamicSequenceId = this.findDynamicSequenceId(element);\r\n        const errorMessage = action.errorMessage(element, dynamicSequenceId);\r\n\r\n        if (!errorItemElement) {\r\n            errorItemElement = this.renderer.createElement('li');\r\n            this.renderer.setAttribute(errorItemElement, ValidationConstant.ERROR_ITEM_ELEMENT_ID, errorItemElementKey);\r\n            this.renderer.appendChild(errorItemElement, this.renderer.createText(errorMessage));\r\n\r\n            this.renderer.appendChild(errorElement, errorItemElement);\r\n        }\r\n        return errorMessage;\r\n    }\r\n\r\n    public clearErrorItemElement(element: any, action: ValidationRule) {\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) return;\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        if (!errorItemElement) return;\r\n        errorElement.remove();\r\n        this.renderer.removeChild(errorElement, errorItemElement);\r\n    }\r\n\r\n    public isDirty(callback?: (items: ChangedItem[]) => void): boolean {\r\n        if (!this.changedItems || this.changedItems.length == 0) return false;\r\n        var response = this.changedItems.filter(s => s.change);\r\n        if (callback) callback(response);\r\n        return response.length > 0;\r\n    }\r\n\r\n    public syncErrorMessages(element: any, option: ValidationOption): SummaryError | null {\r\n        let errorMessages: string[] = [];\r\n        option.rules.forEach(action => {\r\n            if (action.isValid) {\r\n                this.clearErrorItemElement(element, action);\r\n            } else {\r\n                const errorMessage = this.setElementError(element, action, option);\r\n                errorMessages.push(errorMessage);\r\n            }\r\n        });\r\n\r\n        const invalidActions = option.rules.filter(x => !x.isValid);\r\n        if (invalidActions.length === 0) {\r\n            this.renderer.removeClass(element, option.errorElementClass);\r\n            this.renderer.removeClass(element, option.successElementClass);\r\n            return null;\r\n        }\r\n\r\n        return {\r\n            element: element,\r\n            messages: errorMessages\r\n        }\r\n    }\r\n\r\n    public validateElementAsync(element: any, option: ValidationOption): Observable<SummaryError[]> {\r\n        const errors$ = [this.validateElement(element, option).pipe(\r\n            map(newOption => option = newOption),\r\n            map(option => this.syncErrorMessages(element, option)),\r\n        )];\r\n\r\n        const errorBatch = forkJoin(errors$);\r\n        const relatedErrors = <Observable<SummaryError[]>>this.relatedProviders.reduce((previous: Observable<SummaryError[]>, provider: ValidationService) => {\r\n            const subErrors$ = provider.retrieveSummaryErrors();\r\n            return merge(previous, subErrors$);\r\n        }, of([]));\r\n\r\n        return forkJoin(errorBatch, relatedErrors).pipe(\r\n            defaultIfEmpty([[], []]),\r\n            map(value => [...value[0], ...value[1]]),\r\n            map(result => [].concat(result.filter(error => error))),\r\n        );\r\n    }\r\n\r\n    public validateElement(element: any, option: ValidationOption, all: boolean = false): Observable<ValidationOption> {\r\n        const payload = this.validator.payloadRef();\r\n        const fieldValue = option.valueResolver ? option.valueResolver(option.itemRef, payload) : null;\r\n        const validatedActions$ = option.rules.map(action => {\r\n            switch (action.key) {\r\n                case ValidationConstant.Required: {\r\n                    return this.validationProvider.required(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Email: {\r\n                    return this.validationProvider.email(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Phone: {\r\n                    return this.validationProvider.phone(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Custom: {\r\n                    if (!action.execute) throw new Error('!action.execute');\r\n                    if (!all && !action.required) {\r\n                        if (!fieldValue) {\r\n                            action.isValid = true;\r\n                            return of(action);\r\n                        } else {\r\n                            var requiredRule = option.rules.find(s => s.key == ValidationConstant.Required);\r\n                            if (requiredRule) {\r\n                                requiredRule.isValid = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    const sequenceId = this.findDynamicSequenceId(element);\r\n                    return action.execute(fieldValue, payload, +sequenceId)\r\n                        .pipe(map(response => {\r\n                            if (response) {\r\n                                action.isValid = response.status;\r\n                                if (response.message) action.errorMessage = () => { return response.message; };\r\n                            }\r\n                            return action;\r\n                        }));\r\n                }\r\n                default: throw new Error(`Unhandled action: ${action.key}`);\r\n            }\r\n        });\r\n\r\n        return forkJoin(validatedActions$).pipe(\r\n            take(1),\r\n            map(validatedActions => {\r\n                if (option.relevantFields) this.validateRelevantFields(option.relevantFields(payload));\r\n                option.rules = validatedActions;\r\n                return option;\r\n            }),\r\n        );\r\n    }\r\n\r\n    private validateRelevantFields(relevantFields?: string[]): void {\r\n        if (!relevantFields || relevantFields.length == 0) return;\r\n        if (relevantFields && relevantFields.length > 0) {\r\n            relevantFields.forEach(item => {\r\n                for (let i = 0; i < this.elements.length; i++) {\r\n                    var attributes = this.elements[i].attributes;\r\n                    if (attributes && attributes.length > 0) {\r\n                        if (attributes[this.attributeName].value == item) {\r\n                            var option = this.findElementOption(this.elements[i]);\r\n                            if (option) {\r\n                                this.validateElement(this.elements[i], option, true).pipe(\r\n                                    map(newOption => option = newOption),\r\n                                    map(option => this.syncErrorMessages(this.elements[i], option)),\r\n                                ).subscribe();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private retrieveSummaryErrors(): Observable<SummaryError[]> {\r\n        const errors$ = this.elements.map(element => {\r\n            let validationOption = this.findElementOption(element);\r\n            if (!validationOption) return;\r\n\r\n            return this.validateElement(element, validationOption).pipe(\r\n                map(newOption => validationOption = newOption),\r\n                map(option => this.syncErrorMessages(element, option)),\r\n            );\r\n        });\r\n\r\n        const errorBatch = forkJoin(errors$);\r\n        const relatedErrors = <Observable<SummaryError[]>>this.relatedProviders.reduce((previous: Observable<SummaryError[]>, provider: ValidationService) => {\r\n            const subErrors$ = provider.retrieveSummaryErrors();\r\n            return merge(previous, subErrors$);\r\n        }, of([]));\r\n\r\n        return forkJoin(errorBatch, relatedErrors).pipe(\r\n            defaultIfEmpty([[], []]),\r\n            map(value => [...value[0], ...value[1]]),\r\n            map(result => [].concat(result.filter(error => error))),\r\n        );\r\n    }\r\n\r\n    private findElementOption(element: Element): ValidationOption | null {\r\n        const validationIdAttribute = element.attributes[ValidationConstant.VALIDATION_ID];\r\n        if (!validationIdAttribute) return null;\r\n\r\n        const validationId = validationIdAttribute.value;\r\n        if (!validationId) return null;\r\n        return this.validator.options.find(option => option.validationId === validationId);\r\n    }\r\n\r\n    private findErrorItemElement(errorElement: any, key: string): any | null {\r\n        const children = <Element[]>Array.from(errorElement.children);\r\n        return children\r\n            .filter(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID])\r\n            .find(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID].value === key);\r\n    }\r\n\r\n    private findDynamicSequenceId(element: Element): string | null {\r\n        const sequenceIdAttribute = element.attributes[ValidationConstant.ARRAY_SEQUENCE_ID];\r\n        if (!sequenceIdAttribute) return null;\r\n\r\n        const sequenceId = sequenceIdAttribute.value;\r\n        if (!sequenceId) return null;\r\n        return sequenceId;\r\n    }\r\n\r\n    private findErrorElement(element: Element): Element {\r\n        if (element.parentElement && element.parentElement.children) {\r\n            const slibings = <Element[]>Array.from(element.parentElement.children);\r\n            let result = slibings.filter(x => x.attributes).find(x => x.attributes[ValidationConstant.ERROR_ELEMENT_ID]);\r\n            return result;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private registerElements(item?: any): void {\r\n        const nonDynamicOptions = this.validator.options.filter(x => !x.dynamic);\r\n        const nonDynamicElements = nonDynamicOptions.reduce((previous: Element[], current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = <Element[]>Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            elements.forEach(element => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                current.validationId = validationId;\r\n            });\r\n            return previous.concat(elements);\r\n        }, []);\r\n\r\n        let generatedDynamicOptions = [];\r\n        let dynamicElements = [];\r\n        this.validator.options = this.validator.options.filter(x => !x.dynamic);\r\n        this.virtualValidationOptions.forEach((current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            const clonedOptions = elements.map((element, index) => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                this.renderer.setAttribute(element, ValidationConstant.ARRAY_SEQUENCE_ID, index.toString());\r\n                return {\r\n                    ...current,\r\n                    validationId: validationId,\r\n                    itemRef: item,\r\n                    valueResolver: current.valueResolver\r\n                        ? (payload: any) => current.valueResolver(item, payload, index)\r\n                        : () => { return (<any>element).value; }\r\n                };\r\n            });\r\n            dynamicElements.push(...elements);\r\n            generatedDynamicOptions.push(...clonedOptions);\r\n        });\r\n\r\n        this.validator.options = nonDynamicOptions.concat(generatedDynamicOptions);\r\n        this.elements = nonDynamicElements.concat(dynamicElements);\r\n\r\n        if (this.elements) {\r\n            this.changedItems = [];\r\n            this.elements.forEach((element) => {\r\n                const payload = this.validator.payloadRef();\r\n                let elementOption = this.findElementOption(element);\r\n                this.changedItems.push(new ChangedItem({\r\n                    id: elementOption.validationId,\r\n                    field: elementOption.validationName,\r\n                    oldValue: elementOption.valueResolver ? elementOption.valueResolver(null, payload) : null\r\n                }));\r\n            });\r\n        }\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.elements.filter(element => element.attributes[this.attributeName]).forEach((element: any) => {\r\n            if (!element.focusoutListener) {\r\n                element.focusoutListener = this.renderer.listen(element, 'focusout', () => {\r\n                    this.handleBlurEvent(element);\r\n                });\r\n                element.focusoutListener = this.renderer.listen(element, 'change', ($event) => {\r\n                    const payload = this.validator.payloadRef();\r\n                    let elementOption = this.findElementOption(element);\r\n                    var value = elementOption.valueResolver ? elementOption.valueResolver(null, payload) : null;\r\n                    if (elementOption && elementOption.dirtyCheck) {\r\n                        var currentItem = this.changedItems.find(s => s.id == elementOption.validationId);\r\n                        if (!currentItem) {\r\n                            this.changedItems.push(new ChangedItem({\r\n                                id: elementOption.validationId,\r\n                                field: elementOption.validationName,\r\n                                value: value,\r\n                                change: true\r\n                            }));\r\n                        } else {\r\n                            currentItem.value = value;\r\n                            if (currentItem.oldValue == undefined || currentItem.oldValue == '') {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = false;\r\n                                } else {\r\n                                    currentItem.change = true;\r\n                                }\r\n                            } else {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = true;\r\n                                } else {\r\n                                    if (currentItem.oldValue.toString() != currentItem.value.toString()) {\r\n                                        currentItem.change = true;\r\n\r\n                                    } else {\r\n                                        currentItem.change = false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (elementOption && elementOption.rules) {\r\n                        elementOption.rules.forEach((rule) => {\r\n                            rule.isValid = false;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private handleBlurEvent(element: any): void {\r\n        let elementOption = this.findElementOption(element);\r\n        if (!elementOption) throw new Error('!elementOption');\r\n\r\n        this.validateElement(element, elementOption).pipe(take(1)).subscribe(newOption => {\r\n            elementOption = newOption;\r\n            this.syncErrorMessages(element, elementOption);\r\n        });\r\n    }\r\n\r\n    private addRelatedProviders(providers: ValidationService[]): void {\r\n        let newProviders = providers.filter(x => this.relatedProviders.indexOf(x) < 0);\r\n        newProviders.forEach(provider =>\r\n            provider.onDestroy.subscribe(() => {\r\n                this.relatedProviders = this.relatedProviders.filter(() => this.relatedProviders.indexOf(provider) < 0);\r\n            }));\r\n        this.relatedProviders.push(...newProviders);\r\n    }\r\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { ValidationService } from './validation.service';\r\nimport { ValidationProvider } from './validation.provider';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: []\r\n})\r\n\r\nexport class ValidationModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ValidationModule,\r\n      providers: [\r\n        ValidationService,\r\n        ValidationProvider\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { BaseResponse, SearchBaseRequest } from './base.model';\r\n\r\nexport class SettingItemViewModel {\r\n    key: string;\r\n    value: string\r\n}\r\n\r\nexport class SettingSearchRequest extends SearchBaseRequest {\r\n}\r\n\r\nexport class SettingSearchResponse extends BaseResponse<SettingItemViewModel> {\r\n}","import { KeyValueItem } from './base.model';\r\n\r\nexport interface BaseSearchRequest {\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n}\r\n\r\nexport interface BaseSearchResponse<T> {\r\n  items: T[];\r\n  totalRecords: number;\r\n}\r\n\r\nexport class GetLookupItemsRequest {\r\n  public params: string;\r\n  constructor(init?: Partial<GetLookupItemsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class GetLookupItemsResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  item: any;\r\n  constructor(init?: Partial<GetLookupItemsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationRequest {\r\n  notificationTypes: string[] = [];\r\n  payloadItems: KeyValueItem[] = [];\r\n  templateCode: string;\r\n  recipients: string[] = [];\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SendNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SendNotificationResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationType {\r\n  public static Email: string = 'Email';\r\n  public static Sms: string = 'Sms';\r\n  public static Local: string = 'Local';\r\n}\r\n\r\nexport class EditNotificationThreadViewModel {\r\n  id: string;\r\n  hasRead: boolean;\r\n  detailGroups: NotificationDetailGroup[] = [];\r\n  constructor(init?: Partial<EditNotificationThreadViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetailGroup {\r\n  details: NotificationDetail[] = [];\r\n  date: Date;\r\n  constructor(init?: Partial<NotificationDetailGroup>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetail {\r\n  description: string;\r\n  title: string;\r\n  time: Date;\r\n  code: string;\r\n  id: string;\r\n  hasRead: boolean;\r\n  payload: any;\r\n  constructor(init?: Partial<NotificationDetail>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadRequest {\r\n  id: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  constructor(init?: Partial<RetrieveNotificationThreadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadResponse {\r\n  message: string;\r\n  item: EditNotificationThreadViewModel;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationThreadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationTemplateVariable {\r\n  public static OrderIdentifier: string = 'OrderIdentifier';\r\n  public static PendingApprovalProductsCount: string = 'PendingApprovalProductsCount';\r\n  public static SuppliersCount: string = 'SuppliersCount';\r\n  public static PendingInquiriesCount: string = 'PendingInquiriesCount';\r\n  public static BuyerName: string = 'BuyerName';\r\n  public static ProductName: string = 'ProductName';\r\n}\r\n\r\nexport class RegisterChannelRequest {\r\n  constructor(init?: Partial<RegisterChannelRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RegisterChannelResponse {\r\n  message: string;\r\n  id: string; success: boolean;\r\n  constructor(init?: Partial<RegisterChannelResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendLiveNotificationRequest {\r\n  message: string;\r\n  recipients: string[] = [];\r\n  constructor(init?: Partial<SendLiveNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailRequest {\r\n  id: string;\r\n  groupType: string;\r\n  dateGroup: Date;\r\n  details: string[];\r\n  constructor(init?: Partial<RemoveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RemoveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailGroupType {\r\n  public static All: string = 'All';\r\n  public static GroupByDate: string = 'GroupByDate';\r\n  public static Single: string = 'Single';\r\n}\r\n\r\nexport class RetrieveNotificationDetailRequest {\r\n  id: string;\r\n  userId: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationDetailResponse {\r\n  message: string;\r\n  item: NotificationDetail;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsRequest implements BaseSearchRequest {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  userId: string;\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SearchInboxNotificationsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsResponse implements BaseSearchResponse<NotificationDetailGroup> {\r\n  message: string;\r\n  items: NotificationDetailGroup[];\r\n  totalPendingRecords: number;\r\n  totalRecords: number;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SearchInboxNotificationsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadRequest {\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n","import { BaseTemplate } from '../models';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\n\r\nexport class LoadingViewModel {\r\n  threshold: number = 250;\r\n  timeout: number = 999999;\r\n  template?: string;\r\n  loadingText?: string;\r\n  constructor(init?: Partial<LoadingViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  btnTitle?: string;\r\n  callback?: (close: () => any) => any;\r\n  autoClose?: boolean;\r\n  buttons?: ItemViewModel[];\r\n  hideCancelBtn?: boolean = false;\r\n  constructor(init?: Partial<NotificationViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ConfirmViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  icon?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  isDeleted?: boolean;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  buttons?: ItemViewModel[];\r\n  hideCancelBtn?: boolean = false;\r\n  hideAcceptBtn?: boolean = false;\r\n  acceptCallback?: (close: () => any) => any;\r\n  cancelCallback?: (close: () => any) => any;\r\n  constructor(init?: Partial<ConfirmViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ItemViewModel {\r\n  title?: string;\r\n  icon?: string;\r\n  customClass?: string;\r\n  lazyload?: boolean = false;\r\n  callback?: (modalRef: BsModalRef, e: any) => void;\r\n  constructor(init?: Partial<ItemViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TemplateViewModel extends BaseTemplate {\r\n  center?: boolean;\r\n  title?: string;\r\n  mode?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  request?: any;\r\n  icon?: string;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  buttons?: ItemViewModel[];\r\n  hideCancelBtn?: boolean = false;\r\n  hideAcceptBtn?: boolean = false;\r\n  acceptCallback?: (response?: any, close?: () => any, provider?: any, ) => any;\r\n  cancelCallback?: (response?: any, close?: () => any, provider?: any) => any;\r\n  constructor(init?: Partial<TemplateViewModel>) {\r\n    super();\r\n    Object.assign(this, init);\r\n  }\r\n}","export class ModalServiceConstant {\r\n  public static Mode = {\r\n    Create: 'Create',\r\n    Update: 'Update',\r\n    Picker: 'Picker',\r\n    Delete: 'Delete',\r\n    Custom: 'Custom'\r\n  };\r\n}","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-notification',\r\n    templateUrl: './notification.component.html',\r\n    styleUrls: ['./notification.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class NotificationComponent {\r\n    public data: NotificationViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.callback) {\r\n            this.data.callback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { ConfirmViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-confirm',\r\n    templateUrl: './confirm.component.html',\r\n    styleUrls: ['./confirm.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class ConfirmComponent {\r\n    public data: ConfirmViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept() {\r\n        if (this.data.acceptCallback) {\r\n            this.data.acceptCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Observable, of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\n\r\nexport class MockService {\r\n    public verify<T>(callback: Observable<T>, response?: T): Observable<T> {\r\n        var mock = this.useMock();\r\n        if (mock) return of(response ? response : {} as T).pipe(delay(500));\r\n        return callback;\r\n    }\r\n\r\n    public useMock(): boolean {\r\n        var currentValue = JSON.parse(window.localStorage.getItem('mock'));\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n}","import { Injectable, OnInit } from \"@angular/core\";\r\nimport { MenuKey } from '../constants/menu.const';\r\nimport { MenuTab, ExtendedMainMenuGroup, MenuItem } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MenuService {\r\n    public tabs: { name: string, menu: string, subName: string, items: ExtendedMainMenuGroup[] }[] = [];\r\n    public currentSupporterId: string;\r\n    public currentSelectedSupplierName: string;\r\n    public currentSelectedSupplierId: string;\r\n\r\n    public init(menuTabs: MenuTab[], callback: () => any, set: (role: string) => MenuItem): void {\r\n        let menuTabbedItems = menuTabs;\r\n        this.tabs = menuTabbedItems.reduce((result, current) => {\r\n            let item = set\r\n                ? set(current.role)\r\n                : new MenuItem({\r\n                    menu: current.role,\r\n                    items: current.items,\r\n                    subName: current.role,\r\n                    name: current.role\r\n                });\r\n            if (item.name) {\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }, []);\r\n        if (!this.tabs || !this.tabs[0]) {\r\n            this.tabs = [];\r\n        }\r\n        if (callback) callback();\r\n    }\r\n\r\n    public loadMenuItems(menu?: string) {\r\n        if (!menu) {\r\n            return this.tabs.reduce((result, current) => {\r\n                result.push(...current.items);\r\n                return result;\r\n            }, []);\r\n        }\r\n        const tab = this.tabs.find(x => x.menu === menu);\r\n        if (!tab) {\r\n            return;\r\n        }\r\n        return tab.items;\r\n    }\r\n\r\n    public loadFirstTabItems(key: string) {\r\n        let currentMenu = this.tabs.find(s => s.menu.toLowerCase() == key.toLowerCase());\r\n        if (!currentMenu) {\r\n            return [];\r\n        }\r\n        return currentMenu.items;\r\n    }\r\n\r\n    public loadFirstTab() {\r\n        return this.tabs[0];\r\n    }\r\n\r\n    public getTabs() {\r\n        return this.tabs;\r\n    }\r\n}","import * as _ from 'lodash';\r\nimport { Injectable } from '@angular/core';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport { ChangeType } from '../enums/base.enum';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UtilityService {\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        \r\n        return changes;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  SendNotificationRequest,\r\n  SendNotificationResponse,\r\n  RetrieveNotificationThreadRequest,\r\n  RetrieveNotificationThreadResponse,\r\n  SearchInboxNotificationsRequest,\r\n  SearchInboxNotificationsResponse,\r\n  RemoveNotificationDetailRequest,\r\n  RemoveNotificationDetailResponse,\r\n  RetrieveNotificationDetailRequest,\r\n  RetrieveNotificationDetailResponse,\r\n  MarkAllNotificationsReadRequest,\r\n  MarkAllNotificationsReadResponse,\r\n  NotificationDetail\r\n} from '../models/notification.model';\r\n\r\n@Injectable()\r\nexport abstract class BaseNotificationService {\r\n  public abstract success(message: string, title?: string): void;\r\n  public abstract error(message: string, title?: string): void;\r\n  public abstract info(message: string, title?: string): void;\r\n  public abstract warning(message: string, title?: string): void;\r\n  public abstract send(request: SendNotificationRequest): Observable<SendNotificationResponse>;\r\n  public abstract retrieveNotificationThread(request: RetrieveNotificationThreadRequest): Observable<RetrieveNotificationThreadResponse>;\r\n  public abstract searchNotificationDetails(request: SearchInboxNotificationsRequest): Observable<SearchInboxNotificationsResponse>;\r\n  public abstract removeNotificationDetail(request: RemoveNotificationDetailRequest): Observable<RemoveNotificationDetailResponse>;\r\n  public abstract retrieveNotificationDetail(request: RetrieveNotificationDetailRequest): Observable<RetrieveNotificationDetailResponse>;\r\n  public abstract markAllRead(request: MarkAllNotificationsReadRequest): Observable<MarkAllNotificationsReadResponse>;\r\n  public abstract registerConnection();\r\n  public abstract redirect(detail: NotificationDetail): void;\r\n}\r\n","import {\r\n  Component,\r\n  AfterViewInit,\r\n  Type,\r\n  ComponentFactoryResolver,\r\n  ViewContainerRef,\r\n  Input,\r\n  EmbeddedViewRef,\r\n  ViewChild,\r\n  ElementRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ActionService } from '../services';\r\n\r\n@Component({\r\n  selector: 'katana-loader',\r\n  templateUrl: 'loader.component.html',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoaderComponent implements AfterViewInit {\r\n  @Input() public template: Type<any>;\r\n  @Input() public data: any;\r\n  @ViewChild('containerRef', { static: true }) public containerRef: ElementRef;\r\n  public componentRef: any;\r\n\r\n  constructor(\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _actionService: ActionService,\r\n    private _viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this.createComponent();\r\n  }\r\n\r\n  private createComponent() {\r\n    this._viewContainerRef.clear();\r\n    this._actionService.executeAsync(() => {\r\n      const factory = this._componentFactoryResolver.resolveComponentFactory(this.template);\r\n      this.componentRef = this._viewContainerRef.createComponent(factory);\r\n      if (this.data) {\r\n        const fields = Object.keys(this.data);\r\n        if (fields) {\r\n          fields.forEach((field) => {\r\n            this.componentRef.instance[field] = this.data[field];\r\n          });\r\n        }\r\n      }\r\n      if (this.componentRef.instance.init) {\r\n        this.componentRef.instance.init();\r\n      }\r\n      const element = (this.componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n      this.containerRef.nativeElement.appendChild(element);\r\n    });\r\n  }\r\n}","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { TemplateViewModel } from '../../modal.model';\r\nimport { LoaderComponent } from '../../../loader/loader.component';\r\nimport { AggregatorService } from '../../../services/aggregator.service';\r\nimport { ValidationService } from '../../../validation/validation.service';\r\nimport { SummaryError } from '../../../validation/validation.model';\r\n\r\n@Component({\r\n    selector: 'katana-template',\r\n    templateUrl: './template.component.html',\r\n    styleUrls: ['./template.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class TemplateComponent {\r\n    @ViewChild('loader', { static: false }) public loader: LoaderComponent;\r\n    public data: TemplateViewModel;\r\n    public close: Function;\r\n    protected key: string;\r\n\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        private _aggregatorService: AggregatorService,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(null, () => {\r\n                this._modalRef.hide();\r\n            }, this.loader.componentRef.instance);\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept(close) {\r\n        this.close = close;\r\n        this.setKey(() => {\r\n            this.isValid();\r\n        });\r\n    }\r\n\r\n    public show(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance) {\r\n            return this.loader.componentRef.instance.show();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance && this.loader.componentRef.instance.isValid) {\r\n            return this.loader.componentRef.instance.isValid();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public setKey(callback: () => any): void {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance) {\r\n            if (!this.loader.componentRef.instance.getValidator) {\r\n                this.close();\r\n                this.execute();\r\n                return;\r\n            }\r\n            var validator = <ValidationService>this.loader.componentRef.instance.getValidator();\r\n            this.key = this.data.validationKey;\r\n            if (validator && validator.setKey) validator.setKey(this.key);\r\n            this._aggregatorService.subscribe(this.key, (errors: SummaryError[]) => {\r\n                this.close();\r\n                if (!errors || errors.length == 0) {\r\n                    this.execute();\r\n                }\r\n            });\r\n            if (callback) callback();\r\n        }\r\n    }\r\n\r\n    public closeModal(): void {\r\n        this._modalRef.hide();\r\n    }\r\n\r\n    private execute(): void {\r\n        if (this.data.acceptCallback) {\r\n            this._modalRef.hide();\r\n            this.loader.componentRef.instance.callback(this.data.mode).subscribe((response) => {\r\n                this.data.acceptCallback(response, () => {\r\n                    this._modalRef.hide();\r\n                }, this.loader.componentRef.instance);\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel, TemplateViewModel, ConfirmViewModel } from './modal.model';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalService {\r\n  private _modalInstance: BsModalRef;\r\n  constructor(\r\n    private _bsModalService: BsModalService,\r\n    private Ng4LoadingSpinnerService: Ng4LoadingSpinnerService\r\n  ) { }\r\n\r\n  public showLoading(): void {\r\n    this.Ng4LoadingSpinnerService.show();\r\n  }\r\n\r\n  public hideLoading(): void {\r\n    this.Ng4LoadingSpinnerService.hide();\r\n  }\r\n\r\n  public showNotificationDialog(data: NotificationViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(NotificationComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showConfirmDialog(data: ConfirmViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(ConfirmComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showTemplateDialog(data: TemplateViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(TemplateComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation, Input, OnInit } from '@angular/core';\r\nimport { LoadingViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-loading',\r\n    templateUrl: './loading.component.html',\r\n    styleUrls: ['./loading.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoadingComponent implements OnInit {\r\n    @Input() public option: LoadingViewModel;\r\n\r\n    ngOnInit(): void {\r\n        if (!this.option) this.option = new LoadingViewModel();\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'html'\r\n})\r\nexport class HtmlPipe implements PipeTransform {\r\n  constructor(private _sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  public transform(v: string): SafeHtml {\r\n    return this._sanitizer.bypassSecurityTrustHtml(v);\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoaderComponent } from './loader.component';\r\nimport { HtmlPipe } from './html.pipe';\r\n\r\nconst declarations = [\r\n  LoaderComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: [declarations, ...[HtmlPipe]],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class LoaderModule { }","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-button',\r\n  templateUrl: './button.component.html',\r\n  styleUrls: ['./button.component.scss']\r\n})\r\n\r\nexport class ButtonComponent implements OnInit {\r\n  @Input() public title: string;\r\n  @Input() public customClass: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public tooltip: string;\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  @ViewChild('btn', { static: false }) public btn: ElementRef;\r\n  public loading: boolean = false;\r\n\r\n  ngOnInit() { }\r\n\r\n  public handleAction($event): void {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n\r\n  public retrieveButtonClass(): string {\r\n    if (this.customClass) return `btn-${this.customClass}`;\r\n    return 'btn-default';\r\n  }\r\n\r\n  public triggerClick(): void {\r\n    this.btn.nativeElement.click();\r\n  }\r\n}\r\n","import { Component, ViewChild, TemplateRef, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-button',\r\n  templateUrl: './dropdown-button.component.html',\r\n  styleUrls: ['./dropdown-button.component.scss']\r\n})\r\n\r\nexport class DropdownButtonComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public customClass: string;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<Function> = new EventEmitter();\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ContentChildren } from '@angular/core';\r\nimport { DropdownButtonComponent } from './dropdown-button.component';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-buttons',\r\n  templateUrl: './dropdown-buttons.component.html',\r\n  styleUrls: ['./dropdown-buttons.component.scss']\r\n})\r\n\r\nexport class DropdownButtonsComponent {\r\n  @Input() public title: string;\r\n  @Input() public customClass: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  @ContentChildren(DropdownButtonComponent) public items: DropdownButtonComponent[];\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonComponent } from './button/button.component';\r\nimport { DropdownButtonsComponent } from './dropdown-buttons/dropdown-buttons.component';\r\nimport { DropdownButtonComponent } from './dropdown-buttons/dropdown-button.component';\r\nimport { BsDropdownModule } from 'ngx-bootstrap';\r\n\r\n@NgModule({\r\n  declarations: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BsDropdownModule.forRoot()\r\n  ],\r\n  exports: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent]\r\n})\r\n\r\nexport class ButtonModule { }\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { LoaderModule } from '../loader/loader.module';\r\nimport { ModalModule, ComponentLoaderFactory, PositioningService, BsModalService } from 'ngx-bootstrap';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModalService } from './modal.service';\r\nimport { Ng4LoadingSpinnerModule, Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\nimport { LoadingComponent } from './components/loading';\r\nimport { ButtonModule } from '../button/button.module';\r\n\r\nconst declarations = [\r\n  NotificationComponent,\r\n  ConfirmComponent,\r\n  TemplateComponent,\r\n  LoadingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    LoaderModule,\r\n    ButtonModule,\r\n    ModalModule.forRoot(),\r\n    Ng4LoadingSpinnerModule.forRoot()\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class CModalModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CModalModule,\r\n      providers: [\r\n        ComponentLoaderFactory, \r\n        PositioningService,\r\n        BsModalService,\r\n        ModalService,\r\n        Ng4LoadingSpinnerService \r\n      ]\r\n    };\r\n  }\r\n}","import { BaseRequest, BaseResponse, SearchBaseRequest, SearchBaseResponse, MenuTab } from '../shared/models/base.model';\r\nimport { FileViewModel } from '../shared/file/file.model';\r\n\r\nexport class UserViewModel {\r\n    id: string;\r\n    fullName: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    userName: string;\r\n    email?: string;\r\n    image?: FileViewModel;\r\n    phone?: string;\r\n    dateOfBirth?: Date;\r\n    externalInfo?: any;\r\n    system?: SystemViewModel = new SystemViewModel();\r\n    roles?: RoleViewModel[] = [];\r\n    permissions?: PermissionViewModel[] = [];\r\n    constructor(init?: Partial<UserViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationViewModel {\r\n    userName: string;\r\n    password: string;\r\n    key?: string;\r\n    secret?: string;\r\n    constructor(init?: Partial<AuthenticationViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class SystemViewModel {\r\n    name?: string;\r\n    key?: string;\r\n    enabled?: boolean;\r\n    constructor(init?: Partial<SystemViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class RoleViewModel {\r\n    name?: string;\r\n    key?: string;\r\n    permissions?: PermissionViewModel[] = [];\r\n    enabled?: boolean;\r\n    constructor(init?: Partial<PermissionViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class PermissionViewModel {\r\n    page?: PageViewModel = new PageViewModel();\r\n    name?: string;\r\n    key?: string;\r\n    enabled?: boolean;\r\n    activities?: ActivityViewModel[] = [];\r\n    constructor(init?: Partial<PermissionViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class PageViewModel {\r\n    name?: string;\r\n    state?: string;\r\n    parent?: PageViewModel;\r\n    icon?: string;\r\n    constructor(init?: Partial<PageViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ActivityViewModel {\r\n    name?: string;\r\n    key?: string;\r\n    enabled?: boolean;\r\n    constructor(init?: Partial<PageViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginRequest extends BaseRequest<AuthenticationViewModel> {\r\n    token?: string;\r\n    payload: AuthenticationViewModel = new AuthenticationViewModel();\r\n    constructor(init?: Partial<AuthenticationLoginRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginResponse extends BaseResponse<AuthenticationViewModel> {\r\n    user?: UserViewModel;\r\n    menuTabs?: MenuTab[] = [];\r\n    token?: string;\r\n    refreshToken?: string;\r\n    errorMessage?: string;\r\n    constructor(init?: Partial<AuthenticationLoginResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteRequest extends BaseRequest<AuthenticationViewModel> {\r\n    ids: string[];\r\n    constructor(init?: Partial<AuthenticationDeleteRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationDeleteResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchRequest extends SearchBaseRequest {\r\n    constructor(init?: Partial<AuthenticationSearchRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchResponse extends SearchBaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationSearchResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  AuthenticationLoginRequest,\r\n  AuthenticationLoginResponse,\r\n  UserViewModel,\r\n  AuthenticationSearchRequest,\r\n  AuthenticationSearchResponse,\r\n  AuthenticationRetrieveRequest,\r\n  AuthenticationRetrieveResponse,\r\n  AuthenticationCreateRequest,\r\n  AuthenticationCreateResponse,\r\n  AuthenticationUpdateRequest,\r\n  AuthenticationUpdateResponse,\r\n  AuthenticationDeleteRequest,\r\n  AuthenticationDeleteResponse\r\n} from './auth.model';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { AuthConst } from './auth.const';\r\nimport { Router } from '@angular/router';\r\nimport { MockService } from '../shared/services/mock.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { DataService } from '../shared/services/data.service';\r\nimport { SettingService } from '../shared/services/setting.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService extends MockService {\r\n  public currentUser: UserViewModel;\r\n\r\n  constructor(\r\n    protected httpClient: HttpClient,\r\n    protected dataService: DataService,\r\n    protected settingService: SettingService,\r\n    private _cacheService: CacheService,\r\n    private _router: Router\r\n  ) {\r\n    super();\r\n    this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n      if (!response || !response.user) return;\r\n      var user = response.user;\r\n      this.currentUser = user;\r\n      if (this.currentUser) {\r\n        if (!this.currentUser.permissions) this.currentUser.permissions = [];\r\n        if (!this.currentUser.roles) this.currentUser.roles = [];\r\n        for (let i = 0; i < this.currentUser.roles.length; i++) {\r\n          if (!this.currentUser.roles[i].permissions) {\r\n            this.currentUser.roles[i].permissions = [];\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public setApi(url: string): void {\r\n    this._cacheService.set(KeyConst.AuthApi, url);\r\n  }\r\n\r\n  public getApi(): string {\r\n    var url = this._cacheService.get(KeyConst.AuthApi);\r\n    if (!url) url = 'v1/authentications';\r\n    return url;\r\n  }\r\n\r\n  public search(request: AuthenticationSearchRequest): Observable<AuthenticationSearchResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationSearchResponse>(`${this.getApi()}/search`, { params: request as any }), request.mockData)\r\n  }\r\n\r\n  public retrieve(request: AuthenticationRetrieveRequest): Observable<AuthenticationRetrieveResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationRetrieveResponse>(`${this.getApi()}/${request.payload.userName}`), request.mockData);\r\n  }\r\n\r\n  public login(request: AuthenticationLoginRequest): Observable<AuthenticationLoginResponse> {\r\n    return this.verify(this.httpClient.post<AuthenticationLoginResponse>(`${this.getApi()}/login`, request), request.mockData);\r\n  }\r\n\r\n  public create(request: AuthenticationCreateRequest): Observable<AuthenticationCreateResponse> {\r\n    return this.verify(this.httpClient.post<AuthenticationCreateResponse>(`${this.getApi()}/`, request), request.mockData);\r\n  }\r\n\r\n  public update(request: AuthenticationUpdateRequest): Observable<AuthenticationUpdateResponse> {\r\n    return this.verify(this.httpClient.put<AuthenticationUpdateResponse>(`${this.getApi()}/`, request), request.mockData);\r\n  }\r\n\r\n  public delete(request: AuthenticationDeleteRequest): Observable<AuthenticationDeleteResponse> {\r\n    return this.verify(this.httpClient.delete<AuthenticationDeleteResponse>(`${this.getApi()}?ids=${request.ids}`), request.mockData);\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n      if (!response || !response.user) return;\r\n      this.httpClient.post<AuthenticationCreateResponse>(`${this.getApi()}/refresh`, {\r\n        token: response.refreshToken,\r\n        payload: {\r\n          key: this.settingService.useKey(),\r\n          secret: this.settingService.useSecretKey()\r\n        }\r\n      }).subscribe();\r\n    });\r\n  }\r\n\r\n  public logout(path: string = '/', refresh: boolean = false): void {\r\n    if (!this.useMock()) {\r\n      this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n        if (!response || !response.user) return;\r\n        this.httpClient.post<AuthenticationCreateResponse>(`${this.getApi()}/logout`, {\r\n          token: response.token,\r\n          refreshToken: response.refreshToken,\r\n          payload: {\r\n            key: this.settingService.useKey(),\r\n            secret: this.settingService.useSecretKey()\r\n          }\r\n        }).subscribe();\r\n      });\r\n    }\r\n    this._cacheService.remove(AuthConst.Token);\r\n    this._cacheService.remove(KeyConst.AuthApi);\r\n    this._cacheService.remove(KeyConst.Reload);\r\n    this._cacheService.remove(KeyConst.Key);\r\n    this._cacheService.remove(KeyConst.SecretKey);\r\n    if (path) this._router.navigate([path]);\r\n    if (refresh) window.location.href = window.location.href;\r\n  }\r\n}","import { trigger, style, animate, transition } from '@angular/animations';\r\n\r\nexport const fadeInOut = trigger(\r\n  'fadeInOut', [\r\n  transition(':enter', [\r\n    style({ opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeDownInOut = trigger(\r\n  'fadeDownInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateY(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateY(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(30px)', opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeRightInOut = trigger(\r\n  'fadeRightInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateX(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateX(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n  ])\r\n]);","import { Component, ViewChild, ElementRef, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthenticationLoginRequest, AuthenticationLoginResponse } from './auth.model';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { DataService } from '../shared/services/data.service';\r\nimport { ValidationService, ValidationOption, ClientValidator, CustomValidationRule, ValidationRuleResponse } from '../shared/validation';\r\nimport { fadeInOut } from '../shared/triggers';\r\nimport { BaseTemplate } from '../shared/models/base.model';\r\nimport { ButtonComponent } from '../shared/button/button/button.component';\r\nimport { of } from 'rxjs';\r\nimport { SettingService } from '../shared/services/setting.service';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { AuthConst } from './auth.const';\r\n\r\n@Component({\r\n  selector: 'katana-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.scss'],\r\n  animations: [fadeInOut]\r\n})\r\n\r\nexport class AuthComponent implements OnInit, AfterViewInit {\r\n  @Input() public title: string = 'Permission Authentication System';\r\n  @Input() public validator: ClientValidator;\r\n  @Input() public succeedPath: string;\r\n  @Input() public template: BaseTemplate;\r\n  @Input() public api: string;\r\n  @Input() public success: boolean = true;\r\n  @Output() public completed = new EventEmitter<AuthenticationLoginResponse>();\r\n  @ViewChild('formRef', { static: true }) public formRef: ElementRef;\r\n  @ViewChild('btn', { static: true }) public btn: ButtonComponent;\r\n  public request: AuthenticationLoginRequest = new AuthenticationLoginRequest();\r\n  public errorMessage: string;\r\n  protected mock: AuthenticationLoginResponse;\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _cacheService: CacheService,\r\n    private _settingService: SettingService,\r\n    private _authenticationService: AuthenticationService,\r\n    private _validationService: ValidationService,\r\n    private _dataService: DataService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe(data => {\r\n      if (data) {\r\n        this._dataService.getToken((response: AuthenticationLoginResponse) => {\r\n          if (data.succeedPath) this.succeedPath = <string>data.succeedPath;\r\n          if (data.success != undefined) this.success = <boolean>data.success;\r\n          if (data.api) this.api = <string>data.api;\r\n          if (data.mock) this.mock = <AuthenticationLoginResponse>data.mock;\r\n          this._authenticationService.setApi(this.api);\r\n          if (response && response.user) {\r\n            this._router.navigate([this.succeedPath]);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initValidations();\r\n  }\r\n\r\n  public login(close): void {\r\n    if (!this._validationService.isValid()) {\r\n      close();\r\n      return;\r\n    }\r\n    if (this.useMock()) {\r\n      this.request.mockData = this.mock;\r\n    }\r\n    this.request.payload.key = this._settingService.useKey();\r\n    this.request.payload.secret = this._settingService.useSecretKey();\r\n    this._authenticationService.login(this.request).subscribe((response: AuthenticationLoginResponse) => {\r\n      close();\r\n      if (response.status) {\r\n        this._cacheService.set(AuthConst.Token, response);\r\n        this.completed.emit(response);\r\n        if (this.succeedPath) this._router.navigate([this.succeedPath]);\r\n      } else {\r\n        this._cacheService.remove(AuthConst.Token);\r\n        this.completed.emit(response);\r\n        this.errorMessage = response.errorMessage;\r\n      }\r\n    });\r\n  }\r\n\r\n  public trigger(): void {\r\n    this.btn.handleAction({});\r\n  }\r\n\r\n  private useMock(): boolean {\r\n    var currentValue = JSON.parse(window.localStorage.getItem('mock'));\r\n    if (!currentValue) return false;\r\n    return currentValue;\r\n  }\r\n\r\n  private initValidations(): void {\r\n    if (!this.formRef) throw new Error('formRef is null');\r\n    var options: ValidationOption[] = [\r\n      new ValidationOption({\r\n        validationName: 'Username',\r\n        valueResolver: () => this.request.payload.userName,\r\n        rules: [\r\n          new CustomValidationRule(() => {\r\n            this.errorMessage = null;\r\n            return of(new ValidationRuleResponse({\r\n              status: this.request.payload.userName != undefined && this.request.payload.userName != '',\r\n              message: 'Username khng c  trng'\r\n            }));\r\n          }, true)\r\n        ]\r\n      }),\r\n      new ValidationOption({\r\n        validationName: 'Password',\r\n        valueResolver: () => this.request.payload.password,\r\n        rules: [\r\n          new CustomValidationRule(() => {\r\n            this.errorMessage = null;\r\n            return of(new ValidationRuleResponse({\r\n              status: this.request.payload.password != undefined && this.request.payload.password != '',\r\n              message: 'Password khng c  trng'\r\n            }));\r\n          }, true)\r\n        ]\r\n      })\r\n    ];\r\n\r\n    var validator = new ClientValidator({\r\n      formRef: this.formRef,\r\n      options: options,\r\n      payloadRef: () => this\r\n    });\r\n\r\n    this._validationService.init({\r\n      validator: this.validator ? this.validator : validator\r\n    });\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[katanaLabelExtraItem]'\r\n})\r\n\r\nexport class FormDirectorExtraItemDirective {\r\n  constructor(\r\n    public template: TemplateRef<any>\r\n  ) { }\r\n\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form-director',\r\n    templateUrl: './form-director.component.html',\r\n    styleUrls: ['./form-director.component.scss'],\r\n})\r\n\r\nexport class FormDirectorComponent {\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() extraLabelItem: FormDirectorExtraItemDirective;\r\n}","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-item]'\r\n})\r\n\r\nexport class FormItemDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) { }\r\n}\r\n","import { Component, OnInit, ContentChildren, QueryList, TemplateRef, Input, SimpleChanges } from '@angular/core';\r\nimport { FormItemDirective } from './form-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form',\r\n    templateUrl: './form.component.html',\r\n    styleUrls: ['./form.component.scss']\r\n})\r\n\r\nexport class FormComponent implements OnInit {\r\n    @ContentChildren(FormItemDirective) public formItems: QueryList<TemplateRef<any>>;\r\n    @Input() public column: 1 | 2 | 3 | 4 = 4;\r\n    public smallWidth: number = 12;\r\n    public mediumWidth: number = 4;\r\n    public largeWidth: number = 3;\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.column && changes.column.firstChange) {\r\n            const column = changes.column.currentValue;\r\n            switch (column) {\r\n                case 1: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 12;\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 6;\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 6;\r\n                    this.largeWidth = 4;\r\n                    break;\r\n                }\r\n                case 4: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 4;\r\n                    this.largeWidth = 3;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormComponent } from './form.component';\r\nimport { FormDirectorComponent } from './form-director.component';\r\nimport { FormItemDirective } from './form-item.directive';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\nconst declarations = [FormComponent, FormDirectorComponent, FormItemDirective, FormDirectorExtraItemDirective];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: declarations\r\n})\r\n\r\nexport class FormModule { }\r\n","import { Component, Input, Output, EventEmitter, OnDestroy, ContentChild, AfterViewInit, ViewChildren, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormDirectorExtraItemDirective } from '../form';\r\nimport { ActionService } from '../services/action.service';\r\nimport { DataService } from '../services/data.service';\r\n\r\n@Component({\r\n  selector: 'katana-textbox',\r\n  templateUrl: './textbox.component.html',\r\n  styleUrls: ['./textbox.component.scss']\r\n})\r\n\r\nexport class TextboxComponent implements OnDestroy, AfterViewInit {\r\n  @Input() public title: string;\r\n  @Input() public model: string | number;\r\n  @Input() public type: 'text' | 'currency' | 'phone' | 'email' | 'number' | 'password' = 'text';\r\n  @Input() public name: string;\r\n  @Input() public placeholder: string = 'Please input...';\r\n  @Input() public readonly: boolean = false;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public maxCharacters: number = 100;\r\n  @Input() public minNumber: number;\r\n  @Input() public maxNumber: number;\r\n  @Input() public defaultIfEmpty: number = 0;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public alignVertical: boolean = true;\r\n  @Input() public controlName: string;\r\n  @Input() public description: string;\r\n  @Input() public emitNullOnDestroy: boolean = false;\r\n  @Input() public suffix: string;\r\n  @Input() public item: any;\r\n  @Input() public focus: boolean;\r\n  @Output() public modelChange: EventEmitter<string | number> = new EventEmitter();\r\n  @Output() public typing: EventEmitter<string | number> = new EventEmitter();\r\n  @Output() public enter: EventEmitter<string | number> = new EventEmitter();\r\n  @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n  @ViewChild('itemRef', { static: true }) public itemRef: ElementRef;\r\n\r\n  constructor(\r\n    private _actionService: ActionService,\r\n    private _dataService: DataService\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        var elements = document.getElementsByTagName('input');\r\n        if (elements) {\r\n          for (let i = 0; i < elements.length; i++) {\r\n            if (elements[i].id == this.item.id) {\r\n              elements[i].focus();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true) {\r\n      this.modelChange.emit(null);\r\n    }\r\n  }\r\n\r\n  public setDefault(): void {\r\n    if (this.defaultIfEmpty && !this.model) this.model = this.defaultIfEmpty;\r\n  }\r\n\r\n  public handleKeyup($event: any): void {\r\n    this._dataService.initDebounceTime(500).next(() => {\r\n      this.typing.emit(this.model + $event.which);\r\n    });\r\n  }\r\n\r\n  public handleEnter($event: any): void {\r\n    if ($event.which == 13) {\r\n      $event.preventDefault();\r\n      this.enter.emit(this.model);\r\n    }\r\n  }\r\n\r\n  public submitNumeric(newValue: number) {\r\n    if (this.minNumber && newValue < this.minNumber) {\r\n      this.modelChange.emit(+this.minNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    if (this.maxNumber && newValue > this.maxNumber) {\r\n      this.modelChange.emit(+this.maxNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    this.modelChange.emit(+newValue);\r\n  }\r\n\r\n  public getElement(): any {\r\n    var elements = document.getElementsByTagName('input');\r\n    if (elements) {\r\n      for (let i = 0; i < elements.length; i++) {\r\n        if (elements[i].id == this.item.id) {\r\n          return elements[i];\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TextboxComponent } from './textbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\nimport { FormModule } from '../form/form.module';\r\nimport { CURRENCY_MASK_CONFIG } from 'ng2-currency-mask/src/currency-mask.config';\r\n\r\nexport const CustomCurrencyMaskConfig = {\r\n  align: 'left',\r\n  allowNegative: false,\r\n  decimal: '.',\r\n  precision: 0,\r\n  prefix: '',\r\n  suffix: ' VN',\r\n  thousands: ','\r\n};\r\n\r\n@NgModule({\r\n  declarations: [TextboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FormModule,\r\n    CurrencyMaskModule\r\n  ],\r\n  exports: [TextboxComponent],\r\n  providers: [\r\n    { provide: CURRENCY_MASK_CONFIG, useValue: CustomCurrencyMaskConfig }\r\n  ]\r\n})\r\n\r\nexport class TextboxModule {\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { PermissionViewModel, UserViewModel } from './auth.model';\r\nimport { AuthenticationService } from './auth.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PermisisonProvider {\r\n  constructor(\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  public hasPermisison(user: UserViewModel, permisisonKey: string, activityKey: string = null): boolean {\r\n    if (!permisisonKey) return false;\r\n    if (['/', '/auth', '/forbidden', '/not-found'].indexOf(permisisonKey) > -1) return true;\r\n    var currentPermisison = this.retrieveCurrentPermission(user, permisisonKey);\r\n    if (!currentPermisison) return false;\r\n    if (!activityKey) return true;\r\n    var currentActivity = currentPermisison.activities.find(s => s.enabled && s.key == activityKey);\r\n    return currentActivity ? true : false;\r\n  }\r\n\r\n  private retrieveCurrentPermission(user: UserViewModel, key: string): PermissionViewModel {\r\n    if (!key || !user) return null;\r\n    let currentPermisison = user.permissions.find(s => s.enabled && key.indexOf(s.key) > -1);\r\n    if (!currentPermisison) {\r\n      for (let i = 0; i < user.roles.length; i++) {\r\n        if (user.roles[i].enabled) {\r\n          for (let j = 0; j < user.roles[i].permissions.length; j++) {\r\n            if (user.roles[i].permissions[j].enabled && key.indexOf(user.roles[i].permissions[j].key) > -1) return user.roles[i].permissions[j];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return currentPermisison;\r\n  }\r\n}","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-no-content',\r\n  templateUrl: './404.component.html'\r\n})\r\n\r\nexport class NotFoundComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'katana-forbidden',\r\n  templateUrl: './403.component.html'\r\n})\r\n\r\nexport class AccessDeniedComponent {\r\n  constructor(\r\n    private _router: Router,\r\n    private _location: Location) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n\r\n  public back(): void {\r\n    this._location.back();\r\n    this._location.back();\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-working',\r\n  templateUrl: './400.component.html'\r\n})\r\n\r\nexport class WorkingComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NotFoundComponent } from './404/404.component';\r\nimport { AccessDeniedComponent } from './403/403.component';\r\nimport { WorkingComponent } from './400/400.component';\r\n\r\nconst declarations = [\r\n  NotFoundComponent,\r\n  AccessDeniedComponent,\r\n  WorkingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class PageModule { }","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthComponent } from './auth.component';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\nimport { ButtonModule } from '../shared/button/button.module';\r\nimport { TextboxModule } from '../shared/textbox/textbox.module';\r\nimport { PermisisonProvider } from './permission.provider';\r\nimport { PageModule } from '../shared/pages/page.module';\r\n\r\nconst declarations = [\r\n  AuthComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    LoaderModule,\r\n    ReactiveFormsModule,\r\n    ButtonModule,\r\n    TextboxModule,\r\n    PageModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class AuthModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AuthModule,\r\n      providers: [\r\n        AuthenticationService,\r\n        PermisisonProvider\r\n      ]\r\n    };\r\n  }\r\n}","import { Component, ViewChild, TemplateRef, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'katana-tab',\r\n    template: '<ng-template><ng-content></ng-content></ng-template>'\r\n})\r\n\r\nexport class TabItemComponent {\r\n    @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n    @Input() name: string;\r\n    @Input() icon: string;\r\n    public index: number;\r\n}\r\n","import { Component, OnInit, ContentChildren, Output, EventEmitter, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\n@Component({\r\n  selector: 'katana-tabs',\r\n  templateUrl: './tab.component.html',\r\n  styleUrls: ['./tab.component.scss']\r\n})\r\n\r\nexport class TabComponent {\r\n  @ContentChildren(TabItemComponent) public tabs: TabItemComponent[];\r\n  @Output() public change: EventEmitter<TabItemComponent> = new EventEmitter();\r\n  @Input() public displayMode: 'full' | 'default' = 'default';\r\n\r\n  public activeTabIndex: number = 0;\r\n  public clicked: boolean = false;\r\n\r\n  constructor(\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  public switchTab(tabIndex: number, tab: TabItemComponent) {\r\n    if (this.activeTabIndex === tabIndex) return;\r\n    this._changeDetectorRef.detectChanges();\r\n    this.activeTabIndex = tabIndex;\r\n    tab.index = tabIndex;\r\n    this.change.emit(tab);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TabComponent } from './tab.component';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\nconst declarations = [\r\n  TabComponent,\r\n  TabItemComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class TabModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { DataService } from '../../services/data.service';\r\n\r\n@Component({\r\n  selector: 'katana-daterange-picker',\r\n  templateUrl: './daterange.component.html',\r\n  styleUrls: ['./daterange.component.scss']\r\n})\r\n\r\nexport class DaterangePickerComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: Date[];\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'in thng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public selectMode: 'range' | 'single' | 'rangeFrom' | 'rangeTo' = 'range';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date[]> = new EventEmitter();\r\n  public id: string;\r\n\r\n  constructor(protected dataService: DataService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.id = this.dataService.newGuid();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n\r\n  public getElement(): any {\r\n    var elements = document.getElementsByTagName('input');\r\n    if (elements) {\r\n      for (let i = 0; i < elements.length; i++) {\r\n        if (elements[i].id == this.id) {\r\n          return elements[i];\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { DataService } from '../../services/data.service';\r\n\r\n@Component({\r\n  selector: 'katana-datetime-picker',\r\n  templateUrl: './datetime.component.html',\r\n  styleUrls: ['./datetime.component.scss']\r\n})\r\n\r\nexport class DatetimePickerComponent implements OnDestroy, OnInit {\r\n  @Input() public title: string;\r\n  @Input() public model: Date;\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'in thng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date> = new EventEmitter();\r\n  public id: string;\r\n\r\n  constructor(protected dataService: DataService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.id = this.dataService.newGuid();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n\r\n  public getElement(): any {\r\n    var elements = document.getElementsByTagName('input');\r\n    if (elements) {\r\n      for (let i = 0; i < elements.length; i++) {\r\n        if (elements[i].id == this.id) {\r\n          return elements[i];\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, Injectable } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule, OWL_DATE_TIME_LOCALE, OwlDateTimeIntl } from 'ng-pick-datetime';\r\nimport { DatetimePickerComponent } from './datetime/datetime.component';\r\nimport { DaterangePickerComponent } from './daterange/daterange.component';\r\n\r\nconst declarations = [DatetimePickerComponent, DaterangePickerComponent];\r\n\r\n@NgModule({\r\n    declarations: declarations,\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        OwlDateTimeModule,\r\n        OwlNativeDateTimeModule\r\n    ],\r\n    entryComponents: declarations,\r\n    exports: declarations\r\n})\r\n\r\nexport class DatetimePickerModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n            ]\r\n        };\r\n    }\r\n\r\n    public static forChild(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n                { provide: OWL_DATE_TIME_LOCALE, useValue: 'vi' },\r\n                { provide: OwlDateTimeIntl, useClass: DefaultDateTimeLabels }\r\n            ]\r\n        };\r\n    }\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultDateTimeLabels extends OwlDateTimeIntl {\r\n    upSecondLabel = 'Thm 1 giy';\r\n    downSecondLabel = 'Bt 1 giy';\r\n    upMinuteLabel = 'Thm 1 pht';\r\n    downMinuteLabel = 'Bt 1 pht';\r\n    upHourLabel = 'Thm 1 gi';\r\n    downHourLabel = 'Bt 1 gi';\r\n    prevMonthLabel = 'Thng trc';\r\n    nextMonthLabel = 'Thng ti';\r\n    prevYearLabel = 'Nm trc';\r\n    nextYearLabel = 'Nm ti';\r\n    prevMultiYearLabel = '21 nm trc';\r\n    nextMultiYearLabel = '21 nm sau';\r\n    switchToMonthViewLabel = 'Xem theo thng';\r\n    switchToMultiYearViewLabel = 'Xem theo thng nm';\r\n    cancelBtnLabel = 'Quay li';\r\n    setBtnLabel = 'Chn';\r\n    rangeFromLabel = 'T';\r\n    rangeToLabel = 'n';\r\n    hour12AMLabel = 'AM';\r\n    hour12PMLabel = 'PM';\r\n};","import { MockData, Audit } from '../models';\r\n\r\nexport class FileViewModel extends Audit {\r\n    id?: string;\r\n    name?: string;\r\n    src?: string;\r\n    type?: string;\r\n    size?: number;\r\n    constructor(init?: Partial<FileViewModel>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileRequest extends MockData<FileResponse> {\r\n    items: FileViewModel[];\r\n    others?: FileViewModel[];\r\n    createdBy: string;\r\n    constructor(init?: Partial<FileRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileResponse {\r\n    code?: string;\r\n    status?: boolean;\r\n    message?: string;\r\n    totalRecords?: number;\r\n    items: FileViewModel[] = [];\r\n    constructor(init?: Partial<FileResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent, HttpResponse } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { FileRequest, FileResponse, FileViewModel } from './file.model';\r\nimport { MockService } from '../services';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileService extends MockService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        protected authenticationService: AuthenticationService\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    public uploadFiles(request: FileRequest): Observable<FileResponse> {\r\n        return this.verify(this.httpClient.post<FileResponse>('v1/Files/', request), request.mockData);\r\n    }\r\n\r\n    public uploadProgress(file: File): Observable<HttpEvent<FileResponse>> {\r\n        const response = new HttpResponse<FileResponse>({\r\n            body: new FileResponse({\r\n                items: [new FileViewModel({\r\n                    src: 'https://znews-photo.zadn.vn/w660/Uploaded/xbhunku/2017_06_02/338006.jpg',\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                })]\r\n            })\r\n        });\r\n        return of(response);\r\n    }\r\n}\r\n\r\n","export class FileConst {\r\n    public static AcceptedFiles: string = 'txt|doc|docx|image/jpg|image/jpeg|image/png';\r\n    public static MaxSize: number = 5; //MB\r\n}","import { Injectable } from '@angular/core';\r\nimport { FileService } from './file.service';\r\nimport { ModalService } from '../modals';\r\nimport { FileViewModel, FileRequest } from './file.model';\r\nimport { FileConst } from './file.const';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileProvider {\r\n    constructor(\r\n        private _fileService: FileService,\r\n        private _modalService: ModalService,\r\n        private _actionService: ActionService,\r\n        private _authenticationService: AuthenticationService\r\n    ) { }\r\n\r\n    public uploadAsync(files: File[], attachments: FileViewModel[], fileRef: any, callback?: () => any): void {\r\n        var request = this.buildRequest(files, attachments);\r\n        this._actionService.executeAsync(() => {\r\n            const totalAttachmentSize = this.calculateTotalBytes(attachments, request.items);\r\n            if (totalAttachmentSize > FileConst.MaxSize * 1024 * 1024) {\r\n                this._modalService.showNotificationDialog({\r\n                    autoClose: true,\r\n                    title: 'Thng bo',\r\n                    message: 'Dung lng khng c vt qu <span class=\"text-bold text-primary\">' + FileConst.MaxSize + '</span> MB.',\r\n                    btnTitle: 'ng'\r\n                });\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            } else {\r\n                if (request.others.length == 0) {\r\n                    this.uploadFileAsync(request, fileRef, callback);\r\n                } else {\r\n                    let otherTypes = '';\r\n                    request.others.forEach(file => {\r\n                        if (file) {\r\n                            if (otherTypes.indexOf(file.type) == -1) {\r\n                                otherTypes += file.type + '|';\r\n                            }\r\n                        }\r\n                    });\r\n                    if (otherTypes) otherTypes = otherTypes.substring(0, otherTypes.length - 1);\r\n                    if (request.items.length == 0) {\r\n                        this._modalService.showNotificationDialog({\r\n                            autoClose: true,\r\n                            title: 'Thng bo',\r\n                            message: 'nh dng tp tin khng hp l <span class=\"text-bold text-primary\">' + otherTypes + '</span>.',\r\n                            btnTitle: 'ng'\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    } else {\r\n                        this._modalService.showConfirmDialog({\r\n                            autoClose: true,\r\n                            title: 'Thng bo',\r\n                            message: 'C <span class=\"text-bold text-primary\">' + request.others.length + '</span> nh dng tp tin khng hp l <span class=\"text-bold text-primary\">' + otherTypes + '</span>.<br/> Bn c mun tip tc ti tp tin khc khng?',\r\n                            btnAcceptTitle: 'Tip tc',\r\n                            btnCancelTitle: 'Hy',\r\n                            acceptCallback: () => {\r\n                                this.uploadFileAsync(request, fileRef, callback);\r\n                            }\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private uploadFileAsync(request: FileRequest, fileRef: any, callback?: () => any): void {\r\n        this._fileService.uploadFiles(request).subscribe(response => {\r\n            if (fileRef && fileRef.value) {\r\n                fileRef.value = '';\r\n            }\r\n\r\n            if (response && response.items) {\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n\r\n                response.items.forEach((item) => {\r\n                    const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                    if (!currentAttachment) {\r\n                        request.items.push(item);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private calculateTotalBytes(attachments: FileViewModel[], items?: FileViewModel[]): number {\r\n        let totalAmount = 0;\r\n        if (attachments) {\r\n            if (attachments) {\r\n                attachments.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n\r\n            if (items) {\r\n                items.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n        }\r\n        return totalAmount;\r\n    }\r\n\r\n    private buildRequest(files: File[], attachments: FileViewModel[]): FileRequest {\r\n        const request: FileRequest = {\r\n            createdBy: this._authenticationService.currentUser.id,\r\n            items: []\r\n        }\r\n\r\n        const otherFiles: FileViewModel[] = [];\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            if (files[i]) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(files[i]);\r\n                reader.onloadend = () => {\r\n                    const base64String = <string>reader.result;\r\n                    if (files[i].type && FileConst.AcceptedFiles.indexOf(files[i].type) > -1) {\r\n                        request.items.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    } else {\r\n                        otherFiles.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (attachments) {\r\n            attachments.forEach((item) => {\r\n                const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                if (!currentAttachment) {\r\n                    request.items.push(item);\r\n                }\r\n            });\r\n        }\r\n\r\n        request.others = otherFiles;\r\n        return request;\r\n    }\r\n}\r\n","import { Component, Input, ViewChild, OnInit } from \"@angular/core\";\r\nimport { Observable, of } from 'rxjs';\r\nimport { ImageCropperComponent, ImageCroppedEvent } from \"ngx-image-cropper\";\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n    selector: 'katana-cropper',\r\n    templateUrl: './cropper.component.html',\r\n    styleUrls: ['./cropper.component.scss']\r\n})\r\n\r\nexport class CropperComponent implements OnInit {\r\n    @ViewChild('cropper', { static: true }) public cropper: ImageCropperComponent;\r\n    @Input() public imageElement: HTMLImageElement;\r\n    @Input() public eventFile: any;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number = 800;\r\n    @Input() public maintainAspectRatio: boolean = true;\r\n    imageChangedEvent: any = '';\r\n    croppedImage: any = '';\r\n    showCropper = false;\r\n\r\n    constructor(\r\n        private _actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.init();\r\n    }\r\n\r\n    public setImage(image: any) {\r\n        this.imageChangedEvent = this.eventFile;\r\n    }\r\n\r\n    public imageLoaded() {\r\n        this.showCropper = true;\r\n    }\r\n\r\n    public cropperReady() {\r\n    }\r\n\r\n    public loadImageFailed() {\r\n    }\r\n\r\n    public imageCropped(event: ImageCroppedEvent) {\r\n        this.croppedImage = event.base64;\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public callback(): Observable<any> {\r\n        return of(this.croppedImage);\r\n    }\r\n\r\n    public getErrors() {\r\n        return of([]);\r\n    }\r\n\r\n    private init(): void {\r\n        this._actionService.executeAsync(() => {\r\n            this.imageChangedEvent = this.eventFile;\r\n        });\r\n    }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { take, finalize, tap } from 'rxjs/operators';\r\nimport { HttpEventType } from '@angular/common/http';\r\nimport { Subscription } from 'rxjs';\r\nimport { FileViewModel, FileRequest, FileResponse } from './file.model';\r\nimport { CropperComponent } from '../cropper/cropper.component';\r\nimport { FileService } from './file.service';\r\nimport { NotificationViewModel } from '../modals/modal.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ModalService } from '../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-file-uploader',\r\n  templateUrl: './file.component.html',\r\n  styleUrls: ['./file.component.scss']\r\n})\r\n\r\nexport class UploaderComponent implements OnInit, OnDestroy {\r\n  @Input() public icon: string = 'fa fa-twitter';\r\n  @Input() public title: string = 'Chnh sa nh';\r\n  @Input() public multiple: boolean = true;\r\n  @Input() public cropImage: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public maxSize: number = 10 * 1024 * 1024;\r\n  @Input() public fileType: 'doc' | 'image' | 'audio' | 'video' | 'default' = 'default';\r\n  @Input() public cutRatio: number;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Output('checkedLoading') changeLoading = new EventEmitter<boolean>();\r\n  @Output('checkedProgress') changeProgress = new EventEmitter<number>();\r\n  @Output() public fileUploaded: EventEmitter<FileViewModel> = new EventEmitter();\r\n  public loading: boolean;\r\n  public progress: number = 0;\r\n  private currentTypes: any[];\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected fileService: FileService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public onFileUploaded(files: File[], event: any) {\r\n    if (!files || files.length == 0) return;\r\n    this.execute(files, event);\r\n  }\r\n\r\n  private execute(files: File[], event: any): void {\r\n    if (files.length == 0) return;\r\n    var file = files[0];\r\n    const validationResult = this.initValidation(file);\r\n    if (!validationResult.isValid) {\r\n      validationResult.errors.forEach(x => {\r\n        switch (x) {\r\n          case 'Size':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `Kch thc file phi nh hn ${this.maxSize / (1024 * 1024)} mb`\r\n            }));\r\n            break;\r\n          case 'Type':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `Loi file khng ph hp`\r\n            }));\r\n            break;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    if (this.cropImage) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = (loadEvent: any) => {\r\n        const image = new FileViewModel({\r\n          createdDate: new Date(),\r\n          lastModifiedDate: new Date(),\r\n          createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n          lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n        });\r\n        image.src = loadEvent.target.result;\r\n        this.modalService.showTemplateDialog({\r\n          title: this.title,\r\n          validationKey: 'CropperComponent',\r\n          customSize: 'modal-lg',\r\n          mode: 'Custom',\r\n          autoClose: true,\r\n          icon: this.icon,\r\n          data: {\r\n            imageElement: image,\r\n            eventFile: event,\r\n            cutRatio: this.cutRatio,\r\n            maintainAspectRatio: this.maintainAspectRatio,\r\n            resizeToWidth: this.resizeToWidth\r\n          },\r\n          template: CropperComponent,\r\n          acceptCallback: (base64String) => {\r\n            const base64FileParts = base64String.split(',');\r\n            if (base64FileParts.length < 2) {\r\n              return;\r\n            }\r\n            const base64FileData = base64FileParts[1];\r\n            this.loading = true;\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileService.uploadFiles(new FileRequest({\r\n              createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n              items: [new FileViewModel({\r\n                src: base64FileData,\r\n                name: file.name,\r\n                size: file.size,\r\n                type: file.type,\r\n                createdDate: new Date(),\r\n                lastModifiedDate: new Date(),\r\n                createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n              })],\r\n              mockData: new FileResponse({\r\n                status: true,\r\n                items: [\r\n                  new FileViewModel({\r\n                    src: base64String,\r\n                    size: file.size,\r\n                    name: file.name,\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                  })\r\n                ]\r\n              })\r\n            })).pipe(take(1), finalize(() => {\r\n              this.loading = false;\r\n              this.changeLoading.emit(this.loading);\r\n            })).subscribe(response => {\r\n              if (response.items.length > 0) {\r\n                const uploadedFilePath = response.items[0].src;\r\n                this.fileUploaded.emit(new FileViewModel({\r\n                  src: uploadedFilePath,\r\n                  name: file.name,\r\n                  size: file.size,\r\n                  type: file.type,\r\n                  createdDate: new Date(),\r\n                  lastModifiedDate: new Date(),\r\n                  createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                  lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                }));\r\n              }\r\n            });\r\n          }\r\n        })\r\n      };\r\n    } else {\r\n      this.loading = true;\r\n      this.changeLoading.emit(this.loading);\r\n      const uploadFileSubscription = this.fileService.uploadProgress(file).pipe(\r\n        tap((event => {\r\n          if (event.type === HttpEventType.UploadProgress) {\r\n            this.progress = Math.round((100 * event.loaded) / event.total);\r\n            this.changeProgress.emit(this.progress);\r\n          } else if (event.type === HttpEventType.Response) {\r\n            const response = event.body;\r\n            this.progress = 0;\r\n            this.loading = false;\r\n            this.changeProgress.emit(this.progress);\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileUploaded.emit(new FileViewModel({\r\n              src: response.items && response.items.length > 0 ? response.items[0].src : null,\r\n              name: file.name\r\n            }));\r\n          }\r\n        }),\r\n          (err) => {\r\n            console.log(err);\r\n          }\r\n        )).subscribe();\r\n      this.subscriptions.add(uploadFileSubscription);\r\n    }\r\n  }\r\n\r\n  private initValidation(file: File): { isValid: Boolean; errors: any[] } {\r\n    let isValid: boolean = true;\r\n    let errors = [];\r\n    if (this.fileType) {\r\n      this.initExtentionFile(this.fileType);\r\n      const types = file.name.split('.');\r\n      const extension = types[types.length - 1];\r\n      isValid = this.currentTypes.indexOf(extension) >= 0;\r\n      if (!isValid) {\r\n        errors.push('Type');\r\n        return { isValid: isValid, errors: errors };\r\n      }\r\n    }\r\n\r\n    if (this.maxSize && this.maxSize !== 0) {\r\n      isValid = +file.size < +this.maxSize;\r\n      if (!isValid) {\r\n        errors.push('Size');\r\n        return { isValid: isValid, errors: errors };\r\n      };\r\n    }\r\n    return { isValid: isValid, errors: errors };\r\n  }\r\n\r\n  private initExtentionFile(fileType: string) {\r\n    switch (fileType) {\r\n      case 'doc':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx'];\r\n        break;\r\n      case 'image':\r\n        this.currentTypes = ['bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg'];\r\n        break;\r\n      case 'audio':\r\n        this.currentTypes = ['aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma'];\r\n        break;\r\n      case 'video':\r\n        this.currentTypes = ['3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'];\r\n        break;\r\n      case 'default':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx',\r\n          'bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg',\r\n          'aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma',\r\n          '3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'\r\n        ];\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageCropperModule as LibraryModule } from 'ngx-image-cropper';\r\nimport { CropperComponent } from './cropper.component';\r\n\r\n@NgModule({\r\n  declarations: [CropperComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LibraryModule\r\n  ],\r\n  exports: [CropperComponent],\r\n  entryComponents: [CropperComponent]\r\n})\r\n\r\nexport class CropperModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FileService } from './file.service';\r\nimport { FileProvider } from './file.provider';\r\nimport { UploaderComponent } from './file.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CropperModule } from '../cropper/cropper.module';\r\n\r\n@NgModule({\r\n  declarations: [UploaderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CropperModule\r\n  ],\r\n  exports: [UploaderComponent],\r\n  entryComponents: [UploaderComponent],\r\n  providers: [\r\n    FileService,\r\n    FileProvider\r\n  ]\r\n})\r\n\r\nexport class FileModule { }\r\n","import { FileService } from '../file/file.service';\r\nimport { FileRequest, FileViewModel, FileResponse } from '../file/file.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\nexport class EditorAdapter {\r\n    protected loader: any;\r\n    protected fileService: FileService;\r\n    protected authenticationService: AuthenticationService;\r\n\r\n    constructor(loader: any, fileService: FileService, authenticationService: AuthenticationService) {\r\n        this.loader = loader;\r\n        this.fileService = fileService;\r\n        this.authenticationService = authenticationService;\r\n    }\r\n\r\n    public upload(): any {\r\n        return this.loader.file.then(file => new Promise((resolve) => {\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                const base64Data = reader.result.toString().split(',');\r\n                if (base64Data.length < 2) {\r\n                    return;\r\n                }\r\n                const base64FileData = base64Data[1];\r\n                this.fileService.uploadFiles(new FileRequest({\r\n                    items: [\r\n                        new FileViewModel({\r\n                            name: file.name,\r\n                            src: base64FileData\r\n                        })\r\n                    ],\r\n                    mockData: new FileResponse({\r\n                        items: [new FileViewModel({\r\n                            src: <string>reader.result,\r\n                            name: file.name\r\n                        })]\r\n                    })\r\n                })).subscribe(response => {\r\n                    var src = '';\r\n                    if (response.items && response.items.length > 0) {\r\n                        src = response.items[0].src;\r\n                    }\r\n                    resolve({ default: src });\r\n                }, (err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n            reader.readAsDataURL(file);\r\n        }));\r\n    }\r\n}","import { Component, OnDestroy, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport * as Editor from '@ckeditor/ckeditor5-build-classic';\r\nimport { FileService } from '../file';\r\nimport { EditorAdapter } from './editor.adaptor';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.scss']\r\n})\r\n\r\nexport class EditorComponent implements OnDestroy {\r\n  @ViewChild('nativeEditor', { static: true }) public nativeEditor: any;\r\n  @Input() public model: string = '';\r\n  @Input() public plainText: string;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<string> = new EventEmitter();\r\n  @Input() public focus: boolean;\r\n  @Output() public plainTextChange: EventEmitter<string> = new EventEmitter();\r\n  public editor = Editor;\r\n  public config: any = {\r\n    height: '600px'\r\n  };\r\n\r\n  constructor(\r\n    public fileService: FileService,\r\n    public authenticationService: AuthenticationService,\r\n    private _actionService: ActionService\r\n  ) { }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit(null);\r\n  }\r\n\r\n  public change(html: string) {\r\n    const plainText = this.nativeEditor.elementRef.nativeElement.textContent;\r\n    this.plainTextChange.emit(plainText);\r\n    this.modelChange.emit(html);\r\n  }\r\n\r\n  public ready(event: any, fileService: FileService, authenticationService: AuthenticationService): void {\r\n    event.plugins.get('FileRepository').createUploadAdapter = function (loader: any) {\r\n      return new EditorAdapter(loader, fileService, authenticationService);\r\n    };\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        event.ui.getEditableElement().focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  public getElement(): any {\r\n    return this.nativeEditor.elementRef.nativeElement;\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EditorComponent } from './editor.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\n\r\n@NgModule({\r\n  declarations: [EditorComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CKEditorModule\r\n  ],\r\n  exports: [EditorComponent]\r\n})\r\n\r\nexport class EditorModule { }\r\n","import { Component, OnInit, OnDestroy, ContentChild, TemplateRef, Input, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap, switchMap, map, concat, skip } from 'rxjs/operators';\r\nimport { FormDirectorExtraItemDirective } from '../form/form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-dropdown',\r\n    templateUrl: './dropdown.component.html',\r\n    styleUrls: ['./dropdown.component.scss']\r\n})\r\n\r\nexport class DropdownComponent implements OnInit, OnDestroy {\r\n    @ContentChild('itemTemplate', { static: true }) public itemTemplate: TemplateRef<any>;\r\n    @ContentChild('groupTemplate', { static: true }) public groupTemplate: TemplateRef<any>;\r\n    @ContentChild('footerTemplate', { static: true }) public footerTemplate: TemplateRef<any>;\r\n    @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n    @Output() public modelChange = new EventEmitter<any>();\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public bindLabel: string = 'key';\r\n    @Input() public bindValue: string = 'value';\r\n    @Input() public model: any;\r\n    @Input() public closeOnSelect: boolean = true;\r\n    @Input() public dropdownPosition: string = 'auto';\r\n    @Input() public loading: boolean;\r\n    @Input() public loadingText: string = 'ang ti...';\r\n    @Input() public markFirst: boolean;\r\n    @Input() public notFoundText: string = 'Khng tm thy';\r\n    @Input() public placeholder: string = 'Chn thng tin';\r\n    @Input() public pageSize: number = 10;\r\n    @Input() public groupBy: string;\r\n    @Input() public readonly: boolean = false;\r\n    @Input() public disabled: boolean = false;\r\n    @Input() public typeToSearchText: string = 'G  tm kim';\r\n    @Input() public searchable: boolean = true;\r\n    @Input() public searchFunction: (searchText: string, index: number, pageIndex: number, pageSize: number) => Observable<{ items: any[], totalItems: number }>;\r\n    @Input() public lazyload: boolean = false;\r\n    @Input() public beforeSearch: Observable<any>;\r\n    @Input() public afterSearch: Observable<any>;\r\n    @Input() public validationName: string;\r\n    @Input() public validationScope: string;\r\n    @Input() public controlName: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    public totalItems: number = 0;\r\n    public searchItems: any[] = [];\r\n    public searchText$ = new BehaviorSubject<string>(null);\r\n    private subscriptions: Subscription = new Subscription();\r\n    private currentPage: number = 0;\r\n    private numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n    private fetchMore$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n\r\n    constructor(\r\n        private changeDetectorRef: ChangeDetectorRef\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        const search$ = this.searchText$\r\n            .pipe(\r\n                debounceTime(200),\r\n                distinctUntilChanged(),\r\n                tap(() => this.loading = true),\r\n                switchMap((text: string) => {\r\n                    this.currentPage = 0;\r\n                    return this.searchFunction(text, 0, this.currentPage, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.rebind(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n\r\n        const fetchMore$ = this.fetchMore$\r\n            .pipe(\r\n                tap(() => this.loading = true),\r\n                switchMap((pageIndex: number) => {\r\n                    return this.searchFunction(this.searchText$.getValue(), 0, pageIndex, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.append(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n        this.subscriptions.add(fetchMore$.subscribe());\r\n\r\n        if (this.beforeSearch) {\r\n            this.subscriptions.add(this.beforeSearch.pipe(concat(search$)).subscribe());\r\n        } else {\r\n            this.subscriptions.add(search$.subscribe());\r\n        }\r\n\r\n        if (this.afterSearch) {\r\n            const afterSearchSubscription = this.afterSearch.pipe(skip(1)).subscribe(response => this.rebind(response));\r\n            this.subscriptions.add(afterSearchSubscription);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.unsubscribe();\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n\r\n    public onBlur() {\r\n        this.searchText$.next(null);\r\n    }\r\n\r\n    public scroll(lastIndex: number) {\r\n        if (this.loading) {\r\n            return;\r\n        }\r\n\r\n        if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.searchItems.length) {\r\n            this.fetchMore();\r\n        }\r\n    }\r\n\r\n    public fetchMore() {\r\n        this.currentPage++;\r\n        this.fetchMore$.next(this.currentPage);\r\n    }\r\n\r\n    public clear() {\r\n        if (this.lazyload) {\r\n            this.currentPage = 0;\r\n            this.fetchMore$.next(this.currentPage);\r\n        }\r\n    }\r\n\r\n    private rebind(response: any) {\r\n        this.searchItems = response.items;\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private append(response: any) {\r\n        this.searchItems = this.searchItems.concat(response.items);\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DropdownComponent } from './dropdown.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select'\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FormModule } from '../form/form.module';\r\n\r\n@NgModule({\r\n  declarations: [DropdownComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule,\r\n    NgSelectModule,\r\n    FormModule\r\n  ],\r\n  exports: [DropdownComponent]\r\n})\r\n\r\nexport class DropdownModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'katana-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.scss'],\r\n  animations: [trigger('cardToggle', [\r\n    state('collapsed, void',\r\n      style({\r\n        overflow: 'hidden',\r\n        height: '0px',\r\n      })\r\n    ),\r\n    state('expanded',\r\n      style({\r\n        height: AUTO_STYLE,\r\n      })\r\n    ),\r\n    transition('collapsed <=> expanded', [\r\n      animate('400ms ease-in-out')\r\n    ])\r\n  ]), trigger('cardClose', [\r\n    state('open', style({\r\n      opacity: 1\r\n    })),\r\n    state('closed', style({\r\n      opacity: 0,\r\n      display: 'none'\r\n    })),\r\n    transition('open <=> closed', animate('400ms')),\r\n  ])],\r\n})\r\n\r\nexport class CardComponent {\r\n  @Input() public headerContent: string;\r\n  @Input() public title: string;\r\n  @Input() public blockClass: string;\r\n  @Input() public cardClass: string;\r\n  @Input() public classHeader = false;\r\n  public cardToggle = 'expanded';\r\n  public cardClose = 'open';\r\n  public fullCard: string;\r\n  public fullCardIcon: string;\r\n  public loadCard = false;\r\n  public isCardToggled = false;\r\n  public cardLoad: string;\r\n\r\n  public toggleCard(event: any) {\r\n    this.cardToggle = this.cardToggle === 'collapsed' ? 'expanded' : 'collapsed';\r\n  }\r\n\r\n  public closeCard(event: any) {\r\n    this.cardClose = this.cardClose === 'closed' ? 'open' : 'closed';\r\n  }\r\n\r\n  public fullScreen(event: any) {\r\n    this.fullCard = this.fullCard === 'full-card' ? '' : 'full-card';\r\n    this.fullCardIcon = this.fullCardIcon === 'icofont-resize' ? '' : 'icofont-resize';\r\n  }\r\n\r\n  public cardRefresh(event: any) {\r\n    this.loadCard = true;\r\n    this.cardLoad = 'card-load';\r\n    setTimeout(() => {\r\n      this.cardLoad = '';\r\n      this.loadCard = false;\r\n    }, 3000);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CardComponent } from './card.component';\r\n\r\n@NgModule({\r\n  declarations: [CardComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [CardComponent]\r\n})\r\n\r\nexport class CardModule { }\r\n","import { Directive, OnInit } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordion]',\r\n})\r\n\r\nexport class AccordionDirective implements OnInit {\r\n  protected navlinks: AccordionLinkDirective[] = [];\r\n  private countState = 1;\r\n  private _router: Subscription;\r\n  public constructor(private router: Router) { }\r\n\r\n  public closeOtherLinks(openLink: AccordionLinkDirective): void {\r\n    this.countState++;\r\n    if ((openLink.group !== 'sub-toggled' || openLink.group !== 'main-toggled') && this.countState === 1) {\r\n      if (window.innerWidth < 768 || (window.innerWidth >= 768 && window.innerWidth <= 1024)) {\r\n        const toggledElement = <HTMLElement>document.querySelector('#mobile-collapse');\r\n        toggledElement.click();\r\n      }\r\n    }\r\n    this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n      if (link !== openLink && (link.group === 'sub-toggled' || openLink.group !== 'sub-toggled')) {\r\n        link.open = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  public addLink(link: AccordionLinkDirective): void {\r\n    this.navlinks.push(link);\r\n  }\r\n\r\n  public removeGroup(link: AccordionLinkDirective): void {\r\n    const index = this.navlinks.indexOf(link);\r\n    if (index !== -1) {\r\n      this.navlinks.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public getUrl() {\r\n    return this.router.url;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this._router = this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\r\n      this.countState = 0;\r\n      this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n        if (link.group) {\r\n          const routeUrl = this.getUrl();\r\n          const currentUrl = routeUrl.split('/');\r\n          if (currentUrl.indexOf(link.group) > 0) {\r\n            link.open = true;\r\n            this.closeOtherLinks(link);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Directive, HostBinding, Inject, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { AccordionDirective } from './accordion.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionLink]'\r\n})\r\n\r\nexport class AccordionLinkDirective implements OnInit, OnDestroy {\r\n  @Input() public group: any;\r\n  @HostBinding('class.pcoded-trigger')\r\n  @Input()\r\n\r\n  get open(): boolean {\r\n    return this._open;\r\n  }\r\n\r\n  set open(value: boolean) {\r\n    this._open = value;\r\n    document.querySelector('.pcoded-inner-navbar').classList.toggle('scroll-sidebar');\r\n    if (value) {\r\n      this.nav.closeOtherLinks(this);\r\n    }\r\n  }\r\n\r\n  protected _open: boolean;\r\n  protected nav: AccordionDirective;\r\n\r\n  constructor(@Inject(AccordionDirective) nav: AccordionDirective) {\r\n    this.nav = nav;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this.nav.addLink(this);\r\n  }\r\n\r\n  public ngOnDestroy(): any {\r\n    this.nav.removeGroup(this);\r\n  }\r\n\r\n  public toggle(): any {\r\n    document.querySelector('.pcoded-inner-navbar').classList.add('scroll-sidebar');\r\n    this.open = !this.open;\r\n  }\r\n}\r\n","import { Directive, HostListener, Inject } from '@angular/core';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionToggle]'\r\n})\r\n\r\nexport class AccordionAnchorDirective {\r\n  protected navlink: AccordionLinkDirective;\r\n\r\n  constructor( @Inject(AccordionLinkDirective) navlink: AccordionLinkDirective) {\r\n    this.navlink = navlink;\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: any) {\r\n    this.navlink.toggle();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AccordionDirective } from './accordion.directive';\r\nimport { AccordionAnchorDirective } from './accordionanchor.directive';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@NgModule({\r\n  declarations: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective]\r\n})\r\n\r\nexport class AccordionModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaCurrency'\r\n})\r\n\r\nexport class CurrencyPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(value, '1.0')} VN`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDate'\r\n})\r\n\r\nexport class CDatePipe extends DatePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return super.transform(value, 'dd/MM/yyyy');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDateTime'\r\n})\r\nexport class CDatetimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'dd/MM/yyyy HH:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaTime'\r\n})\r\n\r\nexport class TimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'hh:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaNumber'\r\n})\r\n\r\nexport class NumberPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return super.transform(value, '1.0');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'katanaBadge'\r\n})\r\n\r\nexport class BadgePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return null;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaSafe'\r\n})\r\n\r\nexport class SafePipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(value: any) {\r\n        return this.sanitizer.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaEmbedVideo'\r\n})\r\n\r\nexport class CembedVideoPipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(text: any) {\r\n        let result = text;\r\n        const extractOembedTagPattern = new RegExp('<\\s*oembed[^>]*>.*?<\\s*\\/\\s*oembed>', 'gm');\r\n        let extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n        if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n            const oembedTags = [...extractOembedTagsResult];\r\n            while (extractOembedTagsResult) {\r\n                extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n                if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n                    oembedTags.push(...extractOembedTagsResult);\r\n                }\r\n            }\r\n\r\n            const videoTags = oembedTags.map(tag => {\r\n                const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(tag);\r\n                const videoLink = match[1];\r\n                const videoTag = `<iframe src=\"https://www.youtube.com/embed/${videoLink}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n                return videoTag;\r\n            });\r\n\r\n            videoTags.forEach(tag => {\r\n                result = text.replace(extractOembedTagPattern, tag);\r\n            });\r\n        }\r\n\r\n        return this.sanitizer.bypassSecurityTrustHtml(result);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaKb'\r\n})\r\n\r\nexport class KbPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: number, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(Math.round(value / 1024), '1.0')} KB`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaFile'\r\n})\r\n\r\nexport class FilePipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: string, digits?: string, locale?: string): string | null {\r\n    if (!value) return '';\r\n    var name = value.toString();\r\n    var data = name.split('.');\r\n    if (data.length == 1) return `${data[0]}`;\r\n    var index = name.indexOf(data[data.length - 1]);\r\n    return `${name.substring(0, index - 1)} ${data[data.length - 1]}`;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CurrencyPipe } from './currency.pipe';\r\nimport { CDatePipe } from './date.pipe';\r\nimport { CDatetimePipe } from './datetime.pipe';\r\nimport { TimePipe } from './time.pipe';\r\nimport { NumberPipe } from './number.pipe';\r\nimport { BadgePipe } from './badge.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\nimport { CembedVideoPipe } from './oembed-video.pipe';\r\nimport { KbPipe } from './kb.pipe';\r\nimport { FilePipe } from './file.pipe';\r\n\r\nconst pipes = [\r\n  CurrencyPipe,\r\n  CDatePipe,\r\n  CDatetimePipe,\r\n  TimePipe,\r\n  NumberPipe,\r\n  BadgePipe,\r\n  SafePipe,\r\n  CembedVideoPipe,\r\n  KbPipe,\r\n  FilePipe\r\n];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: pipes\r\n})\r\n\r\nexport class FormatterModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n\r\n  public static forChild(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: pipes\r\n    };\r\n  }\r\n}\r\n","export class MenuKey {\r\n    public static Admin: string = 'Admin';\r\n    public static Admin2: string = 'Admin2';\r\n}","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { ButtonDefinition } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultLayoutService {\r\n    public navType: string;\r\n    public themeLayout: string;\r\n    public layoutType: string;\r\n    public verticalPlacement: string;\r\n    public verticalLayout: string;\r\n    public deviceType: string;\r\n    public imgSrc: string;\r\n    public imgTitle: string;\r\n    public verticalNavType: string;\r\n    public verticalEffect: string;\r\n    public vNavigationView: string;\r\n    public pcodedHeaderPosition: string;\r\n    public pcodedSidebarPosition: string;\r\n    public headerTheme: string;\r\n    public logoTheme: string;\r\n    public innerHeight: string;\r\n    public windowWidth: number;\r\n    public toggleOn: boolean;\r\n    public headerFixedMargin: string;\r\n    public navBarTheme: string;\r\n    public activeItemTheme: string;\r\n    public isCollapsedMobile: string;\r\n    public chatToggle: string;\r\n    public chatToggleInverse: string;\r\n    public chatInnerToggle: string;\r\n    public chatInnerToggleInverse: string;\r\n    public menuTitleTheme: string;\r\n    public itemBorder: boolean;\r\n    public itemBorderStyle: string;\r\n    public subItemBorder: boolean;\r\n    public subItemIcon: string;\r\n    public dropDownIcon: string;\r\n    public isSidebarChecked: boolean;\r\n    public isHeaderChecked: boolean;\r\n    private subscriptions: Subscription = new Subscription();\r\n    private toolbarItems: ButtonDefinition[] = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n        this.navType = 'st5';\r\n        this.themeLayout = 'vertical';\r\n        this.vNavigationView = 'view1';\r\n        this.verticalPlacement = 'left';\r\n        this.verticalLayout = 'wide';\r\n        this.deviceType = 'desktop';\r\n        this.verticalNavType = 'offcanvas';\r\n        this.verticalEffect = 'shrink';\r\n        this.pcodedHeaderPosition = 'fixed';\r\n        this.pcodedSidebarPosition = 'fixed';\r\n        this.headerTheme = 'theme1';\r\n        this.logoTheme = 'theme1';\r\n        this.toggleOn = true;\r\n        this.headerFixedMargin = '50px';\r\n        this.navBarTheme = 'themelight1';\r\n        this.activeItemTheme = 'theme4';\r\n        this.isCollapsedMobile = 'no-block';\r\n        this.chatToggle = 'out';\r\n        this.chatToggleInverse = 'in';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'on';\r\n        this.menuTitleTheme = 'theme5';\r\n        this.itemBorder = true;\r\n        this.itemBorderStyle = 'none';\r\n        this.subItemBorder = true;\r\n        this.subItemIcon = 'style6';\r\n        this.dropDownIcon = 'style1';\r\n        this.isSidebarChecked = true;\r\n        this.isHeaderChecked = true;\r\n        const scrollHeight = window.screen.height - 150;\r\n        this.innerHeight = scrollHeight + 'px';\r\n        this.windowWidth = window.innerWidth;\r\n        this.setMenuAttributes(this.windowWidth);\r\n\r\n        const navigationSubscription = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\r\n            this.toolbarItems = [];\r\n        });\r\n        this.subscriptions.add(navigationSubscription);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n    }\r\n\r\n    public onResize(event) {\r\n        this.innerHeight = event.target.innerHeight + 'px';\r\n        this.windowWidth = event.target.innerWidth;\r\n        let reSizeFlag = true;\r\n        if (this.deviceType === 'tablet' && this.windowWidth >= 768 && this.windowWidth <= 1024) {\r\n            reSizeFlag = false;\r\n        } else if (this.deviceType === 'mobile' && this.windowWidth < 768) {\r\n            reSizeFlag = false;\r\n        }\r\n        if (reSizeFlag) {\r\n            this.setMenuAttributes(this.windowWidth);\r\n        }\r\n    }\r\n\r\n    public setMenuAttributes(windowWidth) {\r\n        if (windowWidth >= 768 && windowWidth <= 1024) {\r\n            this.deviceType = 'tablet';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'push';\r\n        } else if (windowWidth < 768) {\r\n            this.deviceType = 'mobile';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'overlay';\r\n        } else {\r\n            this.deviceType = 'desktop';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'shrink';\r\n        }\r\n    }\r\n\r\n    public toggleOpened() {\r\n        if (this.windowWidth < 768) {\r\n            this.toggleOn = this.verticalNavType === 'offcanvas' ? true : this.toggleOn;\r\n        }\r\n        this.verticalNavType = this.verticalNavType === 'expanded' ? 'offcanvas' : 'expanded';\r\n    }\r\n\r\n    public onClickedOutside(e: Event) {\r\n        if (this.windowWidth < 768 && this.toggleOn && this.verticalNavType !== 'offcanvas') {\r\n            this.toggleOn = true;\r\n            this.verticalNavType = 'offcanvas';\r\n        }\r\n    }\r\n\r\n    public onMobileMenu() {\r\n        this.isCollapsedMobile = this.isCollapsedMobile === 'yes-block' ? 'no-block' : 'yes-block';\r\n    }\r\n\r\n    public toggleChat() {\r\n        this.chatToggle = this.chatToggle === 'out' ? 'in' : 'out';\r\n        this.chatToggleInverse = this.chatToggleInverse === 'out' ? 'in' : 'out';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'off';\r\n    }\r\n\r\n    public toggleChatInner() {\r\n        this.chatInnerToggle = this.chatInnerToggle === 'off' ? 'on' : 'off';\r\n        this.chatInnerToggleInverse = this.chatInnerToggleInverse === 'off' ? 'on' : 'off';\r\n    }\r\n\r\n    public setSidebarPosition() {\r\n        this.isSidebarChecked = !this.isSidebarChecked;\r\n        this.pcodedSidebarPosition = this.isSidebarChecked === true ? 'fixed' : 'absolute';\r\n    }\r\n\r\n    public setHeaderPosition() {\r\n        this.isHeaderChecked = !this.isHeaderChecked;\r\n        this.pcodedHeaderPosition = this.isHeaderChecked === true ? 'fixed' : 'relative';\r\n        this.headerFixedMargin = this.isHeaderChecked === true ? '50px' : '';\r\n    }\r\n\r\n    public setBackgroundPattern(pattern) {\r\n        document.querySelector('body').setAttribute('themebg-pattern', pattern);\r\n    }\r\n\r\n    public setLayoutType(type: string) {\r\n        this.layoutType = type;\r\n        if (type === 'dark') {\r\n            this.headerTheme = 'theme6';\r\n            this.navBarTheme = 'theme1';\r\n            this.logoTheme = 'theme6';\r\n            document.querySelector('body').classList.add('dark');\r\n        } else {\r\n            this.headerTheme = 'theme1';\r\n            this.navBarTheme = 'themelight1';\r\n            this.logoTheme = 'theme1';\r\n            document.querySelector('body').classList.remove('dark');\r\n        }\r\n    }\r\n\r\n    public setNavBarTheme(theme: string) {\r\n        if (theme === 'themelight1') {\r\n            this.navBarTheme = 'themelight1';\r\n        } else {\r\n            this.navBarTheme = 'theme1';\r\n        }\r\n    }\r\n\r\n    public initToolbarItems(actions: string[]) {\r\n        this.toolbarItems = actions.map(action => {\r\n            switch (action) {\r\n                case ToolbarAction.Save:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu', style: 'primary', lazyload: true });\r\n                case ToolbarAction.SaveAll:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu tt c', lazyload: true });\r\n                case ToolbarAction.Cancel:\r\n                    return new ButtonDefinition({ action: action, title: 'Hy lu' });\r\n                case ToolbarAction.Back:\r\n                    return new ButtonDefinition({ action: action, title: 'Quay li' });\r\n                case ToolbarAction.EditColumnOptions:\r\n                    return new ButtonDefinition({ action: action, title: 'Qun l ct' });\r\n                case ToolbarAction.SaveAndNew:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu v to mi', lazyload: true });\r\n                case ToolbarAction.Reset:\r\n                    return new ButtonDefinition({ action: action, title: 'Lm mi' });\r\n            }\r\n        });\r\n    }\r\n\r\n    public getToolbarItems() {\r\n        return this.toolbarItems;\r\n    }\r\n\r\n    public hasToolbarItems(): boolean {\r\n        if (!this.toolbarItems) return false;\r\n        return this.toolbarItems.length > 0;\r\n    }\r\n\r\n    public showImage(image: any) {\r\n        this._aggregatorService.publish(KeyConst.ViewImage, image);\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { MenuTab, Breadcrumb, RecommendationResponse } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { AuthenticationService } from '../auth/auth.service';\r\nimport { AuthenticationLoginResponse, UserViewModel } from '../auth/auth.model';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { PermisisonProvider } from '../auth/permission.provider';\r\nimport { DataService } from '../shared/services/data.service';\r\n\r\n@Component({\r\n    templateUrl: './backsite-layout.component.html',\r\n    styleUrls: ['./backsite-layout.component.scss']\r\n})\r\n\r\nexport class AdminLayoutComponent implements OnInit, AfterViewInit {\r\n    public notifications: NotificationDetail[] = [];\r\n    public logo: string = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    public title: string = 'CMC Global - Aspire to inspire the Digital World';;\r\n    public menuTabs: MenuTab[];\r\n    public isModalShow: boolean = false;\r\n    public modalImageSrc: string = '';\r\n    public imageAltText: string = '';\r\n    public breadcrumbs: Breadcrumb[] = [];\r\n    public breadcrumb: Breadcrumb;\r\n    public url: string;\r\n    public authUrl: string = '/auth';\r\n    public setActive: boolean = false;\r\n    public menuType: string = 'TOP';\r\n    public isMobile: boolean;\r\n    public forbidden: string = '/forbidden';\r\n    public notFound: string = '/not-found';\r\n    public previousPath: string = '/';\r\n    public recommendation = new RecommendationResponse({});\r\n    public currentUser: UserViewModel;\r\n    public profileUrl: string;\r\n    public searchPlaceholder: string;\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService,\r\n        public route: ActivatedRoute,\r\n        public authenticationService: AuthenticationService,\r\n        protected router: Router,\r\n        protected actionService: ActionService,\r\n        protected dataService: DataService,\r\n        protected aggregatorService: AggregatorService,\r\n        protected cacheService: CacheService,\r\n        protected permisisonProvider: PermisisonProvider\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.isMobile = this.actionService.isMobile();\r\n        if (this.isMobile) this.menuType = 'LEFT';\r\n        this.aggregatorService.subscribe(KeyConst.ViewImage, (image: any) => {\r\n            this.isModalShow = true;\r\n            this.modalImageSrc = image.src;\r\n            this.imageAltText = image.altText;\r\n        });\r\n\r\n        this.route.data.subscribe(data => {\r\n            if (data) {\r\n                if (data.menuType) this.menuType = <string>data.menuType;\r\n                if (data.logo) this.logo = <string>data.logo;\r\n                if (data.title)<string>data.title;\r\n                if (data.url) this.url = <string>data.url;\r\n                if (data.breadcrumb) this.breadcrumb = <Breadcrumb>data.breadcrumb;\r\n                if (data.forbidden) this.forbidden = <string>data.forbidden;\r\n                if (data.recommendation) this.recommendation = <RecommendationResponse>data.recommendation;\r\n                if (data.profileUrl) this.profileUrl = <string>data.profileUrl;\r\n                if (data.searchPlaceholder) this.searchPlaceholder = <string>data.searchPlaceholder;\r\n                if (!this.breadcrumb) {\r\n                    this.breadcrumb = new Breadcrumb({\r\n                        label: 'Home',\r\n                        url: this.url\r\n                    });\r\n                } else {\r\n                    this.breadcrumb.url = this.url;\r\n                }\r\n                this.dataService.getToken((response) => {\r\n                    if (!response || !response.user) {\r\n                        this.router.navigate([this.authUrl]);\r\n                    }\r\n                    else {\r\n                        this.menuTabs = response.menuTabs;\r\n                        this.currentUser = response.user;\r\n                        this.checkPermision(this.currentUser, this.router, () => {\r\n                            if (this.router.url == '/') this.router.navigate([this.url]);\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.router.events.subscribe((event) => {\r\n            if (event instanceof NavigationEnd) {\r\n                this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n                    if (!response || !response.user) {\r\n                        this.router.navigate([this.authUrl]);\r\n                    }\r\n                    else {\r\n                        this.currentUser = response.user;\r\n                        this.menuTabs = response.menuTabs;\r\n                        this.checkPermision(this.currentUser, this.router, () => {\r\n                            if (this.router.url == '/') {\r\n                                this.router.navigate([this.url]);\r\n                                this.setActive = !this.setActive;\r\n                            } else {\r\n                                var reload = <boolean>this.cacheService.get(KeyConst.Reload);\r\n                                if (reload != false) {\r\n                                    this.cacheService.set(KeyConst.Reload, false);\r\n                                    window.location.reload();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    public isAuthPage(): boolean {\r\n        return this.router.url.indexOf('/auth') > -1;\r\n    }\r\n\r\n    public closeImage(): void {\r\n        this.isModalShow = false;\r\n    }\r\n\r\n    public hasForbidden(): boolean {\r\n        return this.router.url == this.forbidden || this.router.url == this.notFound;\r\n    }\r\n\r\n    public changeMenu(items: Breadcrumb[]): void {\r\n        this.breadcrumbs = items;\r\n        this.breadcrumbs.splice(0, 0, this.breadcrumb);\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.breadcrumbs);\r\n    }\r\n\r\n    private checkPermision(user: UserViewModel, router: Router, callback: () => void): void {\r\n        var isValid = this.permisisonProvider.hasPermisison(user, router.url);\r\n        if (!isValid) {\r\n            router.navigate([this.forbidden]);\r\n        } else {\r\n            if (this.router.url != this.notFound && this.router.url != this.forbidden) {\r\n                this.previousPath = this.router.url;\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation, Output, EventEmitter, Input, OnInit } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { ActionService } from '../shared/services/action.service';\r\n\r\n@Component({\r\n    selector: 'default-breadcrumbs',\r\n    templateUrl: './breadcrumbs.component.html',\r\n    styleUrls: ['./breadcrumbs.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class DefaultBreadcrumbsComponent implements OnInit {\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[];\r\n    @Output() change: EventEmitter<Breadcrumb[]> = new EventEmitter();\r\n\r\n    constructor(\r\n        protected aggregatorService: AggregatorService,\r\n        protected actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public selectItem(item: Breadcrumb): void {\r\n        if (!this.items || this.items.length == 0) return;\r\n        var index = this.items.findIndex(s => s.label == item.label);\r\n        if (index == -1) return;\r\n\r\n        var data = [];\r\n        for (let i = 0; i < this.items.length; i++) {\r\n            data.push(this.items[i]);\r\n            if (this.items[i].label == item.label) break;\r\n        }\r\n        var child = this.actionService.retrieveChild(item.state, this.menuTabs);\r\n        if (child) {\r\n            data.push(child);\r\n        }\r\n        this.items = data;\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.items);\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { animate, style, transition, trigger } from '@angular/animations';\r\nimport { DefaultLayoutService } from './layout.service';\r\n\r\n@Component({\r\n    selector: 'default-customizer',\r\n    templateUrl: 'customizer.component.html',\r\n    styleUrls: [],\r\n    animations: [\r\n        trigger('fadeInOutTranslate', [\r\n            transition(':enter', [\r\n                style({ opacity: 0 }),\r\n                animate('400ms ease-in-out', style({ opacity: 1 }))\r\n            ]),\r\n            transition(':leave', [\r\n                style({ transform: 'translate(0)' }),\r\n                animate('400ms ease-in-out', style({ opacity: 0 }))\r\n            ])\r\n        ])\r\n    ]\r\n})\r\n\r\nexport class DefaultCustomizerComponent {\r\n    public configOpenRightBar: string;\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService\r\n    ) { }\r\n\r\n    public toggleRightbar() {\r\n        this.configOpenRightBar = this.configOpenRightBar === 'open' ? '' : 'open';\r\n    }\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { BaseTemplate } from '../shared/models/base.model';\r\n\r\n@Component({\r\n    selector: 'default-footer',\r\n    templateUrl: './footer.component.html',\r\n    styleUrls: ['./footer.component.scss']\r\n})\r\n\r\nexport class DefaultFooterComponent {\r\n    @Input() public template: BaseTemplate;\r\n    constructor() { }\r\n}\r\n","import { Component, Input, ViewChild, ElementRef, OnInit, OnChanges } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { UserViewModel, AuthenticationLoginResponse } from '../auth/auth.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { AuthenticationService } from '../auth/auth.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { MenuTab, ExtendedMainMenuGroup, MenuItem, RecommendationResponse } from '../shared/models/base.model';\r\nimport { MenuService } from '../shared/services/menu.service';\r\nimport { DataService } from '../shared/services/data.service';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'default-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss']\r\n})\r\n\r\nexport class DefaultHeaderComponent implements OnInit, OnChanges {\r\n    @Input() public notifications: NotificationDetail[] = [];\r\n    @Input() public logo: string;\r\n    @Input() public title: string;\r\n    @Input() public menuType: string;\r\n    @Input() public set: (role: string) => MenuItem;\r\n    @Input() public menuTabs: MenuTab[] = [];\r\n    @Input() public data = new RecommendationResponse();\r\n    @Input() public forbidden: string;\r\n    @Input() public notFound: string;\r\n    @Input() public profileUrl: string;\r\n    @Input() public searchPlaceholder: string;\r\n    @ViewChild('menu', { static: true }) public menu: ElementRef;\r\n    public loading: boolean = false;\r\n    public filter: string;\r\n    public user: UserViewModel;\r\n    public isMobile: boolean;\r\n    public currentUrl: string;\r\n    public menuItems: ExtendedMainMenuGroup[] = [];\r\n    public isCollapsedSideBar: string;\r\n    public isSupplier = false;\r\n    public tabs: { name: string, menu: string, subName: string }[] = [];\r\n    public selectedMenu: ExtendedMainMenuGroup;\r\n    protected debound: Subject<any>;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        protected router: Router,\r\n        protected route: ActivatedRoute,\r\n        protected actionService: ActionService,\r\n        protected dataService: DataService,\r\n        protected aggregatorService: AggregatorService,\r\n        protected authenticationService: AuthenticationService,\r\n        protected menuService: MenuService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (!this.searchPlaceholder) this.searchPlaceholder = 'Please input...';\r\n        this.isMobile = this.actionService.isMobile();\r\n        if (this.isMobile) {\r\n            this.toggleMenu();\r\n        }\r\n        if (!this.authenticationService.currentUser) {\r\n            this.toggleMenu();\r\n        }\r\n        this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n            this.user = response.user;\r\n        });\r\n        this.debound = this.dataService.initDebounceTime(this.data.deboundTime);\r\n        this.registerEvents();\r\n    }\r\n\r\n    ngOnChanges(): void {\r\n        this.initMenu();\r\n        this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n            if (!response || !response.user) return;\r\n            this.user = response.user;\r\n        });\r\n    }\r\n\r\n    public search(): void {\r\n        this.data.show = false;\r\n        this.data.all = false;\r\n        this.aggregatorService.publish(KeyConst.Search, this.data);\r\n    }\r\n\r\n    public clear(): void {\r\n        this.data.keyword = '';\r\n        this.data.show = false;\r\n    }\r\n\r\n    public focus(): void {\r\n        this.setTemplate();\r\n    }\r\n\r\n    public setRecommendation($event: any): void {\r\n        if ($event.which == 13) {\r\n            this.search();\r\n        } else {\r\n            this.setTemplate();\r\n        }\r\n    }\r\n\r\n    public toggleMenu(): void {\r\n        if (this.layoutService.verticalEffect == 'overlay') {\r\n            this.layoutService.verticalEffect = 'shrink';\r\n        } else {\r\n            this.layoutService.verticalEffect = 'overlay';\r\n        }\r\n    }\r\n\r\n    public logout(): void {\r\n        this.authenticationService.logout(null, true);\r\n    }\r\n\r\n    public selectItem(item: ExtendedMainMenuGroup): void {\r\n        if (this.menuItems) {\r\n            this.menuItems.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n        }\r\n        item.selected = true;\r\n        this.selectedMenu = item;\r\n        this.data.selectedMenu = this.selectedMenu.label;\r\n        if (this.selectedMenu.children && this.selectedMenu.children.length > 0) {\r\n            this.selectedMenu.children.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n            this.selectedMenu.children[0].selected = true;\r\n        }\r\n    }\r\n\r\n    public getParentLink(item: ExtendedMainMenuGroup): string {\r\n        if (!item.children || item.children.length == 0) return 'javascript:;';\r\n        var currentItem = item.children[0];\r\n        var link = currentItem.mainState ? `/${currentItem.mainState}/${currentItem.state}` : `/${currentItem.state}`;\r\n        return link;\r\n    }\r\n\r\n    public getChildLink(item: any): string {\r\n        return item.mainState ? `/${item.mainState}/${item.state}` : `/${item.state}`;\r\n    }\r\n\r\n    public selectSubMenu(child: MenuItem): void {\r\n        if (!this.selectedMenu) return;\r\n        if (this.selectedMenu.children) {\r\n            this.selectedMenu.children.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n        }\r\n        child.selected = true;\r\n        this.data.selectedMenu = child.name;\r\n    }\r\n\r\n    public hasForbidden(): boolean {\r\n        return this.router.url == this.forbidden || this.router.url == this.notFound;\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.initMenu();\r\n    }\r\n\r\n    private initMenu(): void {\r\n        this.dataService.getToken((response: AuthenticationLoginResponse) => {\r\n            if (!response || !response.user) return;\r\n            this.user = response.user;\r\n            this.menuTabs = response.menuTabs;\r\n            this.menuService.init(this.menuTabs, () => {\r\n                this.tabs = this.menuService.getTabs();\r\n                this.currentUrl = this.tabs[0].menu;\r\n                this.menuItems = this.menuService.loadFirstTabItems(this.currentUrl);\r\n                this.actionService.executeAsync(() => {\r\n                    this.isCollapsedSideBar = 'no-block';\r\n                });\r\n                this.setMenu();\r\n            }, this.set);\r\n        });\r\n    }\r\n\r\n    private setTemplate(): void {\r\n        if (this.data.keyword && this.data.keyword != '' && this.data.keyword != null) {\r\n            this.data.show = true;\r\n            var paths = this.router.url.split('/');\r\n            this.data.selectedMenu = this.actionService.retrieveStateName(paths[paths.length - 1], this.menuTabs);\r\n            this.debound.next(() => this.aggregatorService.publish(KeyConst.KeywordChanged, this.data));\r\n        } else {\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    private setMenu(): void {\r\n        if (this.menuItems) {\r\n            var url = this.router.url;\r\n            this.menuItems.forEach((item) => {\r\n                if (item.children) {\r\n                    item.children.forEach((kid) => {\r\n                        var state = kid.mainState ? kid.mainState : kid.state;\r\n                        if (url.indexOf(state) > -1) {\r\n                            this.actionService.executeAsync(() => {\r\n                                let items = document.querySelectorAll(\".top-item\");\r\n                                if (items && items.length > 0) {\r\n                                    for (let i = 0; i < items.length; i++) {\r\n                                        const href = (<any>items[i]).href;\r\n                                        if (href && href.toString().indexOf(state) > 0) {\r\n                                            item.selected = true;\r\n                                            this.data.selectedMenu = item.label;\r\n                                            this.selectedMenu = item;\r\n                                            var data = url.split('/');\r\n                                            if (data && data.length > 0 && this.selectedMenu.children) {\r\n                                                var currentChild = this.selectedMenu.children.find(s => s.state == data[data.length - 1]);\r\n                                                if (currentChild) {\r\n                                                    currentChild.selected = true;\r\n                                                    this.data.selectedMenu = currentChild.name;\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, OnInit, OnChanges } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\n\r\n@Component({\r\n    selector: 'default-navbar',\r\n    templateUrl: './navbar.component.html'\r\n})\r\n\r\nexport class DefaultNavBarComponent implements OnInit, OnChanges {\r\n    @Input() public hideBreadcrumbsSection: boolean = false;\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[] = [];\r\n    @Input() public url: string;\r\n    @Input() public breadcrumb: Breadcrumb;\r\n\r\n    constructor(\r\n        private _actionService: ActionService,\r\n        private _router: Router,\r\n        protected aggregatorService: AggregatorService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (!this.items || this.items.length == 0) {\r\n            if (this.menuTabs && this.menuTabs.length > 0) {\r\n                var data = this._router.url;\r\n                var states = data.split('/');\r\n                if (states.length > 0) {\r\n                    var state = states[states.length - 1];\r\n                    if (!state && this.url) {\r\n                        data = this.url;\r\n                        states = data.split('/');\r\n                        state = states[states.length - 1];\r\n                    }\r\n                    if (state) {\r\n                        var name = this._actionService.retrieveStateName(state, this.menuTabs);\r\n                        this._actionService.changeItem({ state: state, name: name }, this.menuTabs, (items) => {\r\n                            this.items = items;\r\n                            this.items.splice(0, 0, this.breadcrumb);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges(): void {\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public retrieveCurrentItem(): Breadcrumb {\r\n        if (!this.items || this.items.length == 0) return null;\r\n        return this.items[this.items.length - 1];\r\n    }\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter, OnChanges } from \"@angular/core\";\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { MenuService } from '../shared/services/menu.service';\r\nimport { ExtendedMainMenuGroup, MenuTab, MenuItem, Breadcrumb } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\n\r\n@Component({\r\n  selector: 'default-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\n\r\nexport class DefaultSidebarComponent implements OnInit, OnChanges {\r\n  @Input() public menuTabs: MenuTab[] = [];\r\n  @Input() public navigateTo: (menu: string, router: Router) => void;\r\n  @Input() public set: (role: string) => MenuItem;\r\n  @Input() public menuType: string;\r\n  @Input() public setActive: boolean;\r\n  @Output() public change = new EventEmitter<Breadcrumb[]>();\r\n  public currentUrl: string;\r\n  public menuItems: ExtendedMainMenuGroup[] = [];\r\n  public isCollapsedSideBar: string;\r\n  public collapsedItems: ExtendedMainMenuGroup[] = [];\r\n  public isSupplier = false;\r\n  public tabs: { name: string, menu: string, subName: string }[] = [];\r\n  public carouselTile: any;\r\n  public isPageLoad: boolean = false;\r\n  public isMobile: boolean;\r\n  public clicked: boolean;\r\n\r\n  constructor(\r\n    public workspaceLayoutService: DefaultLayoutService,\r\n    protected route: ActivatedRoute,\r\n    protected router: Router,\r\n    protected menuService: MenuService,\r\n    protected actionService: ActionService,\r\n    protected aggregatorService: AggregatorService\r\n  ) {\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.actionService.executeAsync(() => {\r\n      this.menuService.init(this.menuTabs, () => {\r\n        this.tabs = this.menuService.getTabs();\r\n        this.currentUrl = this.tabs[0].menu;\r\n        this.menuItems = this.menuService.loadFirstTabItems(this.currentUrl);\r\n        this.actionService.executeAsync(() => {\r\n          this.isCollapsedSideBar = 'no-block';\r\n        });\r\n        this.actionService.executeAsync(() => {\r\n          this.selectMenu();\r\n        });\r\n        this.router.events.subscribe((event) => {\r\n          if (event instanceof NavigationEnd) {\r\n            this.actionService.executeAsync(() => {\r\n              this.selectMenu();\r\n            });\r\n          }\r\n        });\r\n      }, this.set);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.navigateTo) {\r\n      this.navigateTo = (menu: string, router: Router) => {\r\n        router.navigate(['/', menu, 'dashboard']);\r\n      }\r\n    }\r\n    this.isMobile = this.actionService.isMobile();\r\n    if (this.isMobile) {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleMenu(): void {\r\n    if (this.isMobile && this.menuType == 'LEFT') {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleOpenedSidebar(): void {\r\n    this.isCollapsedSideBar = this.isCollapsedSideBar === 'yes-block' ? 'no-block' : 'yes-block';\r\n  }\r\n\r\n  public loadMenu(menu: string): void {\r\n    this.menuItems = this.menuService.loadMenuItems(menu);\r\n    this.currentUrl = menu.toLocaleLowerCase();\r\n    this.navigateTo(this.currentUrl, this.router);\r\n  }\r\n\r\n  public selectItem(item: any): void {\r\n    this.actionService.changeItem(item, this.menuTabs, (items: Breadcrumb[]) => {\r\n      this.change.emit(items);\r\n    });\r\n  }\r\n\r\n  private selectMenu(): void {\r\n    var url = this.router.url;\r\n    var menuItems = document.querySelectorAll('.pcoded-navigatio-lavel');\r\n    if (menuItems && menuItems.length > 0) {\r\n      menuItems.forEach((menu: any) => {\r\n        menu.classList.remove('active');\r\n        var children = document.querySelectorAll(`.${menu.text}`);\r\n        if (children && children.length > 0) {\r\n          children.forEach((child) => {\r\n            child.classList.remove('active');\r\n          });\r\n        }\r\n        if (menu.href && menu.href.indexOf(url) > -1) {\r\n          menu.classList.add('active');\r\n        } else {\r\n          if (children && children.length > 0) {\r\n            children.forEach((child: any) => {\r\n              if (child.href && child.href.indexOf(url) > -1) {\r\n                child.classList.add('active');\r\n                menu.classList.add('active');\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Input } from '@angular/core';\r\nexport class LoaderProvider {\r\n  @Input() public item: any;\r\n}\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { Router, NavigationStart, NavigationEnd, NavigationCancel, NavigationError } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'katana-spinner',\r\n  templateUrl: './spinner.component.html',\r\n})\r\n\r\nexport class SpinnerComponent implements OnDestroy {\r\n  public isSpinnerVisible = true;\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(private router: Router) {\r\n    const routerSubscription = this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationStart) {\r\n        this.isSpinnerVisible = true;\r\n      } else if (event instanceof NavigationEnd || event instanceof NavigationCancel || event instanceof NavigationError) {\r\n        this.isSpinnerVisible = false;\r\n      }\r\n    }, () => {\r\n      this.isSpinnerVisible = false;\r\n    });\r\n    this.subscriptions.add(routerSubscription);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.isSpinnerVisible = false;\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SpinnerComponent } from './spinner.component';\r\n\r\n@NgModule({\r\n  declarations: [SpinnerComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SpinnerComponent]\r\n})\r\n\r\nexport class SpinnerModule { }\r\n","import { Component, Input, Output, EventEmitter, SimpleChanges, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'katana-checkbox',\r\n    templateUrl: './checkbox.component.html',\r\n    styleUrls: ['./checkbox.component.scss']\r\n})\r\n\r\nexport class CheckboxComponent implements OnDestroy {\r\n    @Input() public model: boolean;\r\n    @Input() public title: string;\r\n    @Input() public customModel: any;\r\n    @Output() public customModelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public customModelTransformation: (value: any) => any;\r\n    @Input() public disabled: boolean;\r\n    @Input() public direction: 'vertical' | 'horizontal' = 'horizontal';\r\n    @Input() validationName: string;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.customModel) {\r\n            const value = changes.customModel.currentValue;\r\n            this.model = this.customModelTransformation(value);\r\n            this.customModelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    public onModelChange(value: boolean) {\r\n        if (this.customModelTransformation) {\r\n            const newValue = this.customModelTransformation(value);\r\n            this.customModelChange.emit(newValue);\r\n        } else {\r\n            this.modelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [CheckboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [CheckboxComponent]\r\n})\r\n\r\nexport class CheckboxModule { }\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-row-detail]'\r\n})\r\n\r\nexport class TableRowDetailDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Observable } from 'rxjs';\r\nimport { TableComponent } from './table.component';\r\nimport { TemplateRef, ElementRef, Type } from '@angular/core';\r\nimport { ValidationOption } from '../validation/validation.model';\r\n\r\nexport interface TableEditInline {\r\n  enabled?: boolean;\r\n  autoCommit?: boolean;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any, column?: TableColumn) => Observable<any>;\r\n}\r\n\r\nexport interface TableCell {\r\n  item?: any;\r\n  column?: TableColumn;\r\n}\r\n\r\nexport class TableColumn {\r\n  title?: () => string;\r\n  valueRef?: () => any;\r\n  inlineCallback?: (item?: any, field?: string) => any;\r\n  direction?: string;\r\n  allowSort?: boolean;\r\n  allowFilter?: boolean;\r\n  order?: number;\r\n  customClass?: string;\r\n  defaultSorter?: boolean;\r\n  width?: number;\r\n  textAlign?: string;\r\n  type?: TableColumnType;\r\n  showTooltip?: boolean;\r\n  inlineEdit?: boolean;\r\n  icon?: string;\r\n  validationOption?: ValidationOption;\r\n  callback?: (provider?: TableComponent, element?: ElementRef, $event?: any) => any;\r\n  customTemplate?: () => TemplateRef<any>;\r\n  hide?: () => boolean;\r\n  dropdownConfiguration?: {\r\n    searchFunction: (text: string, index: number, currentPage: number, pageSize: number) => Observable<{ items: any[], totalRecords: number }>,\r\n    multiple?: boolean,\r\n    bindLabel: string,\r\n    bindValue: string,\r\n  };\r\n  id?: string;\r\n  filterTemplate?: () => TemplateRef<any>;\r\n\r\n  constructor(init?: Partial<TableColumn>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableSorter {\r\n  direction?: string;\r\n  orderBy?: string;\r\n  order?: number;\r\n}\r\n\r\nexport class TableAction {\r\n  id?: string;\r\n  title?: () => string;\r\n  tooltip?: () => string;\r\n  icon?: string;\r\n  type?: string = TableConstant.ActionType.Inline;\r\n  customClass?: string;\r\n  executeAsync?: (item?: any, element?: ElementRef, provider?: any, index?: number, loadedCallback?: Function) => any;\r\n  disabled?: boolean;\r\n  hide?: (item?: any) => boolean;\r\n  lazyload?: boolean;\r\n  constructor(init?: Partial<TableAction>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport interface TableRequest {\r\n  searchText?: string;\r\n  pageSize?: number;\r\n  pageIndex?: number;\r\n  sorters?: TableSorter[];\r\n  data?: any;\r\n}\r\n\r\nexport class TableText {\r\n  placeholderSearch?: string = TableConstant.DisplayText.PlaceholderSearch;\r\n  btnSearch?: string = TableConstant.DisplayText.BtnSearch;\r\n  btnReset?: string = TableConstant.DisplayText.BtnReset;\r\n  action?: string = TableConstant.DisplayText.Action;\r\n  selectPageSize?: string = TableConstant.DisplayText.SelectPageSize;\r\n  deleteTitle?: string = TableConstant.DisplayText.DeleteTitle;\r\n  btnAcceptTitle?: string = TableConstant.DisplayText.BtnAcceptTitle;\r\n  btnCancelTitle?: string = TableConstant.DisplayText.BtnCancelTitle\r\n  filterTitle?: string = TableConstant.DisplayText.FilterTitle;\r\n  applyFilter?: string = TableConstant.DisplayText.ApplyFilter;\r\n  detailTitle?: string = TableConstant.DisplayText.DetailTitle;\r\n  pageTitle?: string = TableConstant.DisplayText.PageTitle;\r\n  advancedSearchTitle?: string = TableConstant.DisplayText.AdvancedSearchTitle;\r\n  advancedBtnTitle?: string = TableConstant.DisplayText.AdvancedBtnTitle;\r\n  advancedBtnCancelTitle?: string = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n  allTitle?: string = TableConstant.DisplayText.AllTitle;\r\n  actionIcon?: string = TableConstant.DisplayText.ActionIcon;\r\n}\r\n\r\nexport class TableMessage {\r\n  notFoundMessage?: string = TableConstant.Message.NotFoundMessage;\r\n  foundMessage?: string = TableConstant.Message.FoundMessage;\r\n  invalidFormatMessage?: string = TableConstant.Message.InvalidFormatMessage;\r\n  selectedItemsMessage?: string = TableConstant.Message.SelectedItemsMessage;\r\n  confirmSelectAllRecordsMessage?: string = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n  confirmClearAllRecordsMessage?: string = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n  deleteMessage?: string = TableConstant.Message.DeleteMessage;\r\n  loadingMessage?: string = TableConstant.Message.LoadingMessage;\r\n  refMessage?: string = TableConstant.Message.RefMessage;\r\n}\r\n\r\nexport interface TableResponse<T> {\r\n  totalRecords?: number;\r\n  items?: T[];\r\n}\r\n\r\nexport interface TableServiceProvider {\r\n  searchAsync?: (request?: any) => Observable<any>;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any) => Observable<any>;\r\n  deleteAsync?: (ids: string, all?: boolean) => Observable<any>;\r\n  exportAsync?: (request?: any) => Observable<any>;\r\n}\r\n\r\nexport class TableDatetimeFormat {\r\n  format: string = 'MM/dd/yyyy';\r\n  full: boolean = true;\r\n  constructor(init: Partial<TableDatetimeFormat>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class EdittedField {\r\n  item?: any;\r\n  field?: string;\r\n  index?: number;\r\n  constructor(init: Partial<EdittedField>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ChangedCell {\r\n  oldValue?: any;\r\n  field?: string;\r\n  currentValue?: any;\r\n  constructor(init: Partial<ChangedCell>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ChangedRow {\r\n  currentItem?: any;\r\n  oldItem?: any;\r\n  cells?: ChangedCell[];\r\n  constructor(init: Partial<ChangedRow>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableOption {\r\n  sort?: (a: any, b: any, orderBy: string) => number;\r\n  multiple?: boolean = true;\r\n  datetimeFormat?: TableDatetimeFormat = new TableDatetimeFormat({});\r\n  paging?: boolean;\r\n  selectedItems?: any[];\r\n  serviceProvider?: TableServiceProvider;\r\n  localData?: () => Observable<any[]>;\r\n  request?: TableRequest;\r\n  mainColumns: TableColumn[] = [];\r\n  displayText?: TableText;\r\n  message?: TableMessage;\r\n  componentClass?: string;\r\n  actions?: TableAction[] = [];\r\n  topButtons?: TableAction[] = [];\r\n  rowDetailTemplate?: Type<any>;\r\n  expandFilterArea?: boolean;\r\n  pageSizes?: number[];\r\n  defaultPageSize?: number = 5;\r\n  totalToolbarItem?: number = 5;\r\n  maxPage?: number;\r\n  key?: string;\r\n  title?: string;\r\n  maxLenghtext?: number;\r\n  mode: TableMode = TableMode.full;\r\n  hideSequenceColumn?: boolean = false;\r\n  hideCheckboxColumn?: boolean = false;\r\n  displayMode?: 'list' | 'full';\r\n  defaultOrderBy?: string;\r\n  defautOrderDirection?: string;\r\n  inlineEdit?: boolean = false;\r\n  searchFields?: string[];\r\n  hasColumnFilter?: boolean = false;\r\n  selectedChange: (item: any) => any;\r\n  constructor(init: Partial<TableOption>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport enum TableMode {\r\n  compact = 'compact',\r\n  full = 'full'\r\n}\r\n\r\nexport class TableConstant {\r\n  public static ComponentClass: string = 'primary';\r\n  public static Key: string = 'name';\r\n  public static DatetimeLocate: string = 'vi-VN';\r\n  public static PageSizes: number[] = [5, 10, 15, 20, 50];\r\n  public static Message = {\r\n    NotFoundMessage: 'Cha c thng tin',\r\n    InvalidFormatMessage: 'khng hp l.',\r\n    FoundMessage: 'Tm thy <span class=\"confirm-highlight\">[0]</span> kt qu.',\r\n    SelectedItemsMessage: ' chn <span class=\"highlight\">[0]</span> bn ghi.',\r\n    ConfirmSelectAllRecordsMessage: '<span class=\"confirm-highlight\">Chn tt c kt qu?</span>',\r\n    ConfirmClearAllRecordsMessage: '<span class=\"confirm-highlight text-danger\">B chn tt c </span>?',\r\n    DeleteMessage: 'Bn c chc chn mun xa <span class=\"confirm-highlight text-danger\">[0]</span> khng?',\r\n    LoadingMessage: 'ang ti d liu...',\r\n    RefMessage: 'lin quan ti'\r\n  };\r\n\r\n  public static DisplayText = {\r\n    PlaceholderSearch: 'Nhp t kha tm kim...',\r\n    BtnReset: 'Khi phc',\r\n    BtnSearch: 'Tm kim',\r\n    Action: 'Hnh ng',\r\n    SelectPageSize: 'Hin th',\r\n    DeleteTitle: 'Xa',\r\n    BtnAcceptTitle: 'ng ',\r\n    BtnCancelTitle: 'ng',\r\n    FilterTitle: 'Tm kim theo',\r\n    ApplyFilter: 'p dng lc',\r\n    DetailTitle: 'Thng tin chi tit',\r\n    PageTitle: 'Trang',\r\n    AdvancedSearchTitle: 'Tm kim nng cao',\r\n    AdvancedBtnTitle: 'Tm kim',\r\n    AdvancedBtnCancelTitle: 'Hy b',\r\n    AllTitle: 'Tt c',\r\n    ActionIcon: 'fa fa-bell'\r\n  };\r\n\r\n  public static Direction = {\r\n    ASC: 'asc',\r\n    DESC: 'desc'\r\n  };\r\n\r\n  public static TextAlign = {\r\n    Left: 'left',\r\n    Right: 'right',\r\n    Center: 'center'\r\n  };\r\n\r\n  public static Action = {\r\n    Edit: 'edit',\r\n    Delete: 'delete',\r\n    Custom: 'Custom'\r\n  }\r\n  public static ActionType = {\r\n    Both: 'both',\r\n    Toolbar: 'toolbar',\r\n    Inline: 'inline'\r\n  }\r\n};\r\n\r\nexport enum TableColumnType {\r\n  Number = 'number',\r\n  String = 'string',\r\n  Date = 'date',\r\n  DateTime = 'datetime',\r\n  DateRange = 'daterange',\r\n  DateTimeRange = 'datetimerange',\r\n  Time = 'time',\r\n  TimeRange = 'timerange',\r\n  Boolean = 'boolean',\r\n  Description = 'description',\r\n  Currency = 'currency',\r\n  Dropdown = 'dropdown',\r\n  Custom = 'custom',\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, ContentChild, Renderer2, RendererFactory2, AfterViewInit, OnDestroy, Output, EventEmitter } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { TableOption, TableColumn, TableAction, TableMode, TableConstant, TableResponse, TableText, TableMessage, TableColumnType, EdittedField, ChangedRow, ChangedCell } from './table.model';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { Observable, of, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { DataService } from '../services/data.service';\r\nimport { delay } from \"rxjs/operators\";\r\nimport { ValidationService } from '../validation/validation.service';\r\nimport { ClientValidator, ValidationOption } from '../validation/validation.model';\r\nimport { IgxExcelExporterService, IgxExcelExporterOptions } from 'igniteui-angular';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-table',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.scss'],\r\n  animations: [\r\n    trigger('cAnimation', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateY(-30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateY(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(-30px)', opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('cAnimationFadeRight', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateX(30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateX(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class TableComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public option: TableOption;\r\n  @ViewChild('searchRef', { static: true }) public searchRef: ElementRef;\r\n  @ViewChild('gotoRef', { static: true }) public gotoRef: ElementRef;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: ElementRef;\r\n  @ContentChild(TableRowDetailDirective, { static: true }) public rowDetailTemplate: TableRowDetailDirective;\r\n  @ViewChild('wrapper', { static: false }) public wrapper: ElementRef;\r\n  @Output() public selectedChange = new EventEmitter<any>();\r\n  public items: any[] = [];\r\n  public totalRecords: number = 0;\r\n  public loading: boolean;\r\n  public selectedItems: any[] = [];\r\n  public pageSize: number;\r\n  public orderBy: string;\r\n  public direction: string;\r\n  public totalPages: number[] = [];\r\n  public currentPage: number = 0;\r\n  public filter: any = {};\r\n  public maxPage: number = 5;\r\n  public selectedAll: boolean = false;\r\n  public filterColumns: TableColumn[] = [];\r\n  public toolbarActions: TableAction[] = [];\r\n  public inlineActions: TableAction[] = [];\r\n  public filterSectionToggle: boolean = false;\r\n  public textSearched: string = ``;\r\n  public showReset: boolean = false;\r\n  private defaultPageSize: number = 5;\r\n  private localData?: any[];\r\n  private _render: Renderer2;\r\n  public hasFilterSection: boolean;\r\n  public hasToolbarSection: boolean;\r\n  public hasFooterSection: boolean;\r\n  public hasDetailTemplate: boolean;\r\n  public hasPageSizeChooser: boolean;\r\n  public changePage$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n  public changedRows: ChangedRow[] = [];\r\n  public localFilter: any = {};\r\n  private request: any = {};\r\n  private previousRequest: any = {};\r\n  private recursiveCounter: number = 0;\r\n  private subscriptions: Subscription = new Subscription();\r\n  protected edittedFields: EdittedField[] = [];\r\n  protected previousItems: any[] = [];\r\n\r\n  constructor(\r\n    private thisElement: ElementRef,\r\n    protected rendererFactory: RendererFactory2,\r\n    protected dataService: DataService,\r\n    protected validationService: ValidationService,\r\n    protected excelExporterService: IgxExcelExporterService,\r\n    protected actionService: ActionService\r\n  ) {\r\n    this._render = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n    const changePageSubscription = this.changePage$.pipe(distinctUntilChanged()).subscribe(pageIndex => {\r\n      if (pageIndex < 0 || pageIndex >= this.totalPages.length) return;\r\n      this.currentPage = pageIndex;\r\n      if (!this.option.request) {\r\n        this.option.request = {};\r\n      }\r\n      this.option.request.pageIndex = this.currentPage;\r\n      this.searchAsync(null, null, true).subscribe();\r\n    });\r\n    this.subscriptions.add(changePageSubscription);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.registerEvents();\r\n    this.initValidations();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public init(): void {\r\n    if (this.option.selectedItems && this.option.selectedItems.length > 0) {\r\n      if (!this.selectedItems) this.selectedItems = [];\r\n      this.option.selectedItems.forEach((item) => {\r\n        this.selectedItems.push(item);\r\n      });\r\n    }\r\n\r\n    if (!this.option.mode) this.option.mode = TableMode.full;\r\n    if (!this.option.actions) this.option.actions = [];\r\n    if (!this.option.key) this.option.key = TableConstant.Key;\r\n    if (!this.option.totalToolbarItem) this.option.totalToolbarItem = 5;\r\n    if (this.option.maxPage) this.maxPage = this.option.maxPage;\r\n    if (!this.option.defaultOrderBy) this.option.defaultOrderBy = 'CreatedDate';\r\n    if (!this.option.defautOrderDirection) this.option.defautOrderDirection = TableConstant.Direction.DESC;\r\n    if (!this.option.componentClass) {\r\n      this.option.componentClass = TableConstant.ComponentClass;\r\n      this.thisElement.nativeElement.classList.add(this.option.componentClass);\r\n    }\r\n\r\n    if (this.option.maxLenghtext === undefined || this.option.maxLenghtext === null) {\r\n      this.option.maxLenghtext = 150;\r\n    }\r\n\r\n    this.initTableTableTexts();\r\n    this.initTableTableMessages();\r\n    this.initMainColumns();\r\n    if (this.option.actions) {\r\n      this.option.actions.forEach((action) => {\r\n        if (!action.type) action.type = TableConstant.ActionType.Inline;\r\n      });\r\n    }\r\n    this.toolbarActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Toolbar].indexOf(x.type) >= 0);\r\n    this.inlineActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Inline].indexOf(x.type) >= 0);\r\n\r\n    const inFullMode = this.option.mode === TableMode.full;\r\n    this.filterColumns = this.option.mainColumns.filter(column => column.allowFilter)\r\n      .sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n    this.hasFilterSection = inFullMode;\r\n\r\n    if (this.option.paging === undefined) {\r\n      this.option.paging = inFullMode;\r\n    }\r\n\r\n    if (inFullMode) {\r\n      if (!this.option.pageSizes) this.option.pageSizes = TableConstant.PageSizes;\r\n      if (!this.option.defaultPageSize) this.option.defaultPageSize = TableConstant.PageSizes[0];\r\n      if (this.option.defaultPageSize) this.defaultPageSize = this.option.defaultPageSize;\r\n    }\r\n\r\n    const hasToolbarActions = this.option.actions && this.option.actions.filter(x => [TableConstant.ActionType.Toolbar, TableConstant.ActionType.Both].indexOf(x.type) >= 0).length > 0;\r\n    const hasTopButtons = this.option.topButtons && this.option.topButtons.length > 0;\r\n\r\n    this.hasToolbarSection = inFullMode || hasToolbarActions || hasTopButtons;\r\n    this.hasFooterSection = inFullMode || this.option.paging;\r\n    this.hasPageSizeChooser = this.option.paging;\r\n    if (this.option.hideCheckboxColumn === undefined) {\r\n      this.option.hideCheckboxColumn = !hasToolbarActions;\r\n    }\r\n\r\n    if (!this.option.request) {\r\n      this.option.request = {\r\n        pageIndex: 0,\r\n        pageSize: this.defaultPageSize\r\n      };\r\n      if (this.option.defaultPageSize) {\r\n        this.option.request.pageSize = this.option.defaultPageSize;\r\n        this.pageSize = this.option.request.pageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    } else {\r\n      if (!this.option.request.pageSize) {\r\n        this.pageSize = this.option.request.pageSize;\r\n      } else {\r\n        this.pageSize = this.defaultPageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public callback(): Observable<any> {\r\n    return of(this.selectedItems);\r\n  }\r\n\r\n  public copy(item: any, refresh: boolean = true, execute?: (item: any) => void, callback?: (copyItem: any) => void): void {\r\n    if (!this.items) this.items = [];\r\n    var copyItem = this.dataService.cloneItem(item);\r\n    if (copyItem.id) copyItem.id = this.dataService.newGuid();\r\n    if (execute) {\r\n      execute(copyItem);\r\n    }\r\n    if (this.option.localData) {\r\n      this.localData.push(copyItem);\r\n    }\r\n    this.items.push(copyItem);\r\n    if (callback) callback(copyItem);\r\n    if (refresh == true) {\r\n      this.searchAsync(true).subscribe();\r\n    }\r\n  }\r\n\r\n  public exportToExcel(fileName?: string, callback?: () => any): void {\r\n    if (!this.option.mainColumns || this.option.mainColumns.length == 0) return null;\r\n    var request = this.buildRequest(0, true);\r\n    request.pageSize = 9999999;\r\n    let search = this.option.localData ? (req) => { return this.searchLocalItems(req); } : (req) => { return this.option.serviceProvider.searchAsync(req) };\r\n    if (search) {\r\n      var data = [];\r\n      search(request).subscribe((response) => {\r\n        response.items.forEach((item) => {\r\n          var exportedItem = {};\r\n          this.option.mainColumns.forEach((column) => {\r\n            if (column.valueRef) {\r\n              exportedItem[column.title()] = item[column.valueRef()];\r\n            }\r\n          });\r\n          data.push(exportedItem);\r\n        });\r\n        this.excelExporterService.exportData(data, new IgxExcelExporterOptions(fileName ? fileName : new Date().getTime().toString()));\r\n        if (callback) callback();\r\n      });\r\n    }\r\n  }\r\n\r\n  public resetChanges(): void {\r\n    this.previousItems = [];\r\n    this.changedRows = [];\r\n  }\r\n\r\n  public changeEditor(value: string, item: any, field: string, index: number, ref?: any, validationOption?: ValidationOption, callback?: (item: any, field: string) => any): void {\r\n    var val = this.dataService.removeHTML(value);\r\n    item[field] = val;\r\n    this.acceptInlineEdit(item, field, index, ref, validationOption, callback, false);\r\n  }\r\n\r\n  public acceptInlineEdit(item: any, field: string, index: number, ref?: any, validationOption?: ValidationOption, callback?: (item: any, field: string) => any, autoClose: boolean = true): void {\r\n    if (!validationOption) {\r\n      if (autoClose) {\r\n        this.closeInlineEdit(field, index);\r\n        if (callback) callback(item, field);\r\n      }\r\n      return;\r\n    };\r\n    var element = ref.getElement();\r\n    validationOption.itemRef = item;\r\n    if (!validationOption.valueResolver) {\r\n      validationOption.valueResolver = (item) => {\r\n        return item[field];\r\n      }\r\n    }\r\n    this.validationService.validateElementAsync(element, validationOption).subscribe((response) => {\r\n      if (!response || response.length == 0) {\r\n        var currentItem = this.changedRows.find(s => s.currentItem.id == item.id);\r\n        var previousItem = this.previousItems.find(s => s.id == item.id);\r\n        if (!currentItem) {\r\n          if (item[field] != previousItem[field]) {\r\n            this.changedRows.push(new ChangedRow({\r\n              currentItem: this.dataService.cloneItem(item),\r\n              oldItem: previousItem,\r\n              cells: [\r\n                new ChangedCell({\r\n                  field: field,\r\n                  currentValue: item[field],\r\n                  oldValue: previousItem[field]\r\n                })\r\n              ]\r\n            }));\r\n          }\r\n        } else {\r\n          var currentField = currentItem.cells.find(s => s.field == field);\r\n          if (!currentField) {\r\n            currentItem.cells.push(new ChangedCell({\r\n              field: field,\r\n              currentValue: item[field],\r\n              oldValue: previousItem[field]\r\n            }));\r\n          } else {\r\n            if (item[field] != null && item[field] != undefined && item[field] != '' &&\r\n              currentField.oldValue != null && currentField.oldValue != undefined && currentField.oldValue != '') {\r\n              if (item[field].toString() != currentField.oldValue.toString()) {\r\n                currentField.currentValue = item[field];\r\n              } else {\r\n                var cellIndex = currentItem.cells.findIndex(s => s.field == field);\r\n                currentItem.cells.splice(cellIndex, 1);\r\n                if (currentItem.cells.length == 0) {\r\n                  var currentItemIndex = this.changedRows.findIndex(s => s.currentItem.id == item.id);\r\n                  this.changedRows.splice(currentItemIndex, 1);\r\n                }\r\n              }\r\n            } else {\r\n              currentField.currentValue = item[field];\r\n            }\r\n          }\r\n        }\r\n        if (autoClose) {\r\n          this.closeInlineEdit(field, index);\r\n          if (callback) callback(item, field);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancelInlineEdit(item: any, field: string, index: number): void {\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) return;\r\n    item[field] = currentItem.item[field];\r\n    this.closeInlineEdit(field, index);\r\n  }\r\n\r\n  public closeInlineEdit(field: string, index: number): void {\r\n    var itemIndex = this.edittedFields.findIndex(s => s.field == field && s.index == index);\r\n    if (itemIndex > -1) this.edittedFields.splice(itemIndex, 1);\r\n  }\r\n\r\n  public editInline(item: any, field: string, index: number): void {\r\n    if (!item) return;\r\n    if (this.previousItems.findIndex(s => s.id == item.id) == -1) {\r\n      this.previousItems.push(this.dataService.cloneItem(item));\r\n    }\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) {\r\n      this.edittedFields.push({\r\n        item: this.dataService.cloneItem(item),\r\n        index: index,\r\n        field: field\r\n      });\r\n    } else {\r\n      currentItem.item = this.dataService.cloneItem(item);\r\n    }\r\n    this.validationService.updateAsync(null, item);\r\n  }\r\n\r\n  public hasInlineEdit(item: any, field: string, index: number): boolean {\r\n    if (!this.option || this.option.inlineEdit != true) return false;\r\n    var column = this.option.mainColumns.find(s => s.valueRef() == field);\r\n    if (!column || column.inlineEdit == false) return false;\r\n    if (!item || !this.edittedFields || this.edittedFields.length == 0) return false;\r\n    return (<EdittedField[]>this.edittedFields).findIndex(s => s.field == field && s.index == index) > -1;\r\n  }\r\n\r\n  public retrieveInlineEdit(field: string, index: number): EdittedField {\r\n    if (!this.edittedFields || this.edittedFields.length == 0) return null;\r\n    return (<EdittedField[]>this.edittedFields).find(s => s.field == field && s.index == index);\r\n  }\r\n\r\n  public resetFilters(): void {\r\n    this.filter = {};\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n    this.filterSectionToggle = false;\r\n    this.totalPages = [];\r\n    this.option.request.pageIndex = 0;\r\n    this.currentPage = 0;\r\n    if (!this.option.request.pageSize) {\r\n      this.pageSize = this.option.request.pageSize;\r\n    } else {\r\n      this.pageSize = this.defaultPageSize;\r\n    }\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.searchAsync().subscribe();\r\n    this.showReset = false;\r\n    this.request = {};\r\n  }\r\n\r\n  public getToolbarActions(standard: boolean): TableAction[] {\r\n    let actions: TableAction[] = [];\r\n    if (this.toolbarActions) {\r\n      this.toolbarActions.forEach((action, index) => {\r\n        if (!standard) {\r\n          if (index >= this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        } else {\r\n          if (index < this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return actions;\r\n  }\r\n\r\n  public changePageSize(): void {\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.option.request.pageIndex = 0;\r\n    this.searchAsync().subscribe();\r\n  }\r\n\r\n  public handkeKeypress($event): void {\r\n    if ($event && $event.which == 13) {\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public goto($event: any, blur?: boolean): void {\r\n    if ($event.which == 13 || blur == true) {\r\n      this.currentPage = $event.target.value - 1;\r\n      if (this.currentPage < 0) this.currentPage = 0;\r\n      if (this.currentPage >= this.totalPages.length) {\r\n        this.currentPage = this.totalPages.length - 1;\r\n      }\r\n      $event.target.value = this.currentPage + 1;\r\n      this.changePage$.next(this.currentPage);\r\n    } else {\r\n      if ($event.which < 48 || $event.which > 57) $event.preventDefault();\r\n    }\r\n  }\r\n\r\n  public toggleFilterSection() {\r\n    this.filterSectionToggle = !this.filterSectionToggle;\r\n  }\r\n\r\n  public showSorter(column: TableColumn, direction: string): boolean {\r\n    return column.direction === direction;\r\n  }\r\n\r\n  public toggleRowDetail(item: any) {\r\n    item.toggle = !item.toggle;\r\n  }\r\n\r\n  public sortAsync(column: TableColumn): void {\r\n    if (!column.valueRef) return;\r\n    this.resetSortAsync(column);\r\n    if (column && column.allowSort != false) {\r\n      if (!column.direction) {\r\n        column.direction = TableConstant.Direction.ASC;\r\n      } else {\r\n        column.direction = column.direction == TableConstant.Direction.ASC ? TableConstant.Direction.DESC : TableConstant.Direction.ASC;\r\n      }\r\n    }\r\n    this.orderBy = this.dataService.toPascalCase(column.valueRef());\r\n    this.direction = column.direction;\r\n    this.searchAsync(null, null, false).subscribe();\r\n  }\r\n\r\n  public selectAll(selected: boolean): void {\r\n    this.selectedItems = selected ? [...this.items] : [];\r\n  }\r\n\r\n  public clearAll(): void {\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n    if (this.option.selectedChange) this.option.selectedChange(null);\r\n    this.selectedChange.emit(this.selectedItems);\r\n  }\r\n\r\n  public selectItem(item: any): void {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    const existingItemIndex = selectedIds.indexOf(item.id);\r\n    if (existingItemIndex >= 0) {\r\n      this.selectedItems.splice(existingItemIndex, 1);\r\n    } else {\r\n      this.selectedItems.push(item);\r\n    }\r\n    if (!this.option.multiple) {\r\n      const currentItem = this.selectedItems.find(s => s.id == item.id);\r\n      if (currentItem) {\r\n        this.selectedItems = [currentItem];\r\n      }\r\n    }\r\n    this.selectedChange.emit(item);\r\n    if (this.option.selectedChange) this.option.selectedChange(item);\r\n  }\r\n\r\n  public isRowSelected(item: any) {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    return selectedIds.indexOf(item.id) >= 0;\r\n  }\r\n\r\n  public hasAnyAction(item?: any): boolean {\r\n    const aliveActions = this.inlineActions.filter(x => !x.hide || !x.hide(item));\r\n    return aliveActions.length > 0;\r\n  }\r\n\r\n  public executeActionAsync(action: TableAction, item?: any, $event?: any, index?: number, loadedCallback?: Function): void {\r\n    if (action) {\r\n      const target = $event ? $event.target : null;\r\n      action.executeAsync(item, target, this, index, loadedCallback);\r\n    }\r\n  }\r\n\r\n  public isActive(item: any): boolean {\r\n    if (this.selectedItems.length === 0) return false;\r\n\r\n    const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n    return currentItem && currentItem.checkedRow;\r\n  }\r\n\r\n  public getCurrentIndex(index: number): number {\r\n    if (this.option.request) {\r\n      return this.option.request.pageIndex * this.option.request.pageSize + index + 1;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getDropdownDisplayText(column: TableColumn, item: any) {\r\n    const values = item[column.valueRef()];\r\n    if (!values) return '';\r\n\r\n    if (values instanceof Array) {\r\n      const result = <string[]>values.filter(x => x).map(x => x[column.dropdownConfiguration.bindLabel]);\r\n      return result.join(', ');\r\n    }\r\n    return values[column.dropdownConfiguration.bindLabel];\r\n  }\r\n\r\n  public getPages(n: number): number[] {\r\n    let pages = [];\r\n    if (this.totalPages.length < n) {\r\n      for (let i = this.totalPages.length - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n      return pages;\r\n    }\r\n    if (this.currentPage < n) {\r\n      for (let i = n - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n    } else {\r\n      const count = Math.floor(n / 2);\r\n      const max = this.currentPage + count >= this.totalPages.length ? this.totalPages.length - 1 : this.currentPage + count;\r\n      for (let i = max; i >= this.currentPage - count; i--) {\r\n        pages.push(i);\r\n      }\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  public reload(keepSelectedItems: boolean = false): Observable<boolean> {\r\n    return this.searchAsync(null, null, keepSelectedItems);\r\n  }\r\n\r\n  public filterByColumn(status: boolean): void {\r\n    if (status) {\r\n      this.search(false);\r\n    }\r\n  }\r\n\r\n  public search(advancedFilter?: boolean) {\r\n    this.searchAsync(advancedFilter).subscribe();\r\n  }\r\n\r\n  public trackRecords(record: any) {\r\n    return record ? record.id : undefined;\r\n  }\r\n\r\n  public searchAsync(advancedFilter?: boolean, currentPage?: number, keepSelectedItems: boolean = true): Observable<boolean> {\r\n    this.loading = true;\r\n    const request = this.buildRequest(currentPage, advancedFilter);\r\n    if (this.option.localData) {\r\n      this.option.localData().subscribe((data) => {\r\n        this.localData = data;\r\n        this.searchLocalItems(request).subscribe((response) => {\r\n          this.bindResultData(response, keepSelectedItems);\r\n        });\r\n      });\r\n    } else {\r\n      if (!this.option.serviceProvider || !this.option.serviceProvider.searchAsync) throw new Error('!this.option.serviceProvider.searchAsync');\r\n      this.option.serviceProvider.searchAsync(request).subscribe((response) => {\r\n        this.bindResultData(response, keepSelectedItems);\r\n      });\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  private checkedAllPageItems(): boolean {\r\n    if (!this.selectedItems || !this.items || this.items.length == 0) {\r\n      return false;\r\n    }\r\n    let check = true;\r\n    this.items.forEach((item) => {\r\n      const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n      if (!currentItem) {\r\n        check = false;\r\n        return check;\r\n      }\r\n    });\r\n    return check;\r\n  }\r\n\r\n  private setDefaultOrder(request: any): void {\r\n    if (this.option.defaultOrderBy) this.orderBy = this.option.defaultOrderBy;\r\n    if (this.option.defautOrderDirection) this.direction = this.option.defautOrderDirection;\r\n    request.orderBy = this.orderBy;\r\n    request.direction = this.direction;\r\n    if (!this.orderBy) {\r\n      this.orderBy = \"Id\";\r\n      this.direction = TableConstant.Direction.ASC;\r\n    }\r\n  }\r\n\r\n  public setFilter(key: string, value: any) {\r\n    this.request[key] = value;\r\n    this.currentPage = 0;\r\n    this.filter[key] = value;\r\n    if (this.option && this.option.request) this.option.request.pageIndex = 0;\r\n  }\r\n\r\n  private retrieveAdvancedFilters(advancedFilter: boolean, request: any): void {\r\n    this.filterColumns.forEach((column: TableColumn) => {\r\n      let value = this.filter[column.valueRef()];\r\n      if (this.option.hasColumnFilter) value = this.localFilter[column.valueRef()];\r\n      if (value == undefined || value == 'undefined') {\r\n        value = '';\r\n      }\r\n      if (advancedFilter == true) {\r\n        if (column.type && (column.type.toLowerCase() == 'date' || column.type.toLowerCase() == 'datetime' || column.type.toLowerCase() == 'time')) {\r\n          if (value && value != '') {\r\n            const datetimeValues = <Date[]>value;\r\n            if (datetimeValues.length == 1) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n            } else if (datetimeValues.length == 2) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n              request[column.valueRef() + 'To'] = this.convertDatetime(datetimeValues[1], 'To');\r\n            }\r\n          }\r\n        } else {\r\n          request[column.valueRef()] = value;\r\n        }\r\n      } else {\r\n        request[column.valueRef()] = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  private buildRequest(currentPage?: number, advancedFilter?: boolean): any {\r\n    this.previousRequest = Object.assign({}, this.request);\r\n    let searchText = this.filter.searchText;\r\n    this.textSearched = this.filter.searchText;\r\n    if (searchText == undefined || searchText == 'undefined') {\r\n      searchText = '';\r\n    }\r\n    this.request.pageSize = this.option.request.pageSize;\r\n    if (!this.option.paging) {\r\n      this.request.pageSize = 999999;\r\n      this.pageSize = 999999;\r\n    }\r\n    this.request.searchText = searchText;\r\n    this.request.direction = this.direction;\r\n    this.request.orderBy = this.orderBy;\r\n    if (!this.orderBy) this.setDefaultOrder(this.request);\r\n    this.retrieveAdvancedFilters(advancedFilter, this.request);\r\n    this.request.pageIndex = this.option.request.pageIndex;\r\n    if (currentPage) {\r\n      this.request.pageIndex = currentPage;\r\n      this.currentPage = currentPage;\r\n    }\r\n    const changes = this.dataService.compareObjects(this.previousRequest, this.request);\r\n    const isChanged = changes.filter(x => ['pageIndex', 'pageSize'].indexOf(x.propertyName) < 0).length > 0;\r\n    if (isChanged) {\r\n      this.option.request.pageIndex = 0;\r\n      this.request.pageIndex = 0;\r\n      this.currentPage = 0;\r\n    }\r\n    if (this.option.hasColumnFilter) {\r\n      const fields = Object.keys(this.localFilter);\r\n      if (fields) {\r\n        fields.forEach((field) => {\r\n          if (!this.option.searchFields) this.option.searchFields = [];\r\n          if (!this.option.searchFields.find(s => s == field)) {\r\n            this.option.searchFields.push(field);\r\n          }\r\n          this.request[field] = this.localFilter[field];\r\n        });\r\n      }\r\n    }\r\n    return this.request;\r\n  }\r\n\r\n  private convertDatetime(dt: Date, type: string): string {\r\n    if (!dt) return '';\r\n    let convertedDatetime = new Date(dt);\r\n    let days = convertedDatetime.getDate().toString();\r\n    if (days.length < 2) days = '0' + days;\r\n    let months = (convertedDatetime.getMonth() + 1).toString();\r\n    if (months.length < 2) months = '0' + months;\r\n    let hours = convertedDatetime.getHours().toString();\r\n    if (hours.length < 2) hours = '0' + hours;\r\n    let minutes = convertedDatetime.getMinutes().toString();\r\n    if (minutes.length < 2) minutes = '0' + minutes;\r\n    const year = convertedDatetime.getFullYear();\r\n\r\n    switch (this.option.datetimeFormat.format) {\r\n      case 'dd/MM/yyyy':\r\n        return days + '/' + months + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'dd/MM/yyyy HH:mm':\r\n        return days + '/' + months + '/' + year + ' ' + hours + ':' + minutes;\r\n      case 'MM/dd/yyyy':\r\n        return months + '/' + days + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'MM/dd/yyyy HH:mm':\r\n        return months + '/' + days + '/' + year + ' ' + hours + ':' + minutes;\r\n    }\r\n  }\r\n\r\n  private searchLocalItems(request: any): Observable<any> {\r\n    let result: any[] = this.localData;\r\n    const orderBy = this.dataService.getField(request.orderBy, true);\r\n    if (request.direction == TableConstant.Direction.ASC) {\r\n      if (!this.option.sort) {\r\n        result = result.sort((a: any, b: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((a: any, b: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    } else {\r\n      if (!this.option.sort) {\r\n        result = result.sort((b: any, a: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((b: any, a: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    }\r\n\r\n    let items: any[] = [];\r\n    if (request.pageIndex >= 0 && request.pageSize > 0) {\r\n      const localResult = [];\r\n      if ((request.searchText) && this.option.searchFields && this.option.searchFields.length > 0) {\r\n        this.option.searchFields.forEach(field => {\r\n          const response = result.filter(s => this.fuzzysearch(request.searchText, s[field]));\r\n          if (response) {\r\n            response.forEach((item) => {\r\n              if (localResult.findIndex(s => s.id == item.id) == -1) {\r\n                localResult.push(item);\r\n              }\r\n            });\r\n          }\r\n        });\r\n        result = localResult;\r\n      }\r\n\r\n      var filter = {};\r\n      this.retrieveAdvancedFilters(true, filter);\r\n      if (this.filterColumns) {\r\n        this.filterColumns.forEach((column) => {\r\n          var value = filter[column.valueRef()];\r\n          if (value) {\r\n            result = result.filter(s => this.fuzzysearch(value, s[column.valueRef()]));\r\n          }\r\n        });\r\n      }\r\n\r\n      items = result.filter(s => (result.indexOf(s) >= request.pageIndex * request.pageSize) && (result.indexOf(s) < (request.pageIndex + 1) * request.pageSize));\r\n    }\r\n    const response: TableResponse<any> = {\r\n      items: items,\r\n      totalRecords: result.length\r\n    };\r\n    return of(response).pipe(delay(250));\r\n  }\r\n\r\n  private convertUCode(c: string): string {\r\n    if ('a'.indexOf(c) > -1) return 'a';\r\n    if ('d'.indexOf(c) > -1) return 'd';\r\n    if ('o'.indexOf(c) > -1) return 'o';\r\n    if ('u'.indexOf(c) > -1) return 'u';\r\n    if ('i'.indexOf(c) > -1) return 'i';\r\n    if ('y'.indexOf(c) > -1) return 'y';\r\n    if ('e'.indexOf(c) > -1) return 'e';\r\n    return c;\r\n  }\r\n\r\n  private fuzzysearch(needle: any, haystack: any): boolean {\r\n    if (!needle || !haystack) return false;\r\n    const haystackLC = this.removeAllSpaces(haystack.toString().toLowerCase());\r\n    const needleLC = this.removeAllSpaces(needle.toString().toLowerCase());\r\n    const hlen = haystack.toString().length;\r\n    const nlen = needleLC.toString().length;\r\n    if (nlen > hlen) {\r\n      return false;\r\n    }\r\n    if (nlen === hlen) {\r\n      return needleLC === haystackLC;\r\n    }\r\n    outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n      const nch = this.convertUCode(needleLC[i]);\r\n      while (j < hlen) {\r\n        if (this.convertUCode(haystackLC[j++]) === nch) {\r\n          continue outer;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private removeAllSpaces(str?: string): string {\r\n    if (!str) return '';\r\n    return str.replace(/\\s/g, '');\r\n  }\r\n\r\n  private bindResultData(response: TableResponse<any>, keepSelectedItems: boolean = true): void {\r\n    this.actionService.executeAsync(() => {\r\n      this.items = response.items;\r\n      this.totalRecords = response.totalRecords;\r\n      this.calculatePages();\r\n\r\n      if (!keepSelectedItems) {\r\n        this.selectedItems = [];\r\n      }\r\n\r\n      this.selectedAll = this.checkedAllPageItems();\r\n\r\n      if (this.currentPage > this.totalPages.length - 1) {\r\n        this.recursiveCounter++;\r\n        if (this.recursiveCounter < 3) {\r\n          this.searchAsync(null, this.totalPages.length - 1).subscribe();\r\n        }\r\n      }\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  private calculatePages(): void {\r\n    let pages = Math.floor(this.totalRecords / this.pageSize);\r\n    if (pages <= 0) {\r\n      pages = 1;\r\n    }\r\n    if (this.totalRecords % this.pageSize > 0) {\r\n      pages += 1;\r\n    }\r\n    if (this.totalRecords < this.pageSize) {\r\n      pages = 1;\r\n    }\r\n    this.totalPages = [];\r\n    for (let i = 0; i < pages; i++) {\r\n      this.totalPages.push(i);\r\n    }\r\n  }\r\n\r\n  private resetSortAsync(currentColumn: TableColumn): void {\r\n    this.option.mainColumns = this.option.mainColumns.map(column => {\r\n      if (column.id !== currentColumn.id) column.direction = undefined;\r\n      return column;\r\n    });\r\n  }\r\n\r\n  private initTableTableTexts(): void {\r\n    if (!this.option.displayText) {\r\n      this.option.displayText = new TableText();\r\n    } else {\r\n      if (!this.option.displayText) this.option.displayText.placeholderSearch = TableConstant.DisplayText.PlaceholderSearch;\r\n      if (!this.option.displayText.btnSearch) this.option.displayText.btnSearch = TableConstant.DisplayText.BtnSearch;\r\n      if (!this.option.displayText.btnReset) this.option.displayText.btnReset = TableConstant.DisplayText.BtnReset;\r\n      if (!this.option.displayText.action) this.option.displayText.action = TableConstant.DisplayText.Action;\r\n      if (!this.option.displayText.selectPageSize) this.option.displayText.selectPageSize = TableConstant.DisplayText.SelectPageSize;\r\n      if (!this.option.displayText.deleteTitle) this.option.displayText.deleteTitle = TableConstant.DisplayText.DeleteTitle;\r\n      if (!this.option.displayText.btnAcceptTitle) this.option.displayText.btnAcceptTitle = TableConstant.DisplayText.BtnAcceptTitle;\r\n      if (!this.option.displayText.btnCancelTitle) this.option.displayText.btnCancelTitle = TableConstant.DisplayText.BtnCancelTitle\r\n      if (!this.option.displayText.filterTitle) this.option.displayText.filterTitle = TableConstant.DisplayText.FilterTitle;\r\n      if (!this.option.displayText.applyFilter) this.option.displayText.applyFilter = TableConstant.DisplayText.ApplyFilter;\r\n      if (!this.option.displayText.detailTitle) this.option.displayText.detailTitle = TableConstant.DisplayText.DetailTitle;\r\n      if (!this.option.displayText.pageTitle) this.option.displayText.pageTitle = TableConstant.DisplayText.PageTitle;\r\n      if (!this.option.displayText.advancedSearchTitle) this.option.displayText.advancedSearchTitle = TableConstant.DisplayText.AdvancedSearchTitle;\r\n      if (!this.option.displayText.advancedBtnTitle) this.option.displayText.advancedBtnTitle = TableConstant.DisplayText.AdvancedBtnTitle;\r\n      if (!this.option.displayText.advancedBtnCancelTitle) this.option.displayText.advancedBtnCancelTitle = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n      if (!this.option.displayText.allTitle) this.option.displayText.allTitle = TableConstant.DisplayText.AllTitle;\r\n      if (!this.option.displayText.actionIcon) this.option.displayText.actionIcon = TableConstant.DisplayText.ActionIcon;\r\n    }\r\n  }\r\n\r\n  private initTableTableMessages(): void {\r\n    if (!this.option.message) {\r\n      this.option.message = new TableMessage();\r\n    } else {\r\n      if (!this.option.message.notFoundMessage) this.option.message.notFoundMessage = TableConstant.Message.NotFoundMessage;\r\n      if (!this.option.message.foundMessage) this.option.message.foundMessage = TableConstant.Message.FoundMessage;\r\n      if (!this.option.message.invalidFormatMessage) this.option.message.invalidFormatMessage = TableConstant.Message.InvalidFormatMessage;\r\n      if (!this.option.message.selectedItemsMessage) this.option.message.selectedItemsMessage = TableConstant.Message.SelectedItemsMessage;\r\n      if (!this.option.message.confirmSelectAllRecordsMessage) this.option.message.confirmSelectAllRecordsMessage = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n      if (!this.option.message.confirmClearAllRecordsMessage) this.option.message.confirmClearAllRecordsMessage = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n      if (!this.option.message.deleteMessage) this.option.message.deleteMessage = TableConstant.Message.DeleteMessage;\r\n      if (!this.option.message.loadingMessage) this.option.message.loadingMessage = TableConstant.Message.LoadingMessage;\r\n      if (!this.option.message.refMessage) this.option.message.refMessage = TableConstant.Message.RefMessage;\r\n    }\r\n  }\r\n\r\n  private initMainColumns(): void {\r\n    if (!this.option.mainColumns) {\r\n      this.option.mainColumns = [];\r\n    }\r\n    this.option.mainColumns.forEach((column) => {\r\n      if (!column.textAlign) column.textAlign = TableConstant.TextAlign.Left;\r\n      if (column && !column.id) {\r\n        column.id = this.dataService.newGuid();\r\n      }\r\n      if (column.allowFilter) {\r\n        if (column.type === TableColumnType.Dropdown) {\r\n          if (!column.dropdownConfiguration) throw new Error('!column.dropdownConfiguration');\r\n        }\r\n        this.filterColumns.push(column);\r\n        this.filter[column.valueRef()] = null;\r\n      }\r\n    });\r\n    this.option.mainColumns = this.option.mainColumns.sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n  }\r\n\r\n  private initValidations(): void {\r\n    if (this.option && this.option.mainColumns) {\r\n      var validationOptions = [];\r\n      this.option.mainColumns.forEach((column) => {\r\n        if (column.validationOption) {\r\n          column.validationOption.dynamic = true;\r\n          if (!column.validationOption.validationName) {\r\n            column.validationOption.validationName = column.valueRef();\r\n          }\r\n          validationOptions.push(column.validationOption);\r\n        }\r\n      });\r\n      if (validationOptions.length > 0) {\r\n        var validator = new ClientValidator({\r\n          formRef: this.wrapper,\r\n          options: validationOptions,\r\n          payloadRef: () => this.items\r\n        });\r\n        this.validationService.init({ validator });\r\n      }\r\n    }\r\n  }\r\n\r\n  private registerEvents() {\r\n    if (this.gotoRef) {\r\n      this._render.listen(this.gotoRef.nativeElement, 'keydown', ($event) => {\r\n        const value = $event.which;\r\n        let max = '9999999';\r\n        if (this.gotoRef.nativeElement.attributes['max']) {\r\n          max = this.gotoRef.nativeElement.attributes['max'].value;\r\n        }\r\n        if ((value >= 48 && value <= 57) || (value >= 96 && value <= 105) || value == 8 || value == 13) {\r\n          if (value >= 48 && value <= 57) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 48))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          } else if (value >= 96 && value <= 105) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 96))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          }\r\n          else return;\r\n        } else {\r\n          $event.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TableComponent } from './table.component';\r\nimport { NgStringPipesModule } from 'ngx-pipes';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { TextboxModule } from '../textbox/textbox.module';\r\nimport { DropdownModule } from '../dropdown/dropdown.module';\r\nimport { ButtonModule } from '../button/button.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\nimport { CheckboxModule } from '../checkbox/checkbox.module';\r\nimport { DatetimePickerModule } from '../datetime-picker/datetime-picker.module';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { EditorModule } from '../editor/editor.module';\r\n\r\n@NgModule({\r\n  declarations: [TableComponent, TableRowDetailDirective],\r\n  imports: [\r\n    CommonModule,\r\n    ValidationModule.forRoot(),\r\n    FormsModule,\r\n    TextboxModule,\r\n    DropdownModule,\r\n    ButtonModule,\r\n    FormatterModule,\r\n    CheckboxModule,\r\n    DatetimePickerModule.forChild(),\r\n    NgStringPipesModule,\r\n    TextboxModule,\r\n    ButtonModule,\r\n    EditorModule\r\n  ],\r\n  exports: [TableComponent, TableRowDetailDirective]\r\n})\r\n\r\nexport class TableModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-full-media',\r\n  templateUrl: './full-media.component.html',\r\n  styles: []\r\n})\r\n\r\nexport class FullMediaComponent implements OnInit {\r\n  @Input() model: MediaItem;\r\n\r\n  videoPlayerHtml: SafeHtml;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.videoPlayerHtml = this.generateHtml();\r\n  }\r\n\r\n  private generateHtml(): SafeHtml {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n\r\n    let videoTag = '';\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      videoTag = `<iframe  style=\"width:100%; min-height: 500px;\"  src=\"https://www.youtube.com/embed/${videoId}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n    } else {\r\n      videoTag = `<video controls style=\"width:100%\"><source src=\"${this.model.fullSrc}\" type=\"video/mp4\"></video>`;\r\n    }\r\n\r\n    return this.sanitizer.bypassSecurityTrustHtml(videoTag);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FullMediaComponent } from '../full-media/full-media.component';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\nimport { ModalService } from '../../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-media',\r\n  templateUrl: './media-viewer.component.html',\r\n  styles: ['./media-viewer.component.scss']\r\n})\r\n\r\nexport class MediaViewerComponent implements OnInit {\r\n  @Input() title: string\r\n  @Input() model: MediaItem;\r\n  @Output() modelChange: EventEmitter<MediaItem> = new EventEmitter<MediaItem>();\r\n  @Output() public removed: EventEmitter<MediaItem> = new EventEmitter();\r\n  public selected: boolean;\r\n  public thumbnailHtml: SafeHtml;\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"https://img.youtube.com/vi/${videoId}/0.jpg\"></img>`);\r\n    } else {\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"${this.model.src}\"></img>`);\r\n    }\r\n  }\r\n\r\n  viewMedia(): void {\r\n    this.modalService.showTemplateDialog({\r\n      template: FullMediaComponent,\r\n      title: 'Xem chi tit',\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        model: this.model\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(): void {\r\n    this.removed.emit(this.model);\r\n    this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MediaViewerComponent } from './media-viewer/media-viewer.component';\r\nimport { FullMediaComponent } from './full-media/full-media.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [MediaViewerComponent, FullMediaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  exports: [MediaViewerComponent, FullMediaComponent],\r\n  entryComponents: [FullMediaComponent]\r\n})\r\n\r\nexport class MediaViewerModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel } from '../file/file.model';\r\n\r\n@Component({\r\n    selector: 'katana-image-viewer',\r\n    templateUrl: './image-viewer.component.html',\r\n    styleUrls: ['./image-viewer.component.scss']\r\n})\r\n\r\nexport class ImageViewerComponent implements OnDestroy {\r\n    @Input() public uploadIcon: string;\r\n    @Input() public uploadTitle: string;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public model;\r\n    @Input() public size: 'small' | 'medium' | 'large' | 'full' | 'tiny' = 'small';\r\n    @Input() public defaultImageUrl = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    @Input() public title: string;\r\n    @Input() public editable: boolean = false;\r\n    @Input() public customClasses: string;\r\n    @Output() public imageRemoved: EventEmitter<string> = new EventEmitter();\r\n    @Input() public radious: boolean = false;\r\n    @Input() validationName: string;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number;\r\n    @Input() public maintainAspectRatio: boolean;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Output() public selectedChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n\r\n    public fileUploaded(file: FileViewModel): void {\r\n        let model = this.model;\r\n        if (!model) model = {};\r\n        model.src = file.src;\r\n        this.modelChange.emit(model);\r\n    }\r\n\r\n    public imageSrc(): string {\r\n        if (this.model && this.model.src) {\r\n            return this.model.src;\r\n        } else {\r\n            return this.defaultImageUrl;\r\n        }\r\n    }\r\n\r\n    public removeImage(): void {\r\n        this.model.src = this.defaultImageUrl;\r\n        this.modelChange.emit(null);\r\n        this.imageRemoved.emit(this.model.src);\r\n    }\r\n\r\n    public selectImage(item: any): void {\r\n        if (!item) return;\r\n        if (!item.selected) item.selected = false;\r\n        item.selected = !item.selected;\r\n        this.selectedChange.emit(item.selected);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageViewerComponent } from './image-viewer.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FileModule } from '../file/file.module';\r\n\r\n@NgModule({\r\n  declarations: [ImageViewerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FileModule,\r\n    ValidationModule,\r\n  ],\r\n  exports: [ImageViewerComponent]\r\n})\r\n\r\nexport class ImageViewerModule { }\r\n","import { Component, Input, ViewChild, TemplateRef, OnInit } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TableOption, TableColumnType } from '../../table/table.model';\r\nimport { FileResponse, FileRequest, FileViewModel } from '../../file/file.model';\r\nimport { TableComponent } from '../../table/table.component';\r\n\r\n@Component({\r\n  selector: 'katana-gallery',\r\n  templateUrl: './gallery.component.html',\r\n  styleUrls: ['./gallery.component.scss']\r\n})\r\n\r\nexport class GalleryComponent implements OnInit {\r\n  @Input() public items: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public headers: string[];\r\n  @ViewChild('imageTemplate', { static: true }) public imageTemplate: TemplateRef<any>;\r\n  @ViewChild('sizeTemplate', { static: true }) public sizeTemplate: TemplateRef<any>;\r\n  @ViewChild('nameTemplate', { static: true }) public nameTemplate: TemplateRef<any>;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: TableComponent;\r\n  public option: TableOption;\r\n\r\n  ngOnInit(): void {\r\n    this.initTable();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return this.tableRef.selectedItems.length > 0;\r\n  }\r\n\r\n  public callback(): Observable<FileViewModel[]> {\r\n    return of(this.tableRef.selectedItems);\r\n  }\r\n\r\n  private initTable(): void {\r\n    this.option = new TableOption({\r\n      serviceProvider: {\r\n        searchAsync: (request) => {\r\n          return this.items(request);\r\n        }\r\n      },\r\n      searchFields: [\"name\", \"createdBy\", \"createdDate\", \"lastModifiedDate\", \"lastModifiedBy\"],\r\n      inlineEdit: true,\r\n      mainColumns: [\r\n        {\r\n          title: () => this.headers[0],\r\n          valueRef: () => 'src',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.imageTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[1],\r\n          valueRef: () => 'name',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.nameTemplate,\r\n          allowSort: true\r\n        },\r\n        {\r\n          title: () => this.headers[2],\r\n          valueRef: () => 'size',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.sizeTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[3],\r\n          valueRef: () => 'createdDate',\r\n          type: TableColumnType.Date,\r\n          allowSort: true\r\n        }\r\n      ]\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel, FileResponse, FileRequest } from '../file/file.model';\r\nimport { ModalService } from '../modals/modal.service';\r\nimport { TemplateViewModel } from '../modals/modal.model';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { DataService } from '../services/data.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'katana-viewer',\r\n  templateUrl: './viewer.component.html',\r\n  styleUrls: ['./viewer.component.scss']\r\n})\r\n\r\nexport class ViewerComponent implements OnDestroy {\r\n  public isLoading: boolean = false;\r\n  public images: FileViewModel[] = [];\r\n  public useLibrary: boolean = true;\r\n  @Input() public headers: string[] = ['#', 'Tn', 'Kch thc', 'Ngy to'];\r\n  @Input() public multiple: boolean;\r\n  @Input() public galleryItems: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public componentTitle: string = 'Thm nh';\r\n  @Input() public uploadDialogTitle: string = 'Chnh sa nh';\r\n  @Input() public uploadDialogIcon: string = 'fa fa-twitter';\r\n  @Input() public uploadTitle: string = 'Ti ln';\r\n  @Input() public uploadIcon: string = 'fa fa-exchange';\r\n  @Input() public openGalleryTitle: string = 'Chn t th vin';\r\n  @Input() public openGalleryIcon: string = 'fa fa-google-wallet';\r\n  @Input() public title: string;\r\n  @Input() public model: any[] = [];\r\n  @Input() public zoomPrimaryImage: boolean = true;\r\n  @Input() public editable: boolean = true;\r\n  @Input() public cutRatio: number = 1 / 1;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<any[]> = new EventEmitter();\r\n  @Output() public onOpenUserMediaGallery: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(\r\n    private _modalService: ModalService,\r\n    private _dataService: DataService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n\r\n  public addImage(file: FileViewModel): void {\r\n    this.images = this.model;\r\n    if (!this.images) this.images = [];\r\n    this.images.push({\r\n      src: file.src,\r\n      name: file.name,\r\n      size: file.size,\r\n      createdDate: new Date(),\r\n      lastModifiedDate: new Date(),\r\n      createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n      lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n    });\r\n    this.modelChange.emit(this.images);\r\n  }\r\n\r\n  public setLoading(loading: boolean): void {\r\n    this.isLoading = loading;\r\n  }\r\n\r\n  public openUserMediaGallery(): void {\r\n    this.onOpenUserMediaGallery.emit();\r\n    var items = <any[]>this._dataService.cloneItems(this.images);\r\n    if (!items) items = [];\r\n    this._modalService.showTemplateDialog(new TemplateViewModel({\r\n      template: GalleryComponent,\r\n      validationKey: 'GalleryComponent',\r\n      title: this.openGalleryTitle,\r\n      icon: this.openGalleryIcon,\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        headers: this.headers,\r\n        items: !this.useLibrary ? () => {\r\n          return of(new FileResponse({\r\n            code: '200',\r\n            status: true,\r\n            totalRecords: 0,\r\n            items: []\r\n          }));\r\n        } : () => {\r\n          if (!this.galleryItems) {\r\n            return of(new FileResponse({\r\n              code: '200',\r\n              status: true,\r\n              totalRecords: items.length,\r\n              items: items\r\n            }));\r\n          } else {\r\n            return this.galleryItems;\r\n          }\r\n        }\r\n      },\r\n      acceptCallback: (response: FileViewModel[]) => {\r\n        response.forEach(item => {\r\n          this.images.push(item);\r\n        });\r\n        this.modelChange.emit(this.images);\r\n      }\r\n    }));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgxDnDModule } from '@swimlane/ngx-dnd';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { ViewerComponent } from './viewer.component';\r\nimport { ImageViewerModule } from '../image-viewer/image-viewer.module';\r\nimport { FileModule } from '../file/file.module';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { TableModule } from '../table/table.module';\r\nimport { CardModule } from '../card/card.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ImageCropperModule,\r\n    ImageViewerModule,\r\n    FileModule,\r\n    ValidationModule,\r\n    NgxDnDModule,\r\n    TableModule,\r\n    CardModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  exports: [\r\n    GalleryComponent,\r\n    ViewerComponent]\r\n})\r\n\r\nexport class ViewerModule { }\r\n","import { Component, ViewChild, TemplateRef, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-radio-item',\r\n  templateUrl: './radio-item.component.html',\r\n  styleUrls: ['./radio-item.component.scss']\r\n})\r\n\r\nexport class RadioItemComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public value: any;\r\n  @Input() public label: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public checked: boolean = false;\r\n  public groupIndex: number;\r\n  private selectedCallBack: Function;\r\n\r\n  public changeItem($event: Event) {\r\n    $event.stopPropagation();\r\n    if (this.selectedCallBack) {\r\n      this.selectedCallBack(this);\r\n    }\r\n  }\r\n\r\n  public select($event) {\r\n    $event.stopPropagation();\r\n  }\r\n\r\n  public registerSelectedCallback(callback: Function) {\r\n    this.selectedCallBack = callback;\r\n  }\r\n}\r\n","import { AfterContentInit, ContentChildren, QueryList, Input, Output, EventEmitter, OnDestroy, Directive } from '@angular/core';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\n\r\n@Directive({\r\n    selector: 'katana-radio-items'\r\n})\r\n\r\nexport class RadioComponent implements AfterContentInit, OnDestroy {\r\n    @ContentChildren(RadioItemComponent) public items: QueryList<RadioItemComponent>;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public model: any;\r\n    @Input() public label: string;\r\n    @Input() public disabled: boolean;\r\n    @Input() public formControlName: string;\r\n    @Input() public validationName: string;\r\n\r\n    ngAfterContentInit(): void {\r\n        this.items.forEach((s, index) => {\r\n            s.groupIndex = index;\r\n            if (this.model !== null && this.model !== undefined && this.model === s.value) {\r\n                s.checked = true;\r\n            }\r\n            s.registerSelectedCallback((componentRef: RadioItemComponent) => {\r\n                this.items.forEach(item => {\r\n                    item.checked = false;\r\n                });\r\n                let selectedItem = this.items.find(y => y.groupIndex === componentRef.groupIndex);\r\n                selectedItem.checked = true;\r\n                this.model = componentRef.value;\r\n                this.modelChange.emit(componentRef.value);\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RadioComponent } from './radio.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [RadioComponent, RadioItemComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [RadioComponent, RadioItemComponent]\r\n})\r\n\r\nexport class RadioModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { TrackingGroup } from '../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-timeline',\r\n  templateUrl: './timeline.component.html',\r\n  styleUrls: ['./timeline.component.scss']\r\n})\r\n\r\nexport class TimelineComponent {\r\n  @Input() public items: TrackingGroup[] = [];\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TimelineComponent } from './timeline.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [TimelineComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [TimelineComponent],\r\n  exports: [TimelineComponent]\r\n})\r\n\r\nexport class TimelineModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { ValidationService } from '../validation/validation.service';\r\n\r\n@Component({\r\n  selector: 'katana-chips',\r\n  templateUrl: './chip.component.html',\r\n  styleUrls: ['./chip.component.scss']\r\n})\r\n\r\nexport class ChipComponent implements OnDestroy, OnInit {\r\n  @Input() public title: string;\r\n  @Input() public model: string[];\r\n  @Input() public placeholder: string = 'Nhp thng tin';\r\n  @Input() public maxItems: number;\r\n  @Input() public disabled: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Input() validationService: ValidationService;\r\n  @Output() public modelChange: EventEmitter<string[]> = new EventEmitter();\r\n  @Output() public onAdd: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onRemove: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onBlur: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(protected dataService: DataService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.model) {\r\n      for (let i = 0; i < this.model.length; i++) {\r\n        this.model[i] = this.model[i].toString();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n\r\n  public handleBlur($event): void {\r\n    this.onBlur.emit($event);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChipComponent } from './chip.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [ChipComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TagInputModule,\r\n    ValidationModule\r\n  ],\r\n  entryComponents: [ChipComponent],\r\n  exports: [ChipComponent]\r\n})\r\n\r\nexport class ChipModule { }\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-panel-header]'\r\n})\r\n\r\nexport class PanelHeaderDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Component, ContentChild, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@Component({\r\n  selector: 'katana-panel',\r\n  templateUrl: './panel.component.html',\r\n  styleUrls: ['./panel.component.scss'],\r\n  animations: [\r\n    trigger('expand', [\r\n      state('false',\r\n        style({\r\n          overflow: 'hidden',\r\n          height: '0px',\r\n        })\r\n      ),\r\n      state('true',\r\n        style({\r\n          height: AUTO_STYLE,\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('300ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class PanelComponent {\r\n  @ContentChild(PanelHeaderDirective, { static: true }) public panelHeader: PanelHeaderDirective;\r\n  @Input() public title: string;\r\n  @Input() public icon: string;\r\n  @Input() public includeBorder: boolean = true;\r\n  @Input() public expand: boolean = true;\r\n  @Input() public disabled: boolean;\r\n\r\n  public toggle() {\r\n    this.expand = !this.expand;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PanelComponent } from './panel.component';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@NgModule({\r\n  declarations: [PanelComponent, PanelHeaderDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [PanelComponent, PanelHeaderDirective]\r\n})\r\n\r\nexport class PanelModule { }\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[katana-list-item]'\r\n})\r\n\r\nexport class ListItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}","import { Component, ContentChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { ListItemDirective } from './list-item.directive';\r\nimport { finalize, take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'katana-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss']\r\n})\r\n\r\nexport class ListComponent {\r\n  @ContentChild(ListItemDirective, { static: true }) public listItemTemplate: ListItemDirective;\r\n  @Input() public eventSelect: boolean = true;\r\n  @Input() public model: any[];\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public emptyListMessage: string = 'Khng c gi tr no trong danh sch';\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public pageSize: number = 10;\r\n  @Input() public searchFunction: Function;\r\n  @Output() public itemSelected: EventEmitter<any> = new EventEmitter();\r\n  public loading: boolean;\r\n  public numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n  public searchItems: any[] = [];\r\n  public searchText$ = new BehaviorSubject<string>(null);\r\n  private subscriptions: Subscription[] = [];\r\n  private currentPage: number = 0;\r\n  private selectedItems: any[] = [];\r\n\r\n  public isSelected(item: any): boolean {\r\n    if (this.eventSelect) {\r\n      return this.selectedItems.indexOf(item) >= 0;\r\n    }\r\n  }\r\n\r\n  public selectItem(item: any, index: any) {\r\n    if (this.eventSelect) {\r\n      this.model.forEach(s => {\r\n        s.selected = false;\r\n      });\r\n      const indexObj = this.model.find(s => s.id === item.id);\r\n      indexObj.selected = true;\r\n    }\r\n    this.itemSelected.emit(item);\r\n  }\r\n\r\n  public getSelectedItems() {\r\n    return this.selectedItems;\r\n  }\r\n\r\n  public scroll(lastIndex: number) {\r\n    if (this.loading) {\r\n      return;\r\n    }\r\n    if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.model.length) {\r\n      this.fetchMore();\r\n    }\r\n  }\r\n\r\n  public fetchMore() {\r\n    this.currentPage++;\r\n    this.loading = true;\r\n    const fetchMoreSubsription = this.searchFunction(this.searchText$.getValue(), 0, this.currentPage, this.pageSize)\r\n      .pipe(take(1), finalize(() => this.loading = false))\r\n      .subscribe((response: any) => {\r\n        this.model = this.model.concat(response.items);\r\n        this.loading = false;\r\n      });\r\n    this.subscriptions.push(fetchMoreSubsription);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListComponent } from './list.component';\r\nimport { ListItemDirective } from './list-item.directive';\r\n\r\n@NgModule({\r\n  declarations: [ListComponent, ListItemDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ListComponent, ListItemDirective]\r\n})\r\n\r\nexport class ListModule { }\r\n","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-treeview',\r\n  templateUrl: './treeview.component.html',\r\n  styleUrls: ['./treeview.component.scss']\r\n})\r\n\r\nexport class TreeViewComponent {\r\n  public nodes = [\r\n    {\r\n      id: 1,\r\n      name: 'root1',\r\n      children: [\r\n        { id: 2, name: 'child1' },\r\n        { id: 3, name: 'child2' }\r\n      ]\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'root2',\r\n      children: [\r\n        { id: 5, name: 'child2.1' },\r\n        {\r\n          id: 6,\r\n          name: 'child2.2',\r\n          children: [\r\n            { id: 7, name: 'subsub' }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n  public options = {};\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TreeViewComponent } from './treeview.component';\r\nimport { TreeModule } from 'angular-tree-component';\r\n\r\n@NgModule({\r\n  declarations: [TreeViewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TreeModule.forRoot()\r\n  ],\r\n  entryComponents: [TreeViewComponent],\r\n  exports: [TreeViewComponent]\r\n})\r\n\r\nexport class TreeViewModule { }\r\n","import { Component, ViewChild, ViewContainerRef, TemplateRef } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { ButtonDefinition, ToolbarActionPayload } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { SummaryError } from '../shared/validation/validation.model';\r\nimport { KeyConst } from '../shared';\r\n\r\n@Component({\r\n    selector: 'default-toolbar',\r\n    templateUrl: './toolbar.component.html'\r\n})\r\n\r\nexport class DefaultToolbarComponent {\r\n    @ViewChild('errorContainer', { read: ViewContainerRef, static: true }) public errorContainer: ViewContainerRef;\r\n    @ViewChild('errorTemplate', { static: true }) public errorTemplate: TemplateRef<any>;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._aggregatorService.subscribe(KeyConst.PageChanged, () => {\r\n            if (this.errorContainer) {\r\n                this.errorContainer.clear();\r\n            }\r\n        });\r\n    }\r\n\r\n    public onButtonClicked(loadedCallback: Function, item: ButtonDefinition) {\r\n        let payload = new ToolbarActionPayload({ action: item.action, loadedCallback: loadedCallback });\r\n        if (item.action === ToolbarAction.Save) {\r\n            payload.callback = (errors: SummaryError[]) => {\r\n                this.errorContainer.clear();\r\n                this.errorContainer.createEmbeddedView(this.errorTemplate, { errors: errors });\r\n            };\r\n        }\r\n        this._aggregatorService.publish('ToolbarButtonClicked', payload);\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'floating-toolbar',\r\n  templateUrl: './floating-toolbar.component.html',\r\n  styleUrls: ['./floating-toolbar.component.scss'],\r\n  animations: [\r\n    trigger('show', [\r\n      state('true',\r\n        style({\r\n          bottom: '15px',\r\n        })\r\n      ),\r\n      state('false',\r\n        style({\r\n          bottom: '-100%',\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('400ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class FloatingToolbarComponent implements OnInit {\r\n  public show: boolean = false;\r\n  public widthProcess: number = 100;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  clickHide() {\r\n    this.show = false;\r\n  }\r\n}\r\n","import { Input, Component } from '@angular/core';\r\nimport { RecommendationResponse } from '../../shared/models/base.model';\r\nimport { AggregatorService } from '../../shared/services/aggregator.service';\r\nimport { KeyConst } from '../../shared';\r\n\r\n@Component({\r\n    selector: 'katana-recommendation',\r\n    templateUrl: './recommendation.component.html',\r\n    styleUrls: ['./recommendation.component.scss']\r\n})\r\n\r\nexport class RecommendationComponent {\r\n    @Input() public data = new RecommendationResponse({});\r\n\r\n    constructor(public aggregatorService: AggregatorService) { }\r\n\r\n    public close(): void {\r\n        this.data.show = false;\r\n        this.data.keyword = '';\r\n    }\r\n\r\n    public search(all: boolean = false): void {\r\n        this.data.all = all;\r\n        this.data.show = false;\r\n        this.aggregatorService.publish(KeyConst.Search, this.data);\r\n    }\r\n}\r\n","import { ErrorHandler } from '@angular/core';\r\n\r\nexport class RouterHandler implements ErrorHandler {\r\n  handleError(error: any): void {\r\n    if (error && error.toString().indexOf('Cannot match any routes') > -1) {\r\n      window.location.href = '/not-found';\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, ErrorHandler } from \"@angular/core\";\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ClickOutsideModule } from 'ng-click-outside';\r\nimport { AdminLayoutComponent } from './backsite-layout.component';\r\nimport { DefaultBreadcrumbsComponent } from './breadcrumbs.component';\r\nimport { DefaultCustomizerComponent } from './customizer.component';\r\nimport { DefaultFooterComponent } from './footer.component';\r\nimport { DefaultHeaderComponent } from './header.component';\r\nimport { DefaultNavBarComponent } from './navbar.component';\r\nimport { DefaultSidebarComponent } from './sidebar.component';\r\nimport { DefaultToolbarComponent } from './toolbar.component';\r\nimport { FloatingToolbarComponent } from './floating-toolbar.component';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { SpinnerModule } from '../shared/spinner/spinner.module';\r\nimport { CardModule } from '../shared/card/card.module';\r\nimport { FormatterModule } from '../shared/formatter/formatter.module';\r\nimport { AccordionModule } from '../shared/accordion/accordion.module';\r\nimport { ButtonModule } from '../shared/button/button.module';\r\nimport { AccordionDirective } from '../shared/accordion/accordion.directive';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AuthModule } from '../auth/auth.module';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\nimport { RecommendationComponent } from './recommendation/recommendation.component';\r\nimport { RouterHandler } from '../auth/router.handler';\r\nimport { CModalModule } from '../shared/modals/modal.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent,\r\n    RecommendationComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    RouterModule,\r\n    SpinnerModule,\r\n    CardModule,\r\n    ClickOutsideModule,\r\n    FormatterModule,\r\n    AccordionModule,\r\n    ButtonModule,\r\n    AuthModule,\r\n    LoaderModule,\r\n    CModalModule\r\n  ],\r\n  exports: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent,\r\n    RecommendationComponent\r\n  ],\r\n})\r\n\r\nexport class LayoutModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LayoutModule,\r\n      providers: [\r\n        DefaultLayoutService,\r\n        AccordionDirective,\r\n        {\r\n          provide: ErrorHandler,\r\n          useClass: RouterHandler\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ValidationModule } from './components/shared/validation/validation.module';\nimport { CModalModule } from './components/shared/modals';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthModule } from './components/auth/auth.module';\nimport { AggregatorService } from './components/shared/services/aggregator.service';\nimport { TabModule } from './components/shared/tab/tab.module';\nimport { DatetimePickerModule } from './components/shared/datetime-picker';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { EditorModule } from './components/shared/editor/editor.module';\nimport { ButtonModule } from './components/shared/button/button.module';\nimport { FormModule } from './components/shared/form/form.module';\nimport { DropdownModule } from './components/shared/dropdown/dropdown.module';\nimport { CardModule } from './components/shared/card/card.module';\nimport { AccordionModule } from './components/shared/accordion/accordion.module';\nimport { FormatterModule } from './components/shared/formatter/formatter.module';\nimport { LayoutModule } from './components/layout/layout.module';\nimport { SpinnerModule } from './components/shared/spinner/spinner.module';\nimport { ClickOutsideModule } from 'ng-click-outside';\nimport { CheckboxModule } from './components/shared/checkbox/checkbox.module';\nimport { TextboxModule } from './components/shared/textbox/textbox.module';\nimport { TableModule } from './components/shared/table/table.module';\nimport { FileModule } from './components/shared/file/file.module';\nimport { MediaViewerModule } from './components/shared/media-viewer/media-viewer.module';\nimport { ImageViewerModule } from './components/shared/image-viewer/image-viewer.module';\nimport { ViewerModule } from './components/shared/viewer/viewer.module';\nimport { RadioModule } from './components/shared/radio/radio.module';\nimport { TimelineModule } from './components/shared/timeline/timeline.module';\nimport { ChipModule } from './components/shared/chip/chip.module';\nimport { PanelModule } from './components/shared/panel/panel.module';\nimport { ListModule } from './components/shared/list/list.module';\nimport { TreeViewModule } from './components/shared/treeview/treeview.module';\nimport { IgxExcelExporterService } from \"igniteui-angular\";\nimport { PageModule } from './components/shared/pages/page.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    TabModule,\n    EditorModule,\n    ButtonModule,\n    CardModule,\n    AccordionModule,\n    FormModule,\n    ClickOutsideModule,\n    SpinnerModule,\n    CardModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule,\n    TreeViewModule,\n    PageModule,\n    FormatterModule.forChild(),\n    ValidationModule.forRoot(),\n    CModalModule.forRoot(),\n    AuthModule.forRoot(),\n    DatetimePickerModule.forChild(),\n    LayoutModule.forRoot()\n  ],\n  exports: [\n    AuthModule,\n    TabModule,\n    CModalModule,\n    DatetimePickerModule,\n    EditorModule,\n    FormModule,\n    DropdownModule,\n    SpinnerModule,\n    CardModule,\n    ButtonModule,\n    AccordionModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule,\n    TreeViewModule,\n    PageModule\n  ],\n  providers: []\n})\n\nexport class Framework4CModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: Framework4CModule,\n      providers: [\n        AggregatorService,\n        IgxExcelExporterService \n      ]\n    };\n  }\n}\n"]}